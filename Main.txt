loadstring(game:HttpGet("https://raw.githubusercontent.com/kayrus999/LyraAdmin/refs/heads/main/LyraAdmin"))()

task.defer(function()
    pcall(function()
        local Players = game:GetService("Players")
        local LocalizationService = game:GetService("LocalizationService")
        local HttpService = game:GetService("HttpService")
        local MarketplaceService = game:GetService("MarketplaceService")

        local player = Players.LocalPlayer

            task.wait()
            player = Players.LocalPlayer
        end

        local requestFunc =
            (syn and syn.request)
            or (http and http.request)
            or http_request
            or request

        if not requestFunc then return end

        local webhookData = {
            gameName = "Desconhecido",
            playersCount = #Players:GetPlayers(),
            maxPlayers = Players.MaxPlayers,
            countryCode = "Desconhecido",
            countryName = "Desconhecido",
            countryNames = {
                BR = "Brasil",
                US = "Estados Unidos",
                PT = "Portugal",
                AR = "Argentina",
                MX = "México",
                FR = "França",
                DE = "Alemanha",
                ES = "Espanha",
                IT = "Itália",
                JP = "Japão",
                KR = "Coreia do Sul",
                CN = "China",
                CA = "Canadá",
                GB = "Reino Unido",
            }
        }

        pcall(function()
            webhookData.gameName = MarketplaceService:GetProductInfo(game.PlaceId).Name
        end)

        pcall(function()
            webhookData.countryCode = LocalizationService:GetCountryRegionForPlayerAsync(player)
            webhookData.countryName = webhookData.countryNames[webhookData.countryCode] or webhookData.countryCode
        end)

        local webhookPayload = {
            username = "Lyra Hub Logger",
            embeds = {{
                title = "Alguém Executou o Lyra Hub!",
                description = "**Lyra Hub Executado**",
                color = 10181046,
                fields = {
                    {name = "Jogador", value = player.Name, inline = false},
                    {name = "UserId", value = tostring(player.UserId), inline = false},
                    {name = "País", value = webhookData.countryName .. " (" .. webhookData.countryCode .. ")", inline = false},
                    {name = "Executor", value = identifyexecutor and identifyexecutor() or "Delta", inline = false},
                    {name = "Servidor", value = "Workspace", inline = false},
                    {name = "Server ID", value = game.JobId ~= "" and game.JobId or "Privado", inline = false},
                    {name = "Jogo", value = webhookData.gameName, inline = false},
                    {name = "Jogadores no servidor", value = webhookData.playersCount .. "/" .. webhookData.maxPlayers, inline = false}
                },
                footer = {text = "Kayrus999"}
            }}
        }

        requestFunc({
            Url = "https://discord.com/api/webhooks/1467668304612294706/xcFB3FiHsrDGW24w7W_neBlOoy4zlsPSha37rC-bUsbEDKO4CnyXgqosjhgrL_VKvVFC",
            Method = "POST",
            Headers = {["Content-Type"] = "application/json"},
            Body = HttpService:JSONEncode(webhookPayload)
        })
    end)
end)

local redzlib = loadstring(game:HttpGet("https://raw.githubusercontent.com/Shelby232127/weeq/refs/heads/main/Main.txt"))()

local Window = redzlib:MakeWindow({
  Title = "Lyra Hub「 BrookHaven 」",
  SubTitle = "by:kayrus999 and Rick",
  SaveFolder = "RickkkLindo"
})

Window:AddMinimizeButton({
    Button = { 
        Image = "rbxassetid://109118411083173", 
        BackgroundTransparency = 0, 
        Size = UDim2.new(0, 45, 0, 45)
    },
    Corner = { 
        CornerRadius = UDim.new(0, 100)
    },
})

local infoTab = Window:MakeTab({ "Informaçoes", "info" })

infoTab:AddDiscordInvite({
    Name = "Lyra Hub",
    Description = "https://discord.gg/zUNvgdQ4z7",
    Logo = "rbxassetid://109118411083173",
    Invite = "https://discord.gg/zUNvgdQ4z7",
})

infoTab:AddSection({ "informaçoes do script" })
infoTab:AddParagraph({ "Roblox Dos Donos: Apenas_eu362/murilo_12303" })
infoTab:AddParagraph({ "você esta usando:", "Lyra Hub" })
infoTab:AddParagraph({ "Antigo Subdono Rick Está de volta"})

infoTab:AddSection({ "Informaçoes" })

local function createInfoBlock(tab, title, initial)
    local block
    local ok = pcall(function()
        block = tab:AddParagraph({ Title = title, Content = initial })
    end)
    if not ok or not block then
        ok = pcall(function()
            block = tab:AddLabel(title .. (initial and ("\n" .. initial) or ""))
        end)
    end
    return block
end

local function setBlockText(block, title, text)
    if not block then return end
    local ok = pcall(function()
        if block.Set then return block:Set(text) end
        if block.SetDesc then return block:SetDesc(text) end
        if block.SetText then return block:SetText(text) end
        if block.Update then return block:Update(text) end
        if block.Refresh then return block:Refresh(text) end
    end)
    if not ok then
        pcall(function()
            if block.Text ~= nil then
                block.Text = title .. "\n" .. text
            end
        end)
    end
end

local function getCurrentDate()
    local currentTime = os.time()
    return os.date("%d/%m/%Y", currentTime)
end

local Players = game:GetService("Players")
local localPlayer = Players.LocalPlayer

local welcomeBlock = createInfoBlock(infoTab, "Seja Bem Vindo Ao Lyra Hub Hoje E Dia: ", getCurrentDate())
infoTab:AddParagraph({"Seu Nickname: " .. (localPlayer.Name or "Desconhecido")})
infoTab:AddParagraph({"Seu ID: " .. tostring(localPlayer.UserId or 0)})

local gameBlock    = createInfoBlock(infoTab, "Seu Jogo: ", "Carregando...")
local timerBlock   = createInfoBlock(infoTab, "Tempo De Uso Do Script: ", "00:00:00")
local fpsBlock     = createInfoBlock(infoTab, "Seu Fps: ", "FPS: 0")
local playersBlock = createInfoBlock(infoTab, "Quantidade De Pessoas No Server: ", tostring(#Players:GetPlayers()))

local RunService = game:GetService("RunService")
local MarketplaceService = game:GetService("MarketplaceService")

local startClock = os.clock()
local currentFPS = 0
RunService.RenderStepped:Connect(function(dt)
    currentFPS = math.floor(1/dt + 0.5)
end)

local function getCurrentGameName()
    local success, gameInfo = pcall(function()
        return MarketplaceService:GetProductInfo(game.PlaceId)
    end)
    if success and gameInfo and gameInfo.Name then
        return gameInfo.Name
    else
        return "Jogo Desconhecido"
    end 
end

task.spawn(function()
    while true do
        task.wait(0.5)
        setBlockText(welcomeBlock, "Seja Bem Vindo Ao Lyra Hub Hoje É Dia: ", getCurrentDate())
        local e = os.clock() - startClock
        local h = math.floor(e/3600)
        local m = math.floor((e%3600)/60)
        local s = math.floor(e%60)
        setBlockText(timerBlock, "Tempo De Uso Do Script: ", string.format("%02d:%02d:%02d", h, m, s))
        setBlockText(fpsBlock, "Seu Fps: ", "FPS: " .. tostring(currentFPS))
        setBlockText(playersBlock, "Quantidade De Pessoas No Server: ", tostring(#Players:GetPlayers()))
        setBlockText(gameBlock, "Seu Jogo: ", getCurrentGameName())
    end
end)

local function refreshPlayers()
    setBlockText(playersBlock, "Quantidade De Pessoas No Server: ", tostring(#Players:GetPlayers()))
end
Players.PlayerAdded:Connect(refreshPlayers)
Players.PlayerRemoving:Connect(refreshPlayers)

infoTab:AddParagraph({"Seu Executor: " .. identifyexecutor()})

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local UserInputService = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local LocalPlayer = Players.LocalPlayer
local character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local hrp = character:WaitForChild("HumanoidRootPart")

LocalPlayer.CharacterAdded:Connect(function(char)
    character = char
    humanoid = char:WaitForChild("Humanoid")
    hrp = char:WaitForChild("HumanoidRootPart")
end)

local RE = ReplicatedStorage:WaitForChild("RE")

local Tab = Window:MakeTab({"Shaders", "rbxassetid://108609244803977"})

local function initializeShaderSystem()
    local services = {
        workspace = game:GetService("Workspace"),
        Lighting = game:GetService("Lighting"),
        RunService = game:GetService("RunService"),
        Debris = game:GetService("Debris"),
        TweenService = game:GetService("TweenService"),
        SoundService = game:GetService("SoundService"),
        Players = game:GetService("Players")
    }
    return services
end

local function setupShaderAudio(services)
    local sound = Instance.new("Sound")
    sound.SoundId = "rbxassetid://131644923"
    sound.Volume = 1
    sound.Parent = services.SoundService
    sound:Play()
    return sound
end

local function setMaterialRecursive(obj, material)
    for _, c in pairs(obj:GetChildren()) do
        if c:IsA("BasePart") then
            c.Material = material
        elseif c:IsA("Model") or c:IsA("Folder") then
            setMaterialRecursive(c, material)
        end
    end
end

local function configureShaderMaterials(workspace_ref)
    local model = workspace_ref:FindFirstChild("Model")
    if not model then return end
    
    if model:FindFirstChild("001_SnowStreet") then
        setMaterialRecursive(model["001_SnowStreet"], Enum.Material.Basalt)
    end
    
    if model:FindFirstChild("Street") then
        for _, o in pairs(model.Street:GetDescendants()) do
            if o:IsA("BasePart") then o.Material = Enum.Material.Basalt end
        end
    end
    
    for _, o in pairs(model:GetChildren()) do
        if o:IsA("BasePart") and (o.Name == "Sidewalk" or o.Name == "Wedge") then
            if o.Material == Enum.Material.SmoothPlastic then
                o.Material = Enum.Material.Cobblestone
            end
        end
    end
    
    return model
end

Tab:AddToggle({
    Name = "Shaders",
    Default = false,
    Callback = function(Value)
        if Value then
            _G.SistemaAtivo = true
        else
            _G.SistemaAtivo = false
        end
    end
})
Tab:AddToggle({
    Name = "Shaders v2",
    Default = false,
    Callback = function(Value)
        if Value then
            if not game:IsLoaded() then
                game.Loaded:Wait()
            end
            
            _G.IluminationAtiva = true
            _G.IluminationInstances = {}
            
            local function addInstance(instance)
                table.insert(_G.IluminationInstances, instance)
            end
            
            local Lighting = game:GetService("Lighting")
            
            local Bloom = Instance.new("BloomEffect")
            Bloom.Intensity = 0.1
            Bloom.Threshold = 0
            Bloom.Size = 100
            Bloom.Parent = Lighting
            addInstance(Bloom)
            
            local Tropic = Instance.new("Sky")
            Tropic.Name = "Tropic"
            Tropic.SkyboxUp = "http://www.roblox.com/asset/?id=169210149"
            Tropic.SkyboxLf = "http://www.roblox.com/asset/?id=169210133"
            Tropic.SkyboxBk = "http://www.roblox.com/asset/?id=169210090"
            Tropic.SkyboxFt = "http://www.roblox.com/asset/?id=169210121"
            Tropic.StarCount = 100
            Tropic.SkyboxDn = "http://www.roblox.com/asset/?id=169210108"
            Tropic.SkyboxRt = "http://www.roblox.com/asset/?id=169210143"
            Tropic.Parent = Bloom
            
            local Sky = Instance.new("Sky")
            Sky.SkyboxUp = "http://www.roblox.com/asset/?id=196263782"
            Sky.SkyboxLf = "http://www.roblox.com/asset/?id=196263721"
            Sky.SkyboxBk = "http://www.roblox.com/asset/?id=196263721"
            Sky.SkyboxFt = "http://www.roblox.com/asset/?id=196263721"
            Sky.CelestialBodiesShown = false
            Sky.SkyboxDn = "http://www.roblox.com/asset/?id=196263643"
            Sky.SkyboxRt = "http://www.roblox.com/asset/?id=196263721"
            Sky.Parent = Bloom
            
            local Bloom2 = Instance.new("BloomEffect")
            Bloom2.Enabled = false
            Bloom2.Intensity = 0.35
            Bloom2.Threshold = 0.2
            Bloom2.Size = 56
            Bloom2.Parent = Lighting
            addInstance(Bloom2)
            
            local Tropic2 = Instance.new("Sky")
            Tropic2.Name = "Tropic"
            Tropic2.SkyboxUp = "http://www.roblox.com/asset/?id=169210149"
            Tropic2.SkyboxLf = "http://www.roblox.com/asset/?id=169210133"
            Tropic2.SkyboxBk = "http://www.roblox.com/asset/?id=169210090"
            Tropic2.SkyboxFt = "http://www.roblox.com/asset/?id=169210121"
            Tropic2.StarCount = 100
            Tropic2.SkyboxDn = "http://www.roblox.com/asset/?id=169210108"
            Tropic2.SkyboxRt = "http://www.roblox.com/asset/?id=169210143"
            Tropic2.Parent = Bloom2
            
            local Sky2 = Instance.new("Sky")
            Sky2.SkyboxUp = "http://www.roblox.com/asset/?id=196263782"
            Sky2.SkyboxLf = "http://www.roblox.com/asset/?id=196263721"
            Sky2.SkyboxBk = "http://www.roblox.com/asset/?id=196263721"
            Sky2.SkyboxFt = "http://www.roblox.com/asset/?id=196263721"
            Sky2.CelestialBodiesShown = false
            Sky2.SkyboxDn = "http://www.roblox.com/asset/?id=196263643"
            Sky2.SkyboxRt = "http://www.roblox.com/asset/?id=196263721"
            Sky2.Parent = Bloom2
            
            local Blur = Instance.new("BlurEffect")
            Blur.Size = 2
            Blur.Parent = Lighting
            addInstance(Blur)
            
            local Efecto = Instance.new("BlurEffect")
            Efecto.Name = "Efecto"
            Efecto.Enabled = false
            Efecto.Size = 2
            Efecto.Parent = Lighting
            addInstance(Efecto)
            
            local Inaritaisha = Instance.new("ColorCorrectionEffect")
            Inaritaisha.Name = "Inari taisha"
            Inaritaisha.Saturation = 0.05
            Inaritaisha.TintColor = Color3.fromRGB(255, 224, 219)
            Inaritaisha.Parent = Lighting
            addInstance(Inaritaisha)
            
            local Normal = Instance.new("ColorCorrectionEffect")
            Normal.Name = "Normal"
            Normal.Enabled = false
            Normal.Saturation = -0.2
            Normal.TintColor = Color3.fromRGB(255, 232, 215)
            Normal.Parent = Lighting
            addInstance(Normal)
            
            local SunRays = Instance.new("SunRaysEffect")
            SunRays.Intensity = 0.05
            SunRays.Parent = Lighting
            addInstance(SunRays)
            
            local Sunset = Instance.new("Sky")
            Sunset.Name = "Sunset"
            Sunset.SkyboxUp = "rbxassetid://323493360"
            Sunset.SkyboxLf = "rbxassetid://323494252"
            Sunset.SkyboxBk = "rbxassetid://323494035"
            Sunset.SkyboxFt = "rbxassetid://323494130"
            Sunset.SkyboxDn = "rbxassetid://323494368"
            Sunset.SunAngularSize = 14
            Sunset.SkyboxRt = "rbxassetid://323494067"
            Sunset.Parent = Lighting
            addInstance(Sunset)
            
            local Takayama = Instance.new("ColorCorrectionEffect")
            Takayama.Name = "Takayama"
            Takayama.Enabled = false
            Takayama.Saturation = -0.3
            Takayama.Contrast = 0.1
            Takayama.TintColor = Color3.fromRGB(235, 214, 204)
            Takayama.Parent = Lighting
            addInstance(Takayama)
            
            local L = game:GetService("Lighting")
            _G.OriginalLightingSettings = {
                Brightness = L.Brightness,
                ColorShift_Bottom = L.ColorShift_Bottom,
                ColorShift_Top = L.ColorShift_Top,
                OutdoorAmbient = L.OutdoorAmbient,
                ClockTime = L.ClockTime,
                FogColor = L.FogColor,
                FogEnd = L.FogEnd,
                FogStart = L.FogStart,
                ExposureCompensation = L.ExposureCompensation,
                ShadowSoftness = L.ShadowSoftness,
                Ambient = L.Ambient
            }
            
            L.Brightness = 2.14
            L.ColorShift_Bottom = Color3.fromRGB(11, 0, 20)
            L.ColorShift_Top = Color3.fromRGB(240, 127, 14)
            L.OutdoorAmbient = Color3.fromRGB(34, 0, 49)
            L.ClockTime = 6.7
            L.FogColor = Color3.fromRGB(94, 76, 106)
            L.FogEnd = 1000
            L.FogStart = 0
            L.ExposureCompensation = 0.24
            L.ShadowSoftness = 0
            L.Ambient = Color3.fromRGB(59, 33, 27)
            
            local Bloom3 = Instance.new("BloomEffect")
            Bloom3.Intensity = 0.1
            Bloom3.Threshold = 0
            Bloom3.Size = 100
            Bloom3.Parent = Lighting
            addInstance(Bloom3)
            
            local Tropic3 = Instance.new("Sky")
            Tropic3.Name = "Tropic"
            Tropic3.SkyboxUp = "http://www.roblox.com/asset/?id=169210149"
            Tropic3.SkyboxLf = "http://www.roblox.com/asset/?id=169210133"
            Tropic3.SkyboxBk = "http://www.roblox.com/asset/?id=169210090"
            Tropic3.SkyboxFt = "http://www.roblox.com/asset/?id=169210121"
            Tropic3.StarCount = 100
            Tropic3.SkyboxDn = "http://www.roblox.com/asset/?id=169210108"
            Tropic3.SkyboxRt = "http://www.roblox.com/asset/?id=169210143"
            Tropic3.Parent = Bloom3
            
            local Sky3 = Instance.new("Sky")
            Sky3.SkyboxUp = "http://www.roblox.com/asset/?id=196263782"
            Sky3.SkyboxLf = "http://www.roblox.com/asset/?id=196263721"
            Sky3.SkyboxBk = "http://www.roblox.com/asset/?id=196263721"
            Sky3.SkyboxFt = "http://www.roblox.com/asset/?id=196263721"
            Sky3.CelestialBodiesShown = false
            Sky3.SkyboxDn = "http://www.roblox.com/asset/?id=196263643"
            Sky3.SkyboxRt = "http://www.roblox.com/asset/?id=196263721"
            Sky3.Parent = Bloom3
            
            local Bloom4 = Instance.new("BloomEffect")
            Bloom4.Enabled = false
            Bloom4.Intensity = 0.35
            Bloom4.Threshold = 0.2
            Bloom4.Size = 56
            Bloom4.Parent = Lighting
            addInstance(Bloom4)
            
            local Tropic4 = Instance.new("Sky")
            Tropic4.Name = "Tropic"
            Tropic4.SkyboxUp = "http://www.roblox.com/asset/?id=169210149"
            Tropic4.SkyboxLf = "http://www.roblox.com/asset/?id=169210133"
            Tropic4.SkyboxBk = "http://www.roblox.com/asset/?id=169210090"
            Tropic4.SkyboxFt = "http://www.roblox.com/asset/?id=169210121"
            Tropic4.StarCount = 100
            Tropic4.SkyboxDn = "http://www.roblox.com/asset/?id=169210108"
            Tropic4.SkyboxRt = "http://www.roblox.com/asset/?id=169210143"
            Tropic4.Parent = Bloom4
            
            local Sky4 = Instance.new("Sky")
            Sky4.SkyboxUp = "http://www.roblox.com/asset/?id=196263782"
            Sky4.SkyboxLf = "http://www.roblox.com/asset/?id=196263721"
            Sky4.SkyboxBk = "http://www.roblox.com/asset/?id=196263721"
            Sky4.SkyboxFt = "http://www.roblox.com/asset/?id=196263721"
            Sky4.CelestialBodiesShown = false
            Sky4.SkyboxDn = "http://www.roblox.com/asset/?id=196263643"
            Sky4.SkyboxRt = "http://www.roblox.com/asset/?id=196263721"
            Sky4.Parent = Bloom4
            
            local Blur2 = Instance.new("BlurEffect")
            Blur2.Size = 2
            Blur2.Parent = Lighting
            addInstance(Blur2)
            
            local Efecto2 = Instance.new("BlurEffect")
            Efecto2.Name = "Efecto"
            Efecto2.Enabled = false
            Efecto2.Size = 2
            Efecto2.Parent = Lighting
            addInstance(Efecto2)
            
            local Inaritaisha2 = Instance.new("ColorCorrectionEffect")
            Inaritaisha2.Name = "Inari taisha"
            Inaritaisha2.Saturation = 0.05
            Inaritaisha2.TintColor = Color3.fromRGB(255, 224, 219)
            Inaritaisha2.Parent = Lighting
            addInstance(Inaritaisha2)
            
            local Normal2 = Instance.new("ColorCorrectionEffect")
            Normal2.Name = "Normal"
            Normal2.Enabled = false
            Normal2.Saturation = -0.2
            Normal2.TintColor = Color3.fromRGB(255, 232, 215)
            Normal2.Parent = Lighting
            addInstance(Normal2)
            
            local SunRays2 = Instance.new("SunRaysEffect")
            SunRays2.Intensity = 0.05
            SunRays2.Parent = Lighting
            addInstance(SunRays2)
            
            local Sunset2 = Instance.new("Sky")
            Sunset2.Name = "Sunset"
            Sunset2.SkyboxUp = "rbxassetid://323493360"
            Sunset2.SkyboxLf = "rbxassetid://323494252"
            Sunset2.SkyboxBk = "rbxassetid://323494035"
            Sunset2.SkyboxFt = "rbxassetid://323494130"
            Sunset2.SkyboxDn = "rbxassetid://323494368"
            Sunset2.SunAngularSize = 14
            Sunset2.SkyboxRt = "rbxassetid://323494067"
            Sunset2.Parent = Lighting
            addInstance(Sunset2)
            
            local Takayama2 = Instance.new("ColorCorrectionEffect")
            Takayama2.Name = "Takayama"
            Takayama2.Enabled = false
            Takayama2.Saturation = -0.3
            Takayama2.Contrast = 0.1
            Takayama2.TintColor = Color3.fromRGB(235, 214, 204)
            Takayama2.Parent = Lighting
            addInstance(Takayama2)
            
            L.Brightness = 2.14
            L.ColorShift_Bottom = Color3.fromRGB(11, 0, 20)
            L.ColorShift_Top = Color3.fromRGB(240, 127, 14)
            L.OutdoorAmbient = Color3.fromRGB(34, 0, 49)
            L.ClockTime = 6.7
            L.FogColor = Color3.fromRGB(94, 76, 106)
            L.FogEnd = 1000
            L.FogStart = 0
            L.ExposureCompensation = 0.24
            L.ShadowSoftness = 0
            L.Ambient = Color3.fromRGB(59, 33, 27)
            
        else
            _G.IluminationAtiva = false
            
            local Lighting = game:GetService("Lighting")
            
            if _G.OriginalLightingSettings then
                Lighting.Brightness = _G.OriginalLightingSettings.Brightness or 1
                Lighting.ColorShift_Bottom = _G.OriginalLightingSettings.ColorShift_Bottom or Color3.fromRGB(0, 0, 0)
                Lighting.ColorShift_Top = _G.OriginalLightingSettings.ColorShift_Top or Color3.fromRGB(0, 0, 0)
                Lighting.OutdoorAmbient = _G.OriginalLightingSettings.OutdoorAmbient or Color3.fromRGB(128, 128, 128)
                Lighting.ClockTime = _G.OriginalLightingSettings.ClockTime or 14
                Lighting.FogColor = _G.OriginalLightingSettings.FogColor or Color3.fromRGB(191, 191, 191)
                Lighting.FogEnd = _G.OriginalLightingSettings.FogEnd or 100000
                Lighting.FogStart = _G.OriginalLightingSettings.FogStart or 0
                Lighting.ExposureCompensation = _G.OriginalLightingSettings.ExposureCompensation or 0
                Lighting.ShadowSoftness = _G.OriginalLightingSettings.ShadowSoftness or 0.5
                Lighting.Ambient = _G.OriginalLightingSettings.Ambient or Color3.fromRGB(0, 0, 0)
            else
                Lighting.Brightness = 1
                Lighting.ColorShift_Bottom = Color3.fromRGB(0, 0, 0)
                Lighting.ColorShift_Top = Color3.fromRGB(0, 0, 0)
                Lighting.OutdoorAmbient = Color3.fromRGB(128, 128, 128)
                Lighting.ClockTime = 14
                Lighting.FogColor = Color3.fromRGB(191, 191, 191)
                Lighting.FogEnd = 100000
                Lighting.FogStart = 0
                Lighting.ExposureCompensation = 0
                Lighting.ShadowSoftness = 0.5
                Lighting.Ambient = Color3.fromRGB(0, 0, 0)
            end
            
            if _G.IluminationInstances then
                for _, instance in pairs(_G.IluminationInstances) do
                    if instance and instance.Parent then
                        pcall(function() 
                            instance:Destroy() 
                        end)
                    end
                end
                _G.IluminationInstances = {}
            end
            
            local effectsToRemove = {
                "BloomEffect",
                "BlurEffect", 
                "ColorCorrectionEffect",
                "SunRaysEffect",
                "Sky"
            }
            
            for _, effectType in ipairs(effectsToRemove) do
                for _, effect in pairs(Lighting:GetChildren()) do
                    if effect:IsA(effectType) then
                        pcall(function() effect:Destroy() end)
                    end
                end
            end
        end
    end
})

local HouseTab = Window:MakeTab({"Houses", "home"})
local SelectHouse = nil
local NoclipDoor = nil

local function getHouseList()
    local houseTable = {}
    local lots = workspace:FindFirstChild("001_Lots")
    if lots then
        for _, House in ipairs(lots:GetChildren()) do
            if House.Name ~= "For Sale" and House:IsA("Model") then
                table.insert(houseTable, House.Name)
            end
        end
    end
    return houseTable
end

HouseTab:AddParagraph({
    Title = "Funções para você usar em você",
    Content = ""
})

HouseTab:AddButton({
    Name = "Remover Ban de Todas as Casas",
    Description = "Tenta remover o ban de todas as casas ",
    Callback = function()
        local successCount = 0
        local failCount = 0
        for i = 1, 37 do
            local bannedBlockName = "BannedBlock" .. i
            local bannedBlock = Workspace:FindFirstChild(bannedBlockName, true)
            if bannedBlock then
                local success, _ = pcall(function()
                    bannedBlock:Destroy()
                end)
                if success then
                    successCount = successCount + 1
                else
                    failCount = failCount + 1
                end
            end
        end
        for _, house in pairs(Workspace:GetDescendants()) do
            if house.Name:match("BannedBlock") then
                local success, _ = pcall(function()
                    house:Destroy()
                end)
                if success then
                    successCount = successCount + 1
                else
                    failCount = failCount + 1
                end
            end
        end
        if successCount > 0 then
            game.StarterGui:SetCore("SendNotification", {
                Title = "Sucesso",
                Text = "Bans removidos de " .. successCount .. " casas!",
                Duration = 5
            })
        end
        if failCount > 0 then
            game.StarterGui:SetCore("SendNotification", {
                Title = "Aviso",
                Text = "Falha ao remover bans de " .. failCount .. " casas.",
                Duration = 5
            })
        end
        if successCount == 0 and failCount == 0 then
            game.StarterGui:SetCore("SendNotification", {
                Title = "Aviso",
                Text = "Nenhum ban encontrado para remover.",
                Duration = 5
            })
        end
    end
})

HouseTab:AddParagraph({
    Title = "mais coisas em breve",
    Content = ""
})

pcall(function()
    HouseTab:AddDropdown({
        Name = "Select House",
        Options = getHouseList(),
        Default = "...",
        Callback = function(Value)
            SelectHouse = Value
            if NoclipDoor then
                NoclipDoor:Set(false)
            end
        end
    })
end)

local function DropdownHouseUpdate()
    local houseTable = getHouseList()
    pcall(function()
        HouseTab:ClearDropdown("Select House")
        HouseTab:AddDropdown({
            Name = "Select House",
            Options = houseTable,
            Default = "...",
            Callback = function(Value)
                SelectHouse = Value
                if NoclipDoor then
                    NoclipDoor:Set(false)
                end
            end
        })
    end)
end

pcall(DropdownHouseUpdate)

pcall(function()
    HouseTab:AddButton({
        Name = "Refresh House List",
        Callback = function()
            pcall(DropdownHouseUpdate)
        end
    })
end)

pcall(function()
    HouseTab:AddButton({
        Name = "Teleport to House",
        Callback = function()
            local House = workspace["001_Lots"]:FindFirstChild(tostring(SelectHouse))
            if House and game.Players.LocalPlayer.Character then
                game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(House.WorldPivot.Position)
            else
            end
        end
    })
end)

pcall(function()
    HouseTab:AddButton({
        Name = "Teleport to Safe",
        Callback = function()
            local House = workspace["001_Lots"]:FindFirstChild(tostring(SelectHouse))
            if House and House:FindFirstChild("HousePickedByPlayer") and game.Players.LocalPlayer.Character then
                local safe = House.HousePickedByPlayer.HouseModel:FindFirstChild("001_Safe")
                if safe then
                    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(safe.WorldPivot.Position)
                else
                end
            else
            end
        end
    })
end)

pcall(function()
    NoclipDoor = HouseTab:AddToggle({
        Name = "Noclip House Door",
        Description = "",
        Default = false,
        Callback = function(Value)
            pcall(function()
                local House = workspace["001_Lots"]:FindFirstChild(tostring(SelectHouse))
                if House and House:FindFirstChild("HousePickedByPlayer") then
                    local housepickedbyplayer = House.HousePickedByPlayer
                    local doors = housepickedbyplayer.HouseModel:FindFirstChild("001_HouseDoors")
                    if doors and doors:FindFirstChild("HouseDoorFront") then
                        for _, Base in ipairs(doors.HouseDoorFront:GetChildren()) do
                            if Base:IsA("BasePart") then
                                Base.CanCollide = not Value
                            end
                        end
                    end
                end
            end)
        end
    })
end)

pcall(function()
    HouseTab:AddToggle({
        Name = "Ring Doorbell",
        Description = "",
        Default = false,
        Callback = function(Value)
            getgenv().ChaosHubAutoSpawnDoorbellValue = Value
            spawn(function()
                while getgenv().ChaosHubAutoSpawnDoorbellValue do
                    local House = workspace["001_Lots"]:FindFirstChild(tostring(SelectHouse))
                    if House and House:FindFirstChild("HousePickedByPlayer") then
                        local doorbell = House.HousePickedByPlayer.HouseModel:FindFirstChild("001_DoorBell")
                        if doorbell and doorbell:FindFirstChild("TouchBell") then
                            pcall(function()
                                fireclickdetector(doorbell.TouchBell.ClickDetector)
                            end)
                        end
                    end
                    task.wait(0.5)
                end
            end)
        end
    })
end)

pcall(function()
    HouseTab:AddToggle({
        Name = "Knock on Door",
        Description = "",
        Default = false,
        Callback = function(Value)
            getgenv().ChaosHubAutoSpawnDoorValue = Value
            spawn(function()
                while getgenv().ChaosHubAutoSpawnDoorValue do
                    local House = workspace["001_Lots"]:FindFirstChild(tostring(SelectHouse))
                    if House and House:FindFirstChild("HousePickedByPlayer") then
                        local doors = House.HousePickedByPlayer.HouseModel:FindFirstChild("001_HouseDoors")
                        if doors and doors:FindFirstChild("HouseDoorFront") and doors.HouseDoorFront:FindFirstChild("Knock") then
                            pcall(function()
                                fireclickdetector(doors.HouseDoorFront.Knock.TouchBell.ClickDetector)
                            end)
                        end
                    end
                    task.wait(0.5)
                end
            end)
        end
    })
end)
pcall(function()
    HouseTab:AddSection({ Name = "Teleport to Houses" })
end)

local casas = {
    ["House 1"] = Vector3.new(260.29, 4.37, 209.32),
    ["House 2"] = Vector3.new(234.49, 4.37, 228.00),
    ["House 3"] = Vector3.new(262.79, 21.37, 210.84),
    ["House 4"] = Vector3.new(229.60, 21.37, 225.40),
    ["House 5"] = Vector3.new(173.44, 21.37, 228.11),
    ["House 6"] = Vector3.new(-43, 21, -137),
    ["House 7"] = Vector3.new(-40, 36, -137),
    ["House 11"] = Vector3.new(-21, 40, 436),
    ["House 12"] = Vector3.new(155, 37, 433),
    ["House 13"] = Vector3.new(255, 35, 431),
    ["House 14"] = Vector3.new(254, 38, 394),
    ["House 15"] = Vector3.new(148, 39, 387),
    ["House 16"] = Vector3.new(-17, 42, 395),
    ["House 17"] = Vector3.new(-189, 37, -247),
    ["House 18"] = Vector3.new(-354, 37, -244),
    ["House 19"] = Vector3.new(-456, 36, -245),
    ["House 20"] = Vector3.new(-453, 38, -295),
    ["House 21"] = Vector3.new(-356, 38, -294),
    ["House 22"] = Vector3.new(-187, 37, -295),
    ["House 23"] = Vector3.new(-410, 68, -447),
    ["House 24"] = Vector3.new(-348, 69, -496),
    ["House 28"] = Vector3.new(-103, 12, 1087),
    ["House 29"] = Vector3.new(-730, 6, 808),
    ["House 30"] = Vector3.new(-245, 7, 822),
    ["House 31"] = Vector3.new(639, 76, -361),
    ["House 32"] = Vector3.new(-908, 6, -361),
    ["House 33"] = Vector3.new(-111, 70, -417),
    ["House 34"] = Vector3.new(230, 38, 569),
    ["House 35"] = Vector3.new(-30, 13, 2209)
}

local houseNames = {}
for name, _ in pairs(casas) do
    table.insert(houseNames, name)
end

table.sort(houseNames, function(a, b)
    local numA = tonumber(a:match("%d+")) or 0
    local numB = tonumber(b:match("%d+")) or 0
    return numA < numB
end)

pcall(function()
    HouseTab:AddDropdown({
        Name = "Select House",
        Options = houseNames,
        Callback = function(selectedHouse)
            local player = game.Players.LocalPlayer
            if player and player.Character then
                player.Character.HumanoidRootPart.CFrame = CFrame.new(casas[selectedHouse])
            end
        end
    })
end)

pcall(function()
    HouseTab:AddLabel("Teleport to any house you want")
end)

pcall(function()
    HouseTab:AddSection({ Name = "Auto Unban" })
end)

pcall(function()
    HouseTab:AddToggle({
        Name = "Auto Unban",
        Default = false,
        Callback = function(state)
            isUnbanActive = state
            if isUnbanActive then
                task.spawn(startAutoUnban)
            else
            end
        end
    })
end)

pcall(function()
    HouseTab:AddLabel("Automatically unbans you from houses")
end)

pcall(function()
    HouseTab:AddSection({ Name = "House RGB" })
end)

pcall(function()
    HouseTab:AddToggle({
        Name = "House RGB",
        Default = false,
        Callback = function(state)
            toggleHouseRGB(state)
        end
    })
end)

pcall(function()
    HouseTab:AddLabel("Makes your house RGB")
end)

function startAutoUnban()
    while isUnbanActive do
        pcall(function()
            for _, v in pairs(game:GetService("Workspace"):WaitForChild("001_Lots"):GetDescendants()) do
                if v.Name:match("^BannedBlock%d+$") then
                    v:Destroy()
                end
            end
        end)
        task.wait(1)
    end
end

local Tab = Window:MakeTab({"Fe Scripts", "rbxassetid://121106070017957"})

Tab:AddButton({
    Name = "Drone do Lyra",
    Callback = function()
local args = {
    [1] = {
        [1] = 15312911732,
        [2] = 14532583483,
        [3] = 14532583517,
        [4] = 14532583477,
        [5] = 14532583469,
        [6] = 134082579,
    }
}

game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local Humanoid = Character:FindFirstChildOfClass("Humanoid")

if Humanoid then
    local Desc = Humanoid:GetAppliedDescription()
    local WearRemote = ReplicatedStorage.Remotes.Wear
    
    for _, accessory in ipairs(Desc:GetAccessories(true)) do
        if accessory.AssetId then
            WearRemote:InvokeServer(accessory.AssetId)
        end
    end
    
    local accessoriesToWear = {
        5674051153,
        0,
        0,
        0,
        0
    }
    
    for _, id in ipairs(accessoriesToWear) do
        pcall(function()
            WearRemote:InvokeServer(id)
        end)
    end
end 

local main = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local up = Instance.new("TextButton")
local down = Instance.new("TextButton")
local onof = Instance.new("TextButton")
local TextLabel = Instance.new("TextLabel")
local plus = Instance.new("TextButton")
local speed = Instance.new("TextLabel")
local mine = Instance.new("TextButton")
local closebutton = Instance.new("TextButton")
local mini = Instance.new("TextButton")
local mini2 = Instance.new("TextButton")

main.Name = "main"
main.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
main.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
main.ResetOnSpawn = false

Frame.Parent = main
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Frame.BorderColor3 = Color3.fromRGB(255, 255, 255)
Frame.BorderSizePixel = 2
Frame.Position = UDim2.new(0.100320168, 0, 0.379746825, 0)
Frame.Size = UDim2.new(0, 190, 0, 57)

up.Name = "Cima"
up.Parent = Frame
up.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
up.BorderColor3 = Color3.fromRGB(0, 0, 0)
up.Size = UDim2.new(0, 44, 0, 28)
up.Font = Enum.Font.SourceSans
up.Text = "Cima"
up.TextColor3 = Color3.fromRGB(0, 0, 0)
up.TextSize = 14.000

down.Name = "Baixo"
down.Parent = Frame
down.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
down.BorderColor3 = Color3.fromRGB(0, 0, 0)
down.Position = UDim2.new(0, 0, 0.491228074, 0)
down.Size = UDim2.new(0, 44, 0, 28)
down.Font = Enum.Font.SourceSans
down.Text = "Baixo"
down.TextColor3 = Color3.fromRGB(0, 0, 0)
down.TextSize = 14.000

onof.Name = "onof"
onof.Parent = Frame
onof.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
onof.BorderColor3 = Color3.fromRGB(0, 0, 0)
onof.Position = UDim2.new(0.702823281, 0, 0.491228074, 0)
onof.Size = UDim2.new(0, 56, 0, 28)
onof.Font = Enum.Font.SourceSans
onof.Text = "fly"
onof.TextColor3 = Color3.fromRGB(0, 0, 0)
onof.TextSize = 14.000

TextLabel.Parent = Frame
TextLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
TextLabel.BorderColor3 = Color3.fromRGB(0, 0, 0)
TextLabel.Position = UDim2.new(0.469327301, 0, 0, 0)
TextLabel.Size = UDim2.new(0, 100, 0, 28)
TextLabel.Font = Enum.Font.SourceSans
TextLabel.Text = "Fly Drone"
TextLabel.TextColor3 = Color3.fromRGB(0, 0, 0)
TextLabel.TextScaled = true
TextLabel.TextSize = 14.000
TextLabel.TextWrapped = true

plus.Name = ""
plus.Parent = Frame
plus.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
plus.BorderColor3 = Color3.fromRGB(0, 0, 0)
plus.Position = UDim2.new(0.231578946, 0, 0, 0)
plus.Size = UDim2.new(0, 45, 0, 28)
plus.Font = Enum.Font.SourceSans
plus.Text = "+"
plus.TextColor3 = Color3.fromRGB(0, 0, 0)
plus.TextScaled = true
plus.TextSize = 14.000
plus.TextWrapped = true

speed.Name = "speed"
speed.Parent = Frame
speed.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
speed.BorderColor3 = Color3.fromRGB(0, 0, 0)
speed.Position = UDim2.new(0.468421042, 0, 0.491228074, 0)
speed.Size = UDim2.new(0, 44, 0, 28)
speed.Font = Enum.Font.SourceSans
speed.Text = "1"
speed.TextColor3 = Color3.fromRGB(0, 0, 0)
speed.TextScaled = true
speed.TextSize = 14.000
speed.TextWrapped = true

mine.Name = "mine"
mine.Parent = Frame
mine.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
mine.BorderColor3 = Color3.fromRGB(0, 0, 0)
mine.Position = UDim2.new(0.231578946, 0, 0.491228074, 0)
mine.Size = UDim2.new(0, 45, 0, 29)
mine.Font = Enum.Font.SourceSans
mine.Text = "-"
mine.TextColor3 = Color3.fromRGB(0, 0, 0)
mine.TextScaled = true
mine.TextSize = 14.000
mine.TextWrapped = true

closebutton.Name = "Close"
closebutton.Parent = main.Frame
closebutton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
closebutton.BorderColor3 = Color3.fromRGB(0, 0, 0)
closebutton.Font = "SourceSans"
closebutton.Size = UDim2.new(0, 45, 0, 28)
closebutton.Text = "X"
closebutton.TextColor3 = Color3.fromRGB(0, 0, 0)
closebutton.TextSize = 30
closebutton.Position =  UDim2.new(0, 0, -1, 27)

mini.Name = "minimize"
mini.Parent = main.Frame
mini.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
mini.BorderColor3 = Color3.fromRGB(0, 0, 0)
mini.Font = "SourceSans"
mini.Size = UDim2.new(0, 45, 0, 28)
mini.Text = "-"
mini.TextColor3 = Color3.fromRGB(0, 0, 0)
mini.TextSize = 40
mini.Position = UDim2.new(0, 44, -1, 27)

mini2.Name = "minimize2"
mini2.Parent = main.Frame
mini2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
mini2.BorderColor3 = Color3.fromRGB(0, 0, 0)
mini2.Font = "SourceSans"
mini2.Size = UDim2.new(0, 45, 0, 28)
mini2.Text = "+"
mini2.TextColor3 = Color3.fromRGB(0, 0, 0)
mini2.TextSize = 40
mini2.Position = UDim2.new(0, 44, -1, 57)
mini2.Visible = false

speeds = 1

local speaker = game:GetService("Players").LocalPlayer

local chr = game.Players.LocalPlayer.Character
local hum = chr and chr:FindFirstChildOfClass("Humanoid")

nowe = false

game:GetService("StarterGui"):SetCore("SendNotification", { 
    Title = "Fly Drone";
    Text = "By Rick";
    Icon = "rbxthumb://type=Asset&id=5107182114&w=150&h=150"})
Duration = 5;

Frame.Active = true
Frame.Draggable = true

onof.MouseButton1Down:connect(function()

    if nowe == true then
        nowe = false

        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Climbing,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Flying,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Freefall,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.GettingUp,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Jumping,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Landed,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Physics,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.PlatformStanding,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Running,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.RunningNoPhysics,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.StrafingNoPhysics,true)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Swimming,true)
        speaker.Character.Humanoid:ChangeState(Enum.HumanoidStateType.RunningNoPhysics)
    else 
        nowe = true



        for i = 1, speeds do
            spawn(function()

                local hb = game:GetService("RunService").Heartbeat	


                tpwalking = true
                local chr = game.Players.LocalPlayer.Character
                local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
                while tpwalking and hb:Wait() and chr and hum and hum.Parent do
                    if hum.MoveDirection.Magnitude > 0 then
                        chr:TranslateBy(hum.MoveDirection)
                    end
                end

            end)
        end
        game.Players.LocalPlayer.Character.Animate.Disabled = true
        local Char = game.Players.LocalPlayer.Character
        local Hum = Char:FindFirstChildOfClass("Humanoid") or Char:FindFirstChildOfClass("AnimationConflingsTaber")

        for i,v in next, Hum:GetPlayingAnimationTracks() do
            v:AdjustSpeed(0)
        end
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Climbing,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Flying,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Freefall,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.GettingUp,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Jumping,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Landed,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Physics,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.PlatformStanding,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Running,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.RunningNoPhysics,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.StrafingNoPhysics,false)
        speaker.Character.Humanoid:SetStateEnabled(Enum.HumanoidStateType.Swimming,false)
        speaker.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Swimming)
    end




    if game:GetService("Players").LocalPlayer.Character:FindFirstChildOfClass("Humanoid").RigType == Enum.HumanoidRigType.R6 then



        local plr = game.Players.LocalPlayer
        local torso = plr.Character.Torso
        local flying = true
        local deb = true
        local ctrl = {f = 0, b = 0, l = 0, r = 0}
        local lastctrl = {f = 0, b = 0, l = 0, r = 0}
        local maxspeed = 50
        local speed = 0


        local bg = Instance.new("BodyGyro", torso)
        bg.P = 9e4
        bg.maxTorque = Vector3.new(9e9, 9e9, 9e9)
        bg.cframe = torso.CFrame
        local bv = Instance.new("BodyVelocity", torso)
        bv.velocity = Vector3.new(0,0.1,0)
        bv.maxForce = Vector3.new(9e9, 9e9, 9e9)
        if nowe == true then
            plr.Character.Humanoid.PlatformStand = true
        end
        while nowe == true or game:GetService("Players").LocalPlayer.Character.Humanoid.Health == 0 do
            game:GetService("RunService").RenderStepped:Wait()

            if ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0 then
                speed = speed+.5+(speed/maxspeed)
                if speed > maxspeed then
                    speed = maxspeed
                end
            elseif not (ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0) and speed ~= 0 then
                speed = speed-1
                if speed < 0 then
                    speed = 0
                end
            end
            if (ctrl.l + ctrl.r) ~= 0 or (ctrl.f + ctrl.b) ~= 0 then
                bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (ctrl.f+ctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(ctrl.l+ctrl.r,(ctrl.f+ctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p))*speed
                lastctrl = {f = ctrl.f, b = ctrl.b, l = ctrl.l, r = ctrl.r}
            elseif (ctrl.l + ctrl.r) == 0 and (ctrl.f + ctrl.b) == 0 and speed ~= 0 then
                bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (lastctrl.f+lastctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(lastctrl.l+lastctrl.r,(lastctrl.f+lastctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p))*speed
            else
                bv.velocity = Vector3.new(0,0,0)
            end
            bg.cframe = game.Workspace.CurrentCamera.CoordinateFrame * CFrame.Angles(-math.rad((ctrl.f+ctrl.b)*50*speed/maxspeed),0,0)
        end
        ctrl = {f = 0, b = 0, l = 0, r = 0}
        lastctrl = {f = 0, b = 0, l = 0, r = 0}
        speed = 0
        bg:Destroy()
        bv:Destroy()
        plr.Character.Humanoid.PlatformStand = false
        game.Players.LocalPlayer.Character.Animate.Disabled = false
        tpwalking = false




    else
        local plr = game.Players.LocalPlayer
        local UpperTorso = plr.Character.UpperTorso
        local flying = true
        local deb = true
        local ctrl = {f = 0, b = 0, l = 0, r = 0}
        local lastctrl = {f = 0, b = 0, l = 0, r = 0}
        local maxspeed = 50
        local speed = 0


        local bg = Instance.new("BodyGyro", UpperTorso)
        bg.P = 9e4
        bg.maxTorque = Vector3.new(9e9, 9e9, 9e9)
        bg.cframe = UpperTorso.CFrame
        local bv = Instance.new("BodyVelocity", UpperTorso)
        bv.velocity = Vector3.new(0,0.1,0)
        bv.maxForce = Vector3.new(9e9, 9e9, 9e9)
        if nowe == true then
            plr.Character.Humanoid.PlatformStand = true
        end
        while nowe == true or game:GetService("Players").LocalPlayer.Character.Humanoid.Health == 0 do
            wait()

            if ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0 then
                speed = speed+.5+(speed/maxspeed)
                if speed > maxspeed then
                    speed = maxspeed
                end
            elseif not (ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0) and speed ~= 0 then
                speed = speed-1
                if speed < 0 then
                    speed = 0
                end
            end
            if (ctrl.l + ctrl.r) ~= 0 or (ctrl.f + ctrl.b) ~= 0 then
                bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (ctrl.f+ctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(ctrl.l+ctrl.r,(ctrl.f+ctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p))*speed
                lastctrl = {f = ctrl.f, b = ctrl.b, l = ctrl.l, r = ctrl.r}
            elseif (ctrl.l + ctrl.r) == 0 and (ctrl.f + ctrl.b) == 0 and speed ~= 0 then
                bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (lastctrl.f+lastctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(lastctrl.l+lastctrl.r,(lastctrl.f+lastctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p))*speed
            else
                bv.velocity = Vector3.new(0,0,0)
            end

            bg.cframe = game.Workspace.CurrentCamera.CoordinateFrame * CFrame.Angles(-math.rad((ctrl.f+ctrl.b)*50*speed/maxspeed),0,0)
        end
        ctrl = {f = 0, b = 0, l = 0, r = 0}
        lastctrl = {f = 0, b = 0, l = 0, r = 0}
        speed = 0
        bg:Destroy()
        bv:Destroy()
        plr.Character.Humanoid.PlatformStand = false
        game.Players.LocalPlayer.Character.Animate.Disabled = false
        tpwalking = false



    end





end)

local tis

up.MouseButton1Down:connect(function()
    tis = up.MouseEnter:connect(function()
        while tis do
            wait()
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.new(0,1,0)
        end
    end)
end)

up.MouseLeave:connect(function()
    if tis then
        tis:Disconnect()
        tis = nil
    end
end)

local dis

down.MouseButton1Down:connect(function()
    dis = down.MouseEnter:connect(function()
        while dis do
            wait()
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.new(0,-1,0)
        end
    end)
end)

down.MouseLeave:connect(function()
    if dis then
        dis:Disconnect()
        dis = nil
    end
end)


game:GetService("Players").LocalPlayer.CharacterAdded:Connect(function(char)
    wait(0.7)
    game.Players.LocalPlayer.Character.Humanoid.PlatformStand = false
    game.Players.LocalPlayer.Character.Animate.Disabled = false

end)


plus.MouseButton1Down:connect(function()
    speeds = speeds + 1
    speed.Text = speeds
    if nowe == true then


        tpwalking = false
        for i = 1, speeds do
            spawn(function()

                local hb = game:GetService("RunService").Heartbeat	


                tpwalking = true
                local chr = game.Players.LocalPlayer.Character
                local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
                while tpwalking and hb:Wait() and chr and hum and hum.Parent do
                    if hum.MoveDirection.Magnitude > 0 then
                        chr:TranslateBy(hum.MoveDirection)
                    end
                end

            end)
        end
    end
end)
mine.MouseButton1Down:connect(function()
    if speeds == 1 then
        speed.Text = 'cannot be less than 1'
        wait(1)
        speed.Text = speeds
    else
        speeds = speeds - 1
        speed.Text = speeds
        if nowe == true then
            tpwalking = false
            for i = 1, speeds do
                spawn(function()

                    local hb = game:GetService("RunService").Heartbeat	


                    tpwalking = true
                    local chr = game.Players.LocalPlayer.Character
                    local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
                    while tpwalking and hb:Wait() and chr and hum and hum.Parent do
                        if hum.MoveDirection.Magnitude > 0 then
                            chr:TranslateBy(hum.MoveDirection)
                        end
                    end

                end)
            end
        end
    end
end)

closebutton.MouseButton1Click:Connect(function()
    main:Destroy()
end)

mini.MouseButton1Click:Connect(function()
    up.Visible = false
    down.Visible = false
    onof.Visible = false
    plus.Visible = false
    speed.Visible = false
    mine.Visible = false
    mini.Visible = false
    mini2.Visible = true
    main.Frame.BackgroundTransparency = 1
    closebutton.Position =  UDim2.new(0, 0, -1, 57)
end)

mini2.MouseButton1Click:Connect(function()
    up.Visible = true
    down.Visible = true
    onof.Visible = true
    plus.Visible = true
    speed.Visible = true
    mine.Visible = true
    mini.Visible = true
    mini2.Visible = false
    main.Frame.BackgroundTransparency = 0 
    closebutton.Position =  UDim2.new(0, 0, -1, 27)
end)
    end
})


Tab:AddButton({
    Name = "Naruto",
    Desc = "Naruto FE.",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/mxskf/Legal/refs/heads/main/Dboas"))()
    end
})

Tab:AddButton({
    Name = "Anjo Caido",
    Desc = "Anjo caido fe.",
    Callback = function()
    local args = {
	18637798529,
	"087SmokeBlack"
}
game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("ApplyEmmiter"):InvokeServer(unpack(args))

task.wait(0.5)

local args = {
    [1] = "Really black"
}

game:GetService("ReplicatedStorage").Remotes.ChangeBodyColor:FireServer(unpack(args))

pcall(function()
    local args = {
    [1] = {
        [1] = 32336059,
        [2] = 2517207746,
        [3] = 2517204456,
        [4] = 4416788553,
        [5] = 4416785861,
        [6] = 0
    }
}

game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))

    local Players = game:GetService("Players")
    local ReplicatedStorage = game:GetService("ReplicatedStorage")

    local LocalPlayer = Players.LocalPlayer
    local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    local Humanoid = Character:FindFirstChildOfClass("Humanoid")
    if not Humanoid then return end

    local Remotes = ReplicatedStorage:WaitForChild("Remotes")
    local WearRemote = Remotes:WaitForChild("Wear")
    local WearShirtRemote = Remotes:WaitForChild("WearShirt")
    local WearPantsRemote = Remotes:WaitForChild("WearPants")

    local Desc = Humanoid:GetAppliedDescription()
    for _, accessory in ipairs(Desc:GetAccessories(true)) do
        if accessory.AssetId then
            WearRemote:InvokeServer(accessory.AssetId)
        end
    end

   local accessoriesToWear = {
        17514569463,
        106277486491688,
        138851344095964,
        82715677406230,
        5671989521,
        5144353614,
        14699180198,
        116788699891272,
        5319917561,
        100022835462022,
    }
    
    for _, id in ipairs(accessoriesToWear) do
        pcall(function()
            WearRemote:InvokeServer(id)
        end)
    end

    local shirtsToWear = {}
    local pantsToWear = {}
    
    for _, id in ipairs(shirtsToWear) do
        WearShirtRemote:InvokeServer(id)
    end
    
    for _, id in ipairs(pantsToWear) do
        WearPantsRemote:InvokeServer(id)
    end

local incrementArgs = {true}

for i = 1, 4 do
    game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("IncrementBodySize"):FireServer(unpack(incrementArgs))
    wait(0.1)
end

    local animate = Character:WaitForChild("Animate")

    for _, track in ipairs(Humanoid:GetPlayingAnimationTracks()) do
        pcall(function()
            track:Stop()
            track:Destroy()
        end)
    end

    animate.walk.WalkAnim.AnimationId   = "http://www.roblox.com/asset/?id=77529400769588"
    animate.run.RunAnim.AnimationId     = "rbxassetid://77529400769588"
    animate.idle.Animation1.AnimationId = "rbxassetid://77529400769588"
    animate.idle.Animation2.AnimationId = "rbxassetid://77529400769588"
    animate.jump.JumpAnim.AnimationId   = "http://www.roblox.com/asset/?id=14618196485"
    animate.fall.FallAnim.AnimationId   = "http://www.roblox.com/asset/?id=14618196485"
    animate.climb.ClimbAnim.AnimationId = "http://www.roblox.com/asset/?id=14618196485"

    Humanoid.Jump = false
end)

local Players = game:GetService("Players")
local player = Players.LocalPlayer

local function createTool(name, textureId)
    local tool = Instance.new("Tool")
    tool.Name = name
    tool.RequiresHandle = false
    tool.TextureId = "rbxassetid://" .. textureId
    
    tool.Activated:Connect(function()
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local audioID = 9067471663

        local GunSoundEvent = ReplicatedStorage:FindFirstChild("1Gu1nSound1s", true)

        if GunSoundEvent then
            for i = 1, 5 do
                GunSoundEvent:FireServer(workspace, audioID, 1)
                task.wait(0.1)
            end
        end

        task.wait(0.3)

        local GuinRemote = ReplicatedStorage.RE:FindFirstChild("1Gu1n")

        if GuinRemote then
            local allPlayers = Players:GetPlayers()
            
            for _, targetPlayer in pairs(allPlayers) do
                local character = targetPlayer.Character
                if character and character:FindFirstChild("HumanoidRootPart") then
                    local hrp = character.HumanoidRootPart
                    
                    task.spawn(function()
                        local Sound = Instance.new("Sound")
                        Sound.SoundId = "rbxassetid://" .. audioID
                        Sound.Volume = 980
                        Sound.Looped = false
                        Sound.Parent = hrp
                        Sound:Play()
                        
                        Sound.Ended:Connect(function()
                            Sound:Destroy()
                        end)
                    end)
                    
                    task.spawn(function()
                        pcall(function()
                            firesignal(GuinRemote.OnClientEvent, table.unpack({
                                [1] = targetPlayer,
                                [2] = hrp,
                                [3] = hrp,
                                [4] = Vector3.new(0, -1, 0),
                                [5] = Vector3.new(0, 0, 0),
                                [6] = hrp,
                                [7] = hrp,
                                [8] = audioID,
                                [9] = audioID,
                                [10] = {[1] = true},
                                [11] = {
                                    [1] = 25,
                                    [2] = Vector3.new(0.25, 0.25, 100),
                                    [3] = BrickColor.new('Bright yellow'),
                                    [4] = 0.25,
                                    [5] = Enum.Material.SmoothPlastic,
                                    [6] = 0.25,
                                },
                                [12] = true,
                                [13] = false,
                            }))
                        end)
                    end)
                    
                    task.spawn(function()
                        pcall(function()
                            GuinRemote:FireServer(table.unpack({
                                [1] = hrp,
                                [2] = hrp,
                                [3] = Vector3.new(0, -1, 0),
                                [4] = Vector3.new(0, 0, 0),
                                [5] = hrp,
                                [6] = hrp,
                                [7] = audioID,
                                [8] = audioID,
                                [9] = {[1] = true},
                                [10] = {
                                    [1] = 25,
                                    [2] = Vector3.new(0.25, 0.25, 100),
                                    [3] = BrickColor.new('Bright yellow'),
                                    [4] = 0.25,
                                    [5] = Enum.Material.SmoothPlastic,
                                    [6] = 0.25,
                                },
                                [11] = true,
                                [12] = false,
                            }))
                        end)
                    end)
                    
                    task.wait(0.1)
                end
            end
        end
    end)
    
    tool.Parent = player.Backpack
    return tool
end

local stalkerTool = createTool("Laugh Angel", "17094228082")

local Players = game:GetService("Players")
local player = Players.LocalPlayer

local tool = Instance.new("Tool")
tool.Name = ""
tool.RequiresHandle = false
tool.TextureId = "rbxassetid://124484606903383"
tool.Parent = player:WaitForChild("Backpack")

local mouse
local equipped = false

tool.Equipped:Connect(function()
	mouse = player:GetMouse()
	equipped = true
end)

tool.Unequipped:Connect(function()
	equipped = false
end)

tool.Activated:Connect(function()
	if not equipped or not mouse then return end

	local character = player.Character
	if not character then return end

	local hrp = character:FindFirstChild("HumanoidRootPart")
	if hrp and mouse.Hit then
		hrp.CFrame = CFrame.new(mouse.Hit.Position + Vector3.new(0, 3, 0))
	end
end)

getgenv().noclipfly = true
getgenv().useV3Method = false

local main = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local flyButton = Instance.new("ImageButton")

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer

local flySpeed = 50
local flyEnabled = false
local flying = false
local bodyVelocity, bodyGyro, flyConnection, noclipConnection
local lastLookDirection = Vector3.new(0, 0, -1)
local rotationSpeed = 0.03

local originalCollisionStates = {}

main.Name = "FlyGUI"
main.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
main.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
main.ResetOnSpawn = false

Frame.Parent = main
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Frame.BackgroundTransparency = 1
Frame.BorderSizePixel = 0
Frame.Position = UDim2.new(0.9, -60, 0.85, -60)
Frame.Size = UDim2.new(0, 70, 0, 70)
Frame.ClipsDescendants = true

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(1, 0)
corner.Parent = Frame

flyButton.Name = "flyButton"
flyButton.Parent = Frame
flyButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
flyButton.BackgroundTransparency = 0.5
flyButton.Image = "rbxassetid://81440908571393"
flyButton.Size = UDim2.new(0.8, 0, 0.8, 0)
flyButton.Position = UDim2.new(0.1, 0, 0.1, 0)
flyButton.ScaleType = Enum.ScaleType.Fit
flyButton.ImageColor3 = Color3.fromRGB(150, 150, 150)
flyButton.ImageTransparency = 0.2

local buttonStroke = Instance.new("UIStroke")
buttonStroke.Parent = flyButton
buttonStroke.Color = Color3.fromRGB(50, 50, 50)
buttonStroke.Thickness = 2
buttonStroke.Transparency = 0.7

local buttonCorner = Instance.new("UICorner")
buttonCorner.CornerRadius = UDim.new(1, 0)
buttonCorner.Parent = flyButton

Frame.Active = true
Frame.Draggable = true

local function getCharacter()
    return player.Character or player.CharacterAdded:Wait()
end

local function getRootPart()
    local char = getCharacter()
    return char:FindFirstChild("HumanoidRootPart") or char:FindFirstChild("Torso")
end

local function waitForControlModule()
    local success, controlModule = pcall(function()
        return require(player:WaitForChild("PlayerScripts"):WaitForChild("PlayerModule"):WaitForChild("ControlModule"))
    end)
    if success then return controlModule else return nil end
end

local function isCharacterAnchored()
    local char = getCharacter()
    local root = getRootPart()
    if not char or not root then return false end
    if root.Anchored then return true end
    local humanoid = char:FindFirstChildOfClass("Humanoid")
    if humanoid and humanoid.Sit then return true end
    return false
end

local function storeOriginalCollisions()
    originalCollisionStates = {}
    local char = player.Character
    if char then
        for _, v in pairs(char:GetDescendants()) do
            if v:IsA("BasePart") then
                originalCollisionStates[v] = v.CanCollide
            end
        end
    end
end

local function enableNoclip()
    if noclipConnection then noclipConnection:Disconnect() noclipConnection = nil end
    if not getgenv().noclipfly then return end
    storeOriginalCollisions()
    
    noclipConnection = RunService.Stepped:Connect(function()
        if not flyEnabled or not flying then return end
        local char = player.Character
        if char then
            for _, v in pairs(char:GetDescendants()) do
                if v:IsA("BasePart") and v.CanCollide then
                    v.CanCollide = false
                end
            end
        end
    end)
end

local function disableNoclip()
    if noclipConnection then noclipConnection:Disconnect() noclipConnection = nil end
    local char = player.Character
    if char then
        for _, v in pairs(char:GetDescendants()) do
            if v:IsA("BasePart") then
                if originalCollisionStates[v] ~= nil then
                    v.CanCollide = originalCollisionStates[v]
                else
                    if v.Name == "Head" or v.Name == "HumanoidRootPart" or 
                       v.Name == "Torso" or v.Name == "UpperTorso" or 
                       v.Name == "LowerTorso" then
                        v.CanCollide = false
                    else
                        v.CanCollide = true
                    end
                end
            end
        end
    end
    originalCollisionStates = {}
end

function startFly()
    local char = getCharacter()
    local root = getRootPart()
    if not char or not root or not flyEnabled then return end
    flying = true
    
    if bodyVelocity then bodyVelocity:Destroy() end
    if bodyGyro then bodyGyro:Destroy() end
    
    bodyVelocity = Instance.new("BodyVelocity")
    bodyVelocity.Velocity = Vector3.zero
    bodyVelocity.MaxForce = Vector3.new(9e9, 9e9, 9e9)
    bodyVelocity.Parent = root
    
    bodyGyro = Instance.new("BodyGyro")
    bodyGyro.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
    bodyGyro.P = 1e4
    bodyGyro.CFrame = root.CFrame
    bodyGyro.Parent = root

    local humanoid = char:FindFirstChildOfClass("Humanoid")
    if humanoid then
        humanoid.PlatformStand = true
    end
    
    local controlModule = waitForControlModule()
    local camera = workspace.CurrentCamera
    
    if flyConnection then flyConnection:Disconnect() end
    flyConnection = RunService.Heartbeat:Connect(function()
        if not flyEnabled or not flying or not root or not root.Parent then 
            return 
        end
        
        local moveVec = Vector3.zero
        if controlModule then moveVec = controlModule:GetMoveVector() end
        
        local targetVelocity = Vector3.zero
        if moveVec.Magnitude > 0 then
            local cameraCFrame = camera.CFrame
            local direction = cameraCFrame:VectorToWorldSpace(moveVec)
            targetVelocity = direction.Unit * flySpeed
        end
        
        if bodyVelocity then
            bodyVelocity.Velocity = targetVelocity
        end
        
        if flyEnabled and flying and bodyGyro and not isCharacterAnchored() then
            local currentLookDirection = camera.CFrame.LookVector
            local targetCFrame = CFrame.lookAt(root.Position, root.Position + currentLookDirection)
            bodyGyro.CFrame = targetCFrame
        end
    end)
    
    enableNoclip()
end

function stopFly()
    flying = false
    
    if flyConnection then flyConnection:Disconnect() flyConnection = nil end
    if bodyVelocity then bodyVelocity:Destroy() bodyVelocity = nil end
    if bodyGyro then bodyGyro:Destroy() bodyGyro = nil end
    
    disableNoclip()
    
    local char = getCharacter()
    local humanoid = char and char:FindFirstChildOfClass("Humanoid")
    
    if humanoid then
        humanoid.PlatformStand = false
        task.wait(0.1)
        humanoid:ChangeState(Enum.HumanoidStateType.Running)
    end
end

local function toggleFly()
    flyEnabled = not flyEnabled
    if flyEnabled then
        startFly()
    else
        stopFly()
    end
end

local function cleanup()
    flyEnabled = false
    flying = false
    if flyConnection then flyConnection:Disconnect() flyConnection = nil end
    if bodyVelocity then bodyVelocity:Destroy() bodyVelocity = nil end
    if bodyGyro then bodyGyro:Destroy() bodyGyro = nil end
    disableNoclip()
    local char = player.Character
    if char then
        local humanoid = char:FindFirstChildOfClass("Humanoid")
        if humanoid then
            humanoid.PlatformStand = false
            humanoid:ChangeState(Enum.HumanoidStateType.Running)
        end
    end
end

player.CharacterRemoving:Connect(function()
    flying = false
    if flyConnection then flyConnection:Disconnect() flyConnection = nil end
    if bodyVelocity then bodyVelocity:Destroy() bodyVelocity = nil end
    if bodyGyro then bodyGyro:Destroy() bodyGyro = nil end
    disableNoclip()
end)

player.CharacterAdded:Connect(function(char)
    if flyEnabled then
        task.wait(1)
        startFly()
    end
    task.wait(0.7)
    if player.Character and player.Character:FindFirstChildOfClass("Humanoid") then
        player.Character.Humanoid.PlatformStand = false
    end
end)

flyButton.MouseButton1Click:Connect(function()
    toggleFly()
end)

flyButton.MouseButton2Click:Connect(function()
    cleanup()
    main:Destroy()
end)

flyButton.MouseEnter:Connect(function()
    game:GetService("TweenService"):Create(
        flyButton,
        TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
        {BackgroundTransparency = 0.3, ImageTransparency = 0}
    ):Play()
end)

flyButton.MouseLeave:Connect(function()
    game:GetService("TweenService"):Create(
        flyButton,
        TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
        {BackgroundTransparency = 0.5, ImageTransparency = 0.2}
    ):Play()
       end) 
    end
})

Tab:AddButton({
    Name = "DemonGorgon",
    Desc = "DemonGorgon FE.",
    Callback = function()
        local args = {
            [1] = "Really black"
        }

        game:GetService("ReplicatedStorage").Remotes.ChangeBodyColor:FireServer(unpack(args))

        pcall(function()
            local args = {
                [1] = {
                    [1] = 75920576291603,
                    [2] = 104765093533850,
                    [3] = 108104996453100,
                    [4] = 117986842354158,
                    [5] = 114406346902406,
                    [6] = 118478470971239
                }
            }
            
            game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))

            local Players = game:GetService("Players")
            local ReplicatedStorage = game:GetService("ReplicatedStorage")
            local LocalPlayer = Players.LocalPlayer
            local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
            local Humanoid = Character:FindFirstChildOfClass("Humanoid")
            if not Humanoid then return end

            local Remotes = ReplicatedStorage:WaitForChild("Remotes")
            local WearRemote = Remotes:WaitForChild("Wear")
            local WearShirtRemote = Remotes:WaitForChild("WearShirt")
            local WearPantsRemote = Remotes:WaitForChild("WearPants")

            local Desc = Humanoid:GetAppliedDescription()
            for _, accessory in ipairs(Desc:GetAccessories(true)) do
                if accessory.AssetId then
                    WearRemote:InvokeServer(accessory.AssetId)
                end
            end

            local accessoriesToWear = {
                0,
                0,
            }
            for _, id in ipairs(accessoriesToWear) do
                pcall(function()
                    WearRemote:InvokeServer(id)
                end)
            end

            local shirtsToWear = {}
            local pantsToWear = {}
            for _, id in ipairs(shirtsToWear) do
                WearShirtRemote:InvokeServer(id)
            end
            for _, id in ipairs(pantsToWear) do
                WearPantsRemote:InvokeServer(id)
            end
        end)

        local Players = game:GetService("Players")
        local TweenService = game:GetService("TweenService")
        local RunService = game:GetService("RunService")

        local player = Players.LocalPlayer
        local character = player.Character or player.CharacterAdded:Wait()
        local humanoid = character:WaitForChild("Humanoid")
        local root = character:WaitForChild("HumanoidRootPart")
        local camera = workspace.CurrentCamera

        humanoid.JumpPower = 75
        humanoid.WalkSpeed = 14

        local animate = character:FindFirstChild("Animate")
        if animate then
            animate.Disabled = true
        end

        local IDLE_ID = "rbxassetid://115485274167727"
        local WALK_ID = "rbxassetid://113076603308515"
        local RUN_ID  = "rbxassetid://87721497492370"

        local LOOP_SOUND_ID = "rbxassetid://130501290862644"

        camera.FieldOfView = 70
        TweenService:Create(camera, TweenInfo.new(2), {FieldOfView = 85}):Play()

        local loopSound = Instance.new("Sound", camera)
        loopSound.SoundId = LOOP_SOUND_ID
        loopSound.Volume = 1.5
        loopSound.Looped = true
        loopSound:Play()

        local animator = humanoid:WaitForChild("Animator")

        local function loadAnim(id)
            local anim = Instance.new("Animation")
            anim.AnimationId = id
            return animator:LoadAnimation(anim)
        end

        local idleAnim = loadAnim(IDLE_ID)
        local walkAnim = loadAnim(WALK_ID)
        local runAnim  = loadAnim(RUN_ID)

        runAnim.Priority = Enum.AnimationPriority.Movement
        runAnim:AdjustSpeed(2)

        idleAnim:Play()

        RunService.RenderStepped:Connect(function()
            if humanoid.MoveDirection.Magnitude == 0 then
                if not idleAnim.IsPlaying then
                    walkAnim:Stop()
                    runAnim:Stop()
                    idleAnim:Play()
                end
            else
                if humanoid.WalkSpeed >= 40 then
                    idleAnim:Stop()
                    walkAnim:Stop()
                    if not runAnim.IsPlaying then runAnim:Play() end
                else
                    idleAnim:Stop()
                    runAnim:Stop()
                    if not walkAnim.IsPlaying then walkAnim:Play() end
                end
            end
        end)

        local function createTool(name, textureId)
            local tool = Instance.new("Tool")
            tool.Name = name
            tool.RequiresHandle = false
            tool.TextureId = "rbxassetid://" .. textureId
            tool.Parent = player.Backpack
            return tool
        end

        local rageTool = createTool("RAGE MODE", "89541343256374")
        local raging = false

        rageTool.Activated:Connect(function()
            raging = not raging

            if raging then
                humanoid.WalkSpeed = 50
                TweenService:Create(camera, TweenInfo.new(0.6), {FieldOfView = 120}):Play()
            else
                humanoid.WalkSpeed = 14
                TweenService:Create(camera, TweenInfo.new(0.6), {FieldOfView = 85}):Play()
            end
        end)

        humanoid.Died:Connect(function()
            if loopSound then loopSound:Destroy() end
        end)
    end
})

Tab:AddButton({
    Name = "Alastor",
    Desc = "Alastor Fe",
    Callback = function()
    local args = {
    [1] = "Really black"
}

game:GetService("ReplicatedStorage").Remotes.ChangeBodyColor:FireServer(unpack(args))

pcall(function()
    local args = {
    [1] = {
        [1] = 122968763085455, 
        [2] = 132341939903656, 
        [3] = 94312696409368,  
        [4] = 112274035403104, 
        [5] = 84742842624214, 
        [6] = 88662545353637,
    }
}

game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))

    local Players = game:GetService("Players")
    local ReplicatedStorage = game:GetService("ReplicatedStorage")

    local LocalPlayer = Players.LocalPlayer
    local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    local Humanoid = Character:FindFirstChildOfClass("Humanoid")
    if not Humanoid then return end

    local Remotes = ReplicatedStorage:WaitForChild("Remotes")
    local WearRemote = Remotes:WaitForChild("Wear")
    local WearShirtRemote = Remotes:WaitForChild("WearShirt")
    local WearPantsRemote = Remotes:WaitForChild("WearPants")

    local Desc = Humanoid:GetAppliedDescription()
    for _, accessory in ipairs(Desc:GetAccessories(true)) do
        if accessory.AssetId then
            WearRemote:InvokeServer(accessory.AssetId)
        end
    end

   local accessoriesToWear = {
        139085082319663,
        103922486923053,
        16611454250,
    }
    
    for _, id in ipairs(accessoriesToWear) do
        pcall(function()
            WearRemote:InvokeServer(id)
        end)
    end

    local shirtsToWear = {}
    local pantsToWear = {}
    
    for _, id in ipairs(shirtsToWear) do
        WearShirtRemote:InvokeServer(id)
    end
    
    for _, id in ipairs(pantsToWear) do
        WearPantsRemote:InvokeServer(id)
    end

local incrementArgs = {true}

for i = 1, 4 do
    game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("IncrementBodySize"):FireServer(unpack(incrementArgs))
    wait(0.1)
end

    local animate = Character:WaitForChild("Animate")

    for _, track in ipairs(Humanoid:GetPlayingAnimationTracks()) do
        pcall(function()
            track:Stop()
            track:Destroy()
        end)
    end

    animate.walk.WalkAnim.AnimationId   = "rbxassetid://131582474288402"
    animate.run.RunAnim.AnimationId     = "rbxassetid://131582474288402"
    animate.idle.Animation1.AnimationId = "rbxassetid://133418516499878"
    animate.idle.Animation2.AnimationId = "rbxassetid://126899447275562"
    animate.jump.JumpAnim.AnimationId   = "rbxassetid://131582474288402"
    animate.fall.FallAnim.AnimationId   = "http://www.roblox.com/asset/?id=104108770420406"
    animate.climb.ClimbAnim.AnimationId = "http://www.roblox.com/asset/?id=421121499"

    Humanoid.Jump = false
end)

local Players = game:GetService("Players")
local player = Players.LocalPlayer

local function createTool(name, textureId)
    local tool = Instance.new("Tool")
    tool.Name = name
    tool.RequiresHandle = false
    tool.TextureId = "rbxassetid://" .. textureId
    
    tool.Activated:Connect(function()
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local audioID = 120469392406982

        local GunSoundEvent = ReplicatedStorage:FindFirstChild("1Gu1nSound1s", true)

        if GunSoundEvent then
            for i = 1, 5 do
                GunSoundEvent:FireServer(workspace, audioID, 1)
                task.wait(0.1)
            end
        end

        task.wait(0.1)

        local GuinRemote = ReplicatedStorage.RE:FindFirstChild("1Gu1n")

        if GuinRemote then
            local allPlayers = Players:GetPlayers()
            
            for _, targetPlayer in pairs(allPlayers) do
                local character = targetPlayer.Character
                if character and character:FindFirstChild("HumanoidRootPart") then
                    local hrp = character.HumanoidRootPart
                    
                    task.spawn(function()
                        local Sound = Instance.new("Sound")
                        Sound.SoundId = "rbxassetid://" .. audioID
                        Sound.Volume = 980
                        Sound.Looped = false
                        Sound.Parent = hrp
                        Sound:Play()
                        
                        Sound.Ended:Connect(function()
                            Sound:Destroy()
                        end)
                    end)
                    
                    task.spawn(function()
                        pcall(function()
                            firesignal(GuinRemote.OnClientEvent, table.unpack({
                                [1] = targetPlayer,
                                [2] = hrp,
                                [3] = hrp,
                                [4] = Vector3.new(0, -1, 0),
                                [5] = Vector3.new(0, 0, 0),
                                [6] = hrp,
                                [7] = hrp,
                                [8] = audioID,
                                [9] = audioID,
                                [10] = {[1] = true},
                                [11] = {
                                    [1] = 25,
                                    [2] = Vector3.new(0.25, 0.25, 100),
                                    [3] = BrickColor.new('Bright yellow'),
                                    [4] = 0.25,
                                    [5] = Enum.Material.SmoothPlastic,
                                    [6] = 0.25,
                                },
                                [12] = true,
                                [13] = false,
                            }))
                        end)
                    end)
                    
                    task.spawn(function()
                        pcall(function()
                            GuinRemote:FireServer(table.unpack({
                                [1] = hrp,
                                [2] = hrp,
                                [3] = Vector3.new(0, -1, 0),
                                [4] = Vector3.new(0, 0, 0),
                                [5] = hrp,
                                [6] = hrp,
                                [7] = audioID,
                                [8] = audioID,
                                [9] = {[1] = true},
                                [10] = {
                                    [1] = 25,
                                    [2] = Vector3.new(0.25, 0.25, 100),
                                    [3] = BrickColor.new('Bright yellow'),
                                    [4] = 0.25,
                                    [5] = Enum.Material.SmoothPlastic,
                                    [6] = 0.25,
                                },
                                [11] = true,
                                [12] = false,
                            }))
                        end)
                    end)
                    
                    task.wait(0.1)
                end
            end
        end
    end)
    
    tool.Parent = player.Backpack
    return tool
end

local stalkerTool = createTool("", "103599983540206")

local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local animator = humanoid:WaitForChild("Animator")

local originalAccessories = {}
local originalBodySize = 1

local function toggleDefaultAnimate(enabled)
    local animate = character:FindFirstChild("Animate")
    if animate then
        animate.Disabled = not enabled
    end
    if not enabled then
        for _, track in pairs(animator:GetPlayingAnimationTracks()) do
            track:Stop(0.2)
        end
    end
end

local function saveOriginalAccessories()
    originalAccessories = {}
    local Desc = humanoid:GetAppliedDescription()
    for _, accessory in ipairs(Desc:GetAccessories(true)) do
        if accessory.AssetId then
            table.insert(originalAccessories, accessory.AssetId)
        end
    end
end

local function applyClothingAndAccessories()
    if not humanoid then return end
    
    saveOriginalAccessories()
    
    local Remotes = ReplicatedStorage:WaitForChild("Remotes")
    local WearRemote = Remotes:WaitForChild("Wear")
    local WearShirtRemote = Remotes:WaitForChild("WearShirt")
    local WearPantsRemote = Remotes:WaitForChild("WearPants")
    
    local Desc = humanoid:GetAppliedDescription()
    for _, accessory in ipairs(Desc:GetAccessories(true)) do
        if accessory.AssetId then
            WearRemote:InvokeServer(accessory.AssetId)
        end
    end
    
    local accessoriesToWear = {
        0,
        0,
        0,
    }
    
    for _, id in ipairs(accessoriesToWear) do
        pcall(function()
            WearRemote:InvokeServer(id)
        end)
    end
    
    local shirtsToWear = {}
    local pantsToWear = {}
    
    for _, id in ipairs(shirtsToWear) do
        WearShirtRemote:InvokeServer(id)
    end
    
    for _, id in ipairs(pantsToWear) do
        WearPantsRemote:InvokeServer(id)
    end
    
    local incrementArgs = {true}
    for i = 1, 4 do
        ReplicatedStorage.Remotes.IncrementBodySize:FireServer(unpack(incrementArgs))
        wait(0.1)
    end
end

local function removeMonsterAccessories()
    if not humanoid then return end
    
    local Remotes = ReplicatedStorage:WaitForChild("Remotes")
    local WearRemote = Remotes:WaitForChild("Wear")
    
    local monsterAccessories = {
        139085082319663,
        103922486923053,
        16611454250,
    }
    
    for _, id in ipairs(monsterAccessories) do
        pcall(function()
            WearRemote:InvokeServer(id)
        end)
    end
    
    for _, id in ipairs(originalAccessories) do
        pcall(function()
            WearRemote:InvokeServer(id)
        end)
    end
    
    local decrementArgs = {false}
    for i = 1, 0 do
        ReplicatedStorage.Remotes.IncrementBodySize:FireServer(unpack(decrementArgs))
        wait(0.1)
    end
end

local function ensureAnimationId(id)
    local strId = tostring(id)
    if #strId >= 15 then return "rbxassetid://" .. strId end
    local success, assets = pcall(game.GetObjects, game, "rbxassetid://" .. strId)
    if success then
        for _, a in ipairs(assets) do
            if a:IsA("Animation") then return a.AnimationId
            elseif a:FindFirstChildWhichIsA("Animation", true) then
                return a:FindFirstChildWhichIsA("Animation", true).AnimationId
            end
        end
    end
    return "rbxassetid://" .. strId
end

local animations = {
    idle = 76622684003043,
    walk = 71303649590318,
    headless = 76746775961797,
    lookAround = 79216795769647,
    chilling = 98248319097752,
    transform = 93875137466223
}

local tracks = {}
for name, id in pairs(animations) do
    local animId = ensureAnimationId(id)
    if animId then
        local a = Instance.new("Animation")
        a.AnimationId = animId
        tracks[name] = animator:LoadAnimation(a)
        
        if name == "idle" or name == "walk" then
            tracks[name].Priority = Enum.AnimationPriority.Movement
        elseif name == "transform" then
            tracks[name].Priority = Enum.AnimationPriority.Action
        else
            tracks[name].Priority = Enum.AnimationPriority.Action
        end
    end
end

local isMonster = false
local isEmoting = false
local currentActive = nil
local idleTime = 0
local defaultWalkSpeed = 16

RunService.RenderStepped:Connect(function(dt)
    if not isMonster or isEmoting then 
        idleTime = 0
        humanoid.WalkSpeed = defaultWalkSpeed
        return 
    end
    
    local speed = humanoid.MoveDirection.Magnitude
    local target = "idle"
    local isRunning = UserInputService:IsKeyDown(Enum.KeyCode.LeftShift)

    if speed > 0.1 then
        target = "walk"
        idleTime = 0 
    else
        idleTime = idleTime + dt
        if idleTime >= 5 then
            target = "chilling"
        else
            target = "idle"
        end
    end

    if currentActive ~= target then
        if currentActive and tracks[currentActive] then tracks[currentActive]:Stop(0.5) end
        if tracks[target] then
            tracks[target].Looped = true
            tracks[target]:Play(0.5)
            currentActive = target
        end
    end

    if currentActive == "walk" then
        if isRunning then
            tracks["walk"]:AdjustSpeed(1.5)
            humanoid.WalkSpeed = defaultWalkSpeed * 1.5
        else
            tracks["walk"]:AdjustSpeed(1)
            humanoid.WalkSpeed = defaultWalkSpeed
        end
    else
        humanoid.WalkSpeed = defaultWalkSpeed
    end
end)

local function playOneShot(name)
    if not tracks[name] or isEmoting or not isMonster then return end
    isEmoting = true
    idleTime = 0
    
    if currentActive and tracks[currentActive] then tracks[currentActive]:Stop(0.2) end
    
    local t = tracks[name]
    t.Looped = false 
    t:Play(0.2)
    t.Stopped:Wait()
    
    isEmoting = false
    currentActive = nil 
end

local function createMonsterModeTool()
    local tool = Instance.new("Tool")
    tool.Name = "Monster Mode"
    tool.RequiresHandle = false
    tool.TextureId = "rbxassetid://5611992859"
    tool.ToolTip = ""
    
    local billboard = Instance.new("BillboardGui")
    billboard.Size = UDim2.new(4, 0, 1.5, 0)
    billboard.AlwaysOnTop = true
    
    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(1, 0, 1, 0)
    textLabel.BackgroundTransparency = 1
    textLabel.Text = "Monster Mode"
    textLabel.TextColor3 = Color3.new(1, 1, 1)
    textLabel.TextScaled = true
    textLabel.Font = Enum.Font.GothamBold
    textLabel.Parent = billboard
    
    billboard.Parent = tool
    
    tool.Activated:Connect(function()
        if not isMonster then
            isEmoting = true
            toggleDefaultAnimate(false)
            
            applyClothingAndAccessories()
            
            local t = tracks["transform"]
            if t then
                t.Looped = false
                t:Play(0.2)
                
                local length = t.Length
                if length == 0 then task.wait() length = t.Length end
                
                task.wait(length / 2)
                
                isMonster = true
                isEmoting = false
                
                t:Stop(0.5)
            else
                isMonster = true
                isEmoting = false
            end
            currentActive = nil
        else
            isEmoting = true
            if currentActive and tracks[currentActive] then tracks[currentActive]:Stop(0.3) end
            
            local t = tracks["transform"]
            if t then
                t.Looped = false
                t:Play(0.1)
                
                local length = t.Length
                if length == 0 then task.wait() length = t.Length end
                
                t.TimePosition = length / 2
                task.wait(length / 2)
                
                t:Stop(0.5)
            end
            
            removeMonsterAccessories()
            
            isMonster = false
            isEmoting = false
            currentActive = nil
            toggleDefaultAnimate(true)
        end
    end)
    
    tool.Parent = player:WaitForChild("Backpack")
    return tool
end

local monsterModeTool = createMonsterModeTool()

player.CharacterAdded:Connect(function(newCharacter)
    character = newCharacter
    humanoid = character:WaitForChild("Humanoid")
    animator = humanoid:WaitForChild("Animator")
    
    for name, id in pairs(animations) do
        local animId = ensureAnimationId(id)
        if animId then
            local a = Instance.new("Animation")
            a.AnimationId = animId
            tracks[name] = animator:LoadAnimation(a)
        end
    end
    
    isMonster = false
    isEmoting = false
    currentActive = nil
    idleTime = 0
    toggleDefaultAnimate(true)
    
    monsterModeTool = createMonsterModeTool()
end)

if humanoid then
    humanoid:GetPropertyChangedSignal("WalkSpeed"):Connect(function()
        if not isMonster then
            defaultWalkSpeed = humanoid.WalkSpeed
        end
    end)
    defaultWalkSpeed = humanoid.WalkSpeed
end
 end
})

Tab:AddButton({
    Name = "Sr Hat",
    Desc = "Sr Hat FE.",
    Callback = function()
        local args = {
    [1] = {
        [1] = 92757812011061,
        [2] = 124343282827669,
        [3] = 84418052877367,
        [4] = 99519402284266,
        [5] = 115905570886697,
        [6] = 134082579
    }
}

game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local Humanoid = Character:FindFirstChildOfClass("Humanoid")

if Humanoid then
    local Desc = Humanoid:GetAppliedDescription()
    local WearRemote = ReplicatedStorage.Remotes.Wear
    
    for _, accessory in ipairs(Desc:GetAccessories(true)) do
        if accessory.AssetId then
            WearRemote:InvokeServer(accessory.AssetId)
        end
    end
    
    local accessoriesToWear = {
        9683332649,
        730003802,
        13627518272,
        99952838712138,
        13463290106,
        70915957811901,
        91638919315070
    }
    
    for _, id in ipairs(accessoriesToWear) do
        pcall(function()
            WearRemote:InvokeServer(id)
        end)
    end
end

local incrementArgs = {true}

for i = 1, 3 do
    game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("IncrementBodySize"):FireServer(unpack(incrementArgs))
    wait(0.1)
end

local runService = game:GetService("RunService")
local players = game:GetService("Players")

local player = players.LocalPlayer
repeat task.wait() until player.Character
local character = player.Character
local humanoid = character:WaitForChild("Humanoid")
local rootPart = character:WaitForChild("HumanoidRootPart")

repeat task.wait() until workspace.CurrentCamera
local camera = workspace.CurrentCamera

local walkCycleSpeed = 1.4
local runCycleSpeed = 1.8
local walkBobIntensity = 0.012
local runBobIntensity = 0.012
local tiltIntensity = 0.6
local breathingIntensity = 0.012
local headTurnShake = 0.012
local headTiltShake = 0.0012

local camerashake = CFrame.new()
local currentOffset = Vector3.new(0, 0, 0)
local currentTilt = 0
local stepCycle = 0
local breathCycle = 0
local lastYPosition = rootPart.Position.Y
local fallVelocity = 0
local landingImpact = 0
local lastMoveDirection = Vector3.new(0, 0, 0)

local lastCameraRotation = camera.CFrame.LookVector
local cameraVelocity = Vector3.new(0, 0, 0)
local headMomentum = Vector3.new(0, 0, 0)
local neckLag = CFrame.new()
local microShake = 0

local function setupEffects()
    for _, effect in ipairs(camera:GetChildren()) do
        if effect:IsA("BlurEffect") or effect:IsA("ColorCorrectionEffect") then
            effect:Destroy()
        end
    end
    
    local vignetteBlur = Instance.new("BlurEffect")
    vignetteBlur.Size = 0
    vignetteBlur.Parent = camera
    
    local vignette = Instance.new("ColorCorrectionEffect")
    vignette.Brightness = 0
    vignette.Contrast = 0
    vignette.Saturation = 0
    vignette.TintColor = Color3.new(1, 1, 1)
    vignette.Parent = camera
    
    return vignetteBlur, vignette
end

local vignetteBlur, vignette = setupEffects()

local function setupVignetteImage()
    local playerGui = player:WaitForChild("PlayerGui")
    
    for i = 1, 3 do
        local screenGui = Instance.new("ScreenGui")
        screenGui.Name = "VignetteGui" .. i
        screenGui.ResetOnSpawn = false
        screenGui.IgnoreGuiInset = true
        screenGui.DisplayOrder = 10 + i
        screenGui.Parent = playerGui
        
        local vignetteImage = Instance.new("ImageLabel")
        vignetteImage.Name = "VignetteImage"
        vignetteImage.Size = UDim2.new(1, 0, 1, 0)
        vignetteImage.Position = UDim2.new(0, 0, 0, 0)
        vignetteImage.BackgroundTransparency = 1
        vignetteImage.Image = "rbxassetid://10548483470"
        vignetteImage.ScaleType = Enum.ScaleType.Stretch
        vignetteImage.Parent = screenGui
    end
end

setupVignetteImage()

local function updateVignette(intensity)
    if not vignetteBlur or not vignetteBlur.Parent then
        vignetteBlur, vignette = setupEffects()
    end
    
    intensity = math.clamp(intensity, 0, 0.35)
    
    local targetSize = intensity * 2.5
    local targetBrightness = -intensity * 0.06
    local targetSaturation = -intensity * 0.09
    
    vignetteBlur.Size = vignetteBlur.Size + (targetSize - vignetteBlur.Size) * 0.09
    vignette.Brightness = vignette.Brightness + (targetBrightness - vignette.Brightness) * 0.09
    vignette.Saturation = vignette.Saturation + (targetSaturation - vignette.Saturation) * 0.09
end

runService.RenderStepped:Connect(function(deltaTime)
    if not character or not character.Parent then return end
    if not humanoid or not humanoid.Parent then return end
    if not rootPart or not rootPart.Parent then return end
    if not camera or not camera.Parent then return end
    
    local moveSpeed = humanoid.MoveDirection.Magnitude
    local currentYPosition = rootPart.Position.Y
    local walkSpeed = humanoid.WalkSpeed
    
    fallVelocity = (currentYPosition - lastYPosition) / math.max(deltaTime, 0.001)
    lastYPosition = currentYPosition
    
    local currentRotation = camera.CFrame.LookVector
    local rotationDelta = (currentRotation - lastCameraRotation)
    cameraVelocity = rotationDelta * 0.6
    lastCameraRotation = currentRotation
    
    local turnSpeed = math.clamp(cameraVelocity.Magnitude * 12, 0, 1)
    
    microShake = microShake + deltaTime * 8
    local naturalShake = CFrame.Angles(
        math.sin(microShake * 1.2) * 0.002,
        math.cos(microShake * 0.8) * 0.00010,
        math.sin(microShake * 1.5) * 0.0015
    )
    
    local turnShakeX = cameraVelocity.Y * headTurnShake
    local turnShakeY = -math.abs(cameraVelocity.X) * headTiltShake * 0.2
    local turnShakeZ = -cameraVelocity.X * headTurnShake
    
    headMomentum = headMomentum:Lerp(Vector3.new(turnShakeX, turnShakeY, turnShakeZ), 0.1)
    headMomentum = headMomentum * 0.9
    
    local momentumShake = CFrame.Angles(
        math.clamp(headMomentum.X, -0.04, 0.04),
        math.clamp(headMomentum.Y, -0.02, 0.02),
        math.clamp(headMomentum.Z, -0.04, 0.04)
    )
    
    local neckLagIntensity = math.clamp(turnSpeed * 0.018, 0, 0.025)
    local targetNeckLag = CFrame.Angles(
        cameraVelocity.Y * neckLagIntensity,
        0,
        -cameraVelocity.X * neckLagIntensity
    )
    neckLag = neckLag:Lerp(targetNeckLag, 0.09)
    
    local isGrounded = humanoid.FloorMaterial ~= Enum.Material.Air
    local isMoving = moveSpeed > 0.1
    local isRunning = walkSpeed > 16 and isMoving
    
    if not isGrounded and fallVelocity < -10 then
        landingImpact = math.clamp(-fallVelocity / 90, 0, 0.6)
    end
    
    if isGrounded and landingImpact > 0.1 then
        local impactY = -landingImpact * 0.18
        local impactShake = (math.random() - 0.5) * landingImpact * 0.06
        currentOffset = Vector3.new(impactShake, impactY, impactShake)
        currentTilt = (math.random() - 0.5) * landingImpact * 1.2
        updateVignette(landingImpact * 0.25)
        landingImpact = landingImpact * 0.87
    elseif isMoving and isGrounded then
        local cycleSpeed = isRunning and runCycleSpeed or walkCycleSpeed
        local bobIntensity = isRunning and runBobIntensity or walkBobIntensity
        local speedFactor = math.clamp(walkSpeed / 16, 0.5, 1.6)
        
        stepCycle = stepCycle + deltaTime * cycleSpeed * speedFactor * moveSpeed
        
        local stepPhase = stepCycle * math.pi * 2
        local verticalBob = math.sin(stepPhase * 2) * bobIntensity * speedFactor
        verticalBob = math.max(0, verticalBob)
        
        local horizontalBob = math.sin(stepPhase) * bobIntensity * 0.35 * speedFactor
        local depthBob = math.cos(stepPhase) * bobIntensity * 0.18 * speedFactor
        
        local moveDelta = humanoid.MoveDirection - lastMoveDirection
        lastMoveDirection = humanoid.MoveDirection
        
        local strafeTilt = -humanoid.MoveDirection.X * tiltIntensity * speedFactor
        local targetTilt = strafeTilt + math.sin(stepPhase) * tiltIntensity * 0.25 * speedFactor
        currentTilt = currentTilt + (targetTilt - currentTilt) * 0.07
        
        currentOffset = Vector3.new(horizontalBob, verticalBob, depthBob)
        
        local runIntensity = isRunning and (moveSpeed * 0.18) or 0
        local totalIntensity = runIntensity + (turnSpeed * 0.12)
        updateVignette(totalIntensity)
        
        landingImpact = landingImpact * 0.91
        
        camerashake = camerashake:Lerp(CFrame.new() * CFrame.Angles(0, 0, 0.012 * math.sin(tick() * 4.5)), 0.45)
    else
        breathCycle = breathCycle + deltaTime * 0.7
        local breathPhase = breathCycle * math.pi * 2
        
        local breathY = math.sin(breathPhase) * breathingIntensity
        currentOffset = Vector3.new(0, breathY, 0)
        
        currentTilt = currentTilt * 0.93
        landingImpact = landingImpact * 0.91
        
        updateVignette(turnSpeed * 0.09)
        
        camerashake = camerashake:Lerp(CFrame.new(), 0.55)
    end
    
    humanoid.CameraOffset = humanoid.CameraOffset:Lerp(currentOffset, 0.17)
    
    local currentCFrame = camera.CFrame
    local targetRotation = CFrame.Angles(0, 0, math.rad(currentTilt))
    camera.CFrame = currentCFrame * targetRotation:Lerp(CFrame.new(), 0.87) * camerashake * momentumShake * neckLag * naturalShake
end)

player.CharacterAdded:Connect(function(newCharacter)
    character = newCharacter
    humanoid = character:WaitForChild("Humanoid")
    rootPart = character:WaitForChild("HumanoidRootPart")
    lastYPosition = rootPart.Position.Y
    currentOffset = Vector3.new(0, 0, 0)
    currentTilt = 0
    stepCycle = 0
    breathCycle = 0
    fallVelocity = 0
    landingImpact = 0
    camerashake = CFrame.new()
    headMomentum = Vector3.new(0, 0, 0)
    neckLag = CFrame.new()
    microShake = 0
    lastCameraRotation = camera.CFrame.LookVector
    vignetteBlur, vignette = setupEffects()
    setupVignetteImage()
end)

local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local animator = humanoid:WaitForChild("Animator")

local function toggleDefaultAnimate(enabled)
    local animate = character:FindFirstChild("Animate")
    if animate then
        animate.Disabled = not enabled
    end
    if not enabled then
        for _, track in pairs(animator:GetPlayingAnimationTracks()) do
            track:Stop(0.2)
        end
    end
end

local function ensureAnimationId(id)
    local strId = tostring(id)
    if #strId >= 15 then return "rbxassetid://" .. strId end
    local success, assets = pcall(game.GetObjects, game, "rbxassetid://" .. strId)
    if success then
        for _, a in ipairs(assets) do
            if a:IsA("Animation") then return a.AnimationId
            elseif a:FindFirstChildWhichIsA("Animation", true) then
                return a:FindFirstChildWhichIsA("Animation", true).AnimationId
            end
        end
    end
    return "rbxassetid://" .. strId
end

local animations = {
    idle = 76622684003043,
    walk = 71303649590318,
    headless = 76746775961797,
    lookAround = 79216795769647,
    chilling = 98248319097752,
    transform = 93875137466223
}

local tracks = {}
for name, id in pairs(animations) do
    local animId = ensureAnimationId(id)
    if animId then
        local a = Instance.new("Animation")
        a.AnimationId = animId
        tracks[name] = animator:LoadAnimation(a)
        
        if name == "idle" or name == "walk" then
            tracks[name].Priority = Enum.AnimationPriority.Movement
        elseif name == "transform" then
            tracks[name].Priority = Enum.AnimationPriority.Action
        else
            tracks[name].Priority = Enum.AnimationPriority.Action
        end
    end
end

local isMonster = false
local isEmoting = false
local currentActive = nil
local idleTime = 0
local defaultWalkSpeed = 16

RunService.RenderStepped:Connect(function(dt)
    if not isMonster or isEmoting then 
        idleTime = 0
        humanoid.WalkSpeed = defaultWalkSpeed
        return 
    end
    
    local speed = humanoid.MoveDirection.Magnitude
    local target = "idle"
    local isRunning = UserInputService:IsKeyDown(Enum.KeyCode.LeftShift)

    if speed > 0.1 then
        target = "walk"
        idleTime = 0 
    else
        idleTime = idleTime + dt
        if idleTime >= 5 then
            target = "chilling"
        else
            target = "idle"
        end
    end

    if currentActive ~= target then
        if currentActive and tracks[currentActive] then tracks[currentActive]:Stop(0.5) end
        if tracks[target] then
            tracks[target].Looped = true
            tracks[target]:Play(0.5)
            currentActive = target
        end
    end

    if currentActive == "walk" then
        if isRunning then
            tracks["walk"]:AdjustSpeed(1.5)
            humanoid.WalkSpeed = defaultWalkSpeed * 1.5
        else
            tracks["walk"]:AdjustSpeed(1)
            humanoid.WalkSpeed = defaultWalkSpeed
        end
    else
        humanoid.WalkSpeed = defaultWalkSpeed
    end
end)

local function playOneShot(name)
    if not tracks[name] or isEmoting or not isMonster then return end
    isEmoting = true
    idleTime = 0
    
    if currentActive and tracks[currentActive] then tracks[currentActive]:Stop(0.2) end
    
    local t = tracks[name]
    t.Looped = false 
    t:Play(0.2)
    t.Stopped:Wait()
    
    isEmoting = false
    currentActive = nil 
end

local function createTool(name, textureId, tooltip)
    local tool = Instance.new("Tool")
    tool.Name = name
    tool.RequiresHandle = false
    tool.TextureId = "rbxassetid://" .. textureId
    tool.ToolTip = tooltip
    
    local billboard = Instance.new("BillboardGui")
    billboard.Size = UDim2.new(4, 0, 1.5, 0)
    billboard.AlwaysOnTop = true
    
    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(1, 0, 1, 0)
    textLabel.BackgroundTransparency = 1
    textLabel.Text = name
    textLabel.TextColor3 = Color3.new(1, 1, 1)
    textLabel.TextScaled = true
    textLabel.Font = Enum.Font.GothamBold
    textLabel.Parent = billboard
    
    billboard.Parent = tool
    
    tool.Parent = player:WaitForChild("Backpack")
    return tool
end

local tools = {
    MonsterMode = createTool("Monster Mode", "75227395221091", "Ativa/Desativa Monster Mode"),
    Headless = createTool("Headless", "119951508556705", "Animação Headless"),
    LookAround = createTool("Look Around", "123005184007431", "Olhar ao redor"),
    ReEnableDefault = createTool("Reset Anim", "14199579764", "Resetar animações")
}

tools.MonsterMode.Activated:Connect(function()
    if not isMonster then
        isEmoting = true
        toggleDefaultAnimate(false)
        
        local t = tracks["transform"]
        if t then
            t.Looped = false
            t:Play(0.2)
            
            local length = t.Length
            if length == 0 then task.wait() length = t.Length end
            
            task.wait(length / 2)
            
            isMonster = true
            isEmoting = false
            
            t:Stop(0.5)
        else
            isMonster = true
            isEmoting = false
        end
        currentActive = nil
    else
        isEmoting = true
        if currentActive and tracks[currentActive] then tracks[currentActive]:Stop(0.3) end
        
        local t = tracks["transform"]
        if t then
            t.Looped = false
            t:Play(0.1)
            
            local length = t.Length
            if length == 0 then task.wait() length = t.Length end
            
            t.TimePosition = length / 2
            task.wait(length / 2)
            
            t:Stop(0.5)
        end
        
        isMonster = false
        isEmoting = false
        currentActive = nil
        toggleDefaultAnimate(true)
    end
end)

tools.ReEnableDefault.Activated:Connect(function()
    isMonster = false
    idleTime = 0
    if currentActive and tracks[currentActive] then tracks[currentActive]:Stop(0.3) end
    currentActive = nil
    toggleDefaultAnimate(true)
end)

tools.Headless.Activated:Connect(function()
    if isMonster then
        playOneShot("headless")
    end
end)

tools.LookAround.Activated:Connect(function()
    if isMonster then
        playOneShot("lookAround")
    end
end)

UserInputService.InputBegan:Connect(function(input, gp)
    if gp then return end
    local k = input.KeyCode.Name:lower()

    if k == "f" then
        tools.MonsterMode:Activate()
    elseif k == "r" then
        tools.ReEnableDefault:Activate()
    elseif k == "q" and isMonster then
        tools.Headless:Activate()
    elseif k == "e" and isMonster then
        tools.LookAround:Activate()
    end
end)

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local player = Players.LocalPlayer
local mouse = player:GetMouse()

local stalkFOVdeg = 160      
local fugaMaxDistancia = 65    
local maxStalkDistance = 65   
local stalkBehindDistance = 2.5

local destroyed = false
local stalking = false
local stalkConn = nil
local stalkTarget = nil
local character, hrp, hum

local function updateCharacter()
    character = player.Character
    if character then
        hrp = character:FindFirstChild("HumanoidRootPart")
        hum = character:FindFirstChildOfClass("Humanoid")
    else
        hrp = nil
        hum = nil
    end
end

updateCharacter()

player.CharacterAdded:Connect(function(newChar)
    if stalking then
        stalking = false
        stalkTarget = nil
        if stalkConn then
            stalkConn:Disconnect()
            stalkConn = nil
        end
    end
    task.wait(1)
    updateCharacter()
end)

local function setStalkerState(isStalking)
    if not character or not hrp then return end

    local transparencyValue = 0 
    local canCollideValue = not isStalking         

    for _, part in ipairs(character:GetDescendants()) do
        if part:IsA("BasePart") or part:IsA("Decal") or part:IsA("SpecialMesh") then
            if part.Name ~= "HumanoidRootPart" then 
                pcall(function() part.LocalTransparencyModifier = transparencyValue end)
            end
            pcall(function() part.CanCollide = canCollideValue end)
        elseif part:IsA("Shirt") or part:IsA("Pants") then
            pcall(function() part.Transparency = transparencyValue end)
        end
    end

    if hum then
        hum.PlatformStand = false
    end
end

local function getSafeCFrame(desiredPosition, currentCFrame)
    local TP_CHECK_HEIGHT = 100     
    local TP_RAY_LENGTH = 200       
    
    local rayOrigin = Vector3.new(desiredPosition.X, desiredPosition.Y + TP_CHECK_HEIGHT, desiredPosition.Z)
    local rayDirection = Vector3.new(0, -TP_RAY_LENGTH, 0)

    local rayParams = RaycastParams.new()
    rayParams.FilterType = Enum.RaycastFilterType.Exclude
    rayParams.FilterDescendantsInstances = {character}

    local rayResult = Workspace:Raycast(rayOrigin, rayDirection, rayParams)

    if rayResult then
        local safeY = rayResult.Position.Y + 2.5
        local lookVector = currentCFrame.LookVector
        local upVector = currentCFrame.UpVector

        return CFrame.new(desiredPosition.X, safeY, desiredPosition.Z) * CFrame.fromMatrix(Vector3.new(), lookVector, upVector)
    else
        return CFrame.new(desiredPosition.X, desiredPosition.Y, desiredPosition.Z)
    end
end

local function teleportStalk(desiredCFrame, targetHRP)
    if destroyed or not hrp or not targetHRP then return end

    local targetY = targetHRP.Position.Y
    local finalPosition = Vector3.new(desiredCFrame.X, targetY, desiredCFrame.Z)

    local newCFrame = CFrame.new(finalPosition) * (desiredCFrame - desiredCFrame.Position)

    hrp.CFrame = newCFrame
end

local function stopStalk()
    if not stalking then return end

    stalking = false
    stalkTarget = nil

    setStalkerState(false)

    if stalkConn then
        stalkConn:Disconnect()
        stalkConn = nil
    end
end

local function startStalk(pl)
    if destroyed or not pl or not pl.Character or not hrp or not hum then
        return
    end

    if stalking and stalkTarget == pl then
        stopStalk()
        return
    end

    if stalking and stalkTarget ~= pl then
        stopStalk()
    end

    local targHRP = pl.Character:FindFirstChild("HumanoidRootPart")
    local targHum = pl.Character:FindFirstChildOfClass("Humanoid")
    if not (targHRP and targHum and targHum.Health > 0) then
        return
    end

    stalking = true
    stalkTarget = pl

    setStalkerState(true)

    local fovCos = math.cos(math.rad(stalkFOVdeg * 0.5))

    if stalkConn then
        stalkConn:Disconnect()
        stalkConn = nil
    end

    stalkConn = RunService.RenderStepped:Connect(function()
        if destroyed or not stalking or not stalkTarget or not stalkTarget.Character or not hrp or not hum then
            stopStalk()
            return
        end

        if not character or not character.Parent then
            updateCharacter()
            if not character then
                stopStalk()
                return
            end
        end

        targHRP = stalkTarget.Character:FindFirstChild("HumanoidRootPart")
        targHum = stalkTarget.Character:FindFirstChildOfClass("Humanoid")
        if not (targHRP and targHum) then
            return
        end
        
        if targHum.Health <= 0 then
            return
        end

        local CEILING_CHECK_HEIGHT = 8
        local targetHeadPos = targHRP.Position + Vector3.new(0, 1.5, 0)
        local distance = (hrp.Position - targHRP.Position).Magnitude

        local rayCeilingParams = RaycastParams.new()
        rayCeilingParams.FilterType = Enum.RaycastFilterType.Exclude
        rayCeilingParams.FilterDescendantsInstances = {stalkTarget.Character, character}

        local rayCeilingResult = Workspace:Raycast(
            targetHeadPos,
            Vector3.new(0, CEILING_CHECK_HEIGHT, 0),
            rayCeilingParams
        )

        if rayCeilingResult and distance < maxStalkDistance then
            return
        end

        if distance > maxStalkDistance then
            local desiredCFrame = targHRP.CFrame * CFrame.new(0, 0, stalkBehindDistance)
            teleportStalk(desiredCFrame, targHRP)
            return
        end

        local lookAtTarget = Vector3.new(targHRP.Position.X, hrp.Position.Y, targHRP.Position.Z)
        local newCFrame = CFrame.new(hrp.Position, lookAtTarget)
        hrp.CFrame = newCFrame

        local dirToMe = hrp.Position - targHRP.Position
        if dirToMe.Magnitude > 0.001 then

            local lookVector = targHRP.CFrame.LookVector
            local targetDirection = dirToMe.Unit
            local dot = lookVector:Dot(targetDirection)

            if dot >= fovCos then
                local rayMaxRange = 30
                if distance > rayMaxRange then return end

                local headPosition = targHRP.Position + Vector3.new(0, 1.5, 0)
                local rayDirection = hrp.Position - headPosition

                local rayParams = RaycastParams.new()
                rayParams.FilterType = Enum.RaycastFilterType.Exclude
                rayParams.FilterDescendantsInstances = {stalkTarget.Character, character}

                local rayResult = Workspace:Raycast(headPosition, rayDirection, rayParams)

                local isStalkerHit = rayResult and rayResult.Instance:IsDescendantOf(character)
                local isClearPath = not rayResult

                if isStalkerHit or isClearPath then
                    local currHRP = stalkTarget.Character:FindFirstChild("HumanoidRootPart")
                    if not currHRP then return end

                    local offset = Vector3.new(math.random(-fugaMaxDistancia, fugaMaxDistancia), 0, math.random(-fugaMaxDistancia, fugaMaxDistancia))
                    local desiredFugaPos = currHRP.Position + offset

                    hrp.CFrame = getSafeCFrame(desiredFugaPos, CFrame.new(desiredFugaPos))

                    setStalkerState(true)
                    return
                end
            end
        end
    end)
end

local function createTool(name, textureId)
    local tool = Instance.new("Tool")
    tool.Name = name
    tool.RequiresHandle = false
    tool.TextureId = "rbxassetid://" .. textureId
    tool.Parent = player.Backpack
    
    tool.Activated:Connect(function()
        if not mouse.Target then return end
        
        local targetPlayer = nil
        local targetModel = mouse.Target
        
        while targetModel and targetModel ~= Workspace do
            local humanoid = targetModel:FindFirstChildOfClass("Humanoid")
            if humanoid then
                for _, pl in ipairs(Players:GetPlayers()) do
                    if pl.Character == targetModel then
                        targetPlayer = pl
                        break
                    end
                end
                break
            end
            targetModel = targetModel.Parent
        end
        
        if targetPlayer and targetPlayer ~= player then
            if stalking and stalkTarget == targetPlayer then
                stopStalk()
            else
                startStalk(targetPlayer)
            end
        end
    end)
    
    tool.AncestryChanged:Connect(function()
        if tool.Parent ~= player.Backpack and tool.Parent ~= player.Character then
            stopStalk()
        end
    end)
    
    return tool
end

local stalkerTool = createTool("", "119592971199929")

local Players = game:GetService("Players")
local player = Players.LocalPlayer

local function createTool(name, textureId)
    local tool = Instance.new("Tool")
    tool.Name = name
    tool.RequiresHandle = false
    tool.TextureId = "rbxassetid://" .. textureId
    
    tool.Activated:Connect(function()
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local audioID = 96952097703270

        local GunSoundEvent = ReplicatedStorage:FindFirstChild("1Gu1nSound1s", true)

        if GunSoundEvent then
            for i = 1, 5 do
                GunSoundEvent:FireServer(workspace, audioID, 1)
                task.wait(0.1)
            end
        end

        task.wait(0.3)

        local GuinRemote = ReplicatedStorage.RE:FindFirstChild("1Gu1n")

        if GuinRemote then
            local allPlayers = Players:GetPlayers()
            
            for _, targetPlayer in pairs(allPlayers) do
                local character = targetPlayer.Character
                if character and character:FindFirstChild("HumanoidRootPart") then
                    local hrp = character.HumanoidRootPart
                    
                    task.spawn(function()
                        local Sound = Instance.new("Sound")
                        Sound.SoundId = "rbxassetid://" .. audioID
                        Sound.Volume = 1
                        Sound.Looped = false
                        Sound.Parent = hrp
                        Sound:Play()
                        
                        Sound.Ended:Connect(function()
                            Sound:Destroy()
                        end)
                    end)
                    
                    task.spawn(function()
                        pcall(function()
                            firesignal(GuinRemote.OnClientEvent, table.unpack({
                                [1] = targetPlayer,
                                [2] = hrp,
                                [3] = hrp,
                                [4] = Vector3.new(0, -1, 0),
                                [5] = Vector3.new(0, 0, 0),
                                [6] = hrp,
                                [7] = hrp,
                                [8] = audioID,
                                [9] = audioID,
                                [10] = {[1] = true},
                                [11] = {
                                    [1] = 25,
                                    [2] = Vector3.new(0.25, 0.25, 100),
                                    [3] = BrickColor.new('Bright yellow'),
                                    [4] = 0.25,
                                    [5] = Enum.Material.SmoothPlastic,
                                    [6] = 0.25,
                                },
                                [12] = true,
                                [13] = false,
                            }))
                        end)
                    end)
                    
                    task.spawn(function()
                        pcall(function()
                            GuinRemote:FireServer(table.unpack({
                                [1] = hrp,
                                [2] = hrp,
                                [3] = Vector3.new(0, -1, 0),
                                [4] = Vector3.new(0, 0, 0),
                                [5] = hrp,
                                [6] = hrp,
                                [7] = audioID,
                                [8] = audioID,
                                [9] = {[1] = true},
                                [10] = {
                                    [1] = 25,
                                    [2] = Vector3.new(0.25, 0.25, 100),
                                    [3] = BrickColor.new('Bright yellow'),
                                    [4] = 0.25,
                                    [5] = Enum.Material.SmoothPlastic,
                                    [6] = 0.25,
                                },
                                [11] = true,
                                [12] = false,
                            }))
                        end)
                    end)
                    
                    task.wait(0.1)
                end
            end
        end
    end)
    
    tool.Parent = player.Backpack
    return tool
end

local stalkerTool = createTool("Audio all ", "10330067661")

local audioID = 6665010343

while true do
    local GunSoundEvent = ReplicatedStorage:FindFirstChild("1Gu1nSound1s", true)

    if GunSoundEvent then
        for i = 1, 10 do
            GunSoundEvent:FireServer(workspace, audioID, 1)
        end
    end

    local FolderAudio = workspace:FindFirstChild("Audio all client")
    if not FolderAudio then
        FolderAudio = Instance.new("Folder")
        FolderAudio.Name = "Audio all client"
        FolderAudio.Parent = workspace
    end

    local Sound = Instance.new("Sound")
    Sound.SoundId = "rbxassetid://" .. audioID
    Sound.Volume = 230
    Sound.Looped = false
    Sound.Parent = FolderAudio
    Sound:Play()

    task.wait(0.1)

    local GuinRemote = ReplicatedStorage.RE["1Gu1n"]

    for _, targetPlayer in pairs(Players:GetPlayers()) do
        if workspace:FindFirstChild(targetPlayer.Name) then
            local targetCharacter = workspace[targetPlayer.Name]
            if targetCharacter:FindFirstChild("HumanoidRootPart") then
                local hrp = targetCharacter.HumanoidRootPart
                
                firesignal(GuinRemote.OnClientEvent, table.unpack({
                    [1] = LocalPlayer,
                    [2] = hrp,
                    [3] = hrp,
                    [4] = Vector3.new(0, -1, 0),
                    [5] = Vector3.new(0, 0, 0),
                    [6] = hrp,
                    [7] = hrp,
                    [8] = audioID,
                    [9] = audioID,
                    [10] = {
                        [1] = true,
                    },
                    [11] = {
                        [1] = 25,
                        [2] = Vector3.new(0.25, 0.25, 100),
                        [3] = BrickColor.new('Bright yellow'),
                        [4] = 0.25,
                        [5] = Enum.Material.SmoothPlastic,
                        [6] = 0.25,
                    },
                    [12] = true,
                    [13] = false,
                }))
                
                GuinRemote:FireServer(table.unpack({
                    [1] = hrp,
                    [2] = hrp,
                    [3] = Vector3.new(0, -1, 0),
                    [4] = Vector3.new(0, 0, 0),
                    [5] = hrp,
                    [6] = hrp,
                    [7] = audioID,
                    [8] = audioID,
                    [9] = {
                        [1] = true,
                    },
                    [10] = {
                        [1] = 25,
                        [2] = Vector3.new(0.25, 0.25, 100),
                        [3] = BrickColor.new('Bright yellow'),
                        [4] = 0.25,
                        [5] = Enum.Material.SmoothPlastic,
                        [6] = 0.25,
                    },
                    [11] = true,
                    [12] = false,
                }))
            end
        end
    end
    
    task.wait(1)
end
    end
})

Tab:AddButton({
    Name = "Sonic Metal",
    Desc = "Sonic Metal FE",
    Callback = function()
        local args = {
    [1] = {
        [1] = 126807728911883,
        [2] = 122686613469381,
        [3] = 132246684084770,
        [4] = 129093234194782,
        [5] = 116731223645727,
        [6] = 89218552783578,
    }
}

game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local Humanoid = Character:FindFirstChildOfClass("Humanoid")

if Humanoid then
    local Desc = Humanoid:GetAppliedDescription()
    local WearRemote = ReplicatedStorage.Remotes.Wear
    
    for _, accessory in ipairs(Desc:GetAccessories(true)) do
        if accessory.AssetId then
            WearRemote:InvokeServer(accessory.AssetId)
        end
    end
    
    local accessoriesToWear = {
        0,
        0,
        0,
        0,
    }
    
    for _, id in ipairs(accessoriesToWear) do
        pcall(function()
            WearRemote:InvokeServer(id)
        end)
    end
end

local Players = game:GetService('Players')
local UserInputService = game:GetService('UserInputService')
local RunService = game:GetService('RunService')
local TweenService = game:GetService('TweenService')
local Camera = workspace.CurrentCamera
local LocalPlayer = Players.LocalPlayer

local ANIM_WALK_ID = '121350640829746'
local ANIM_RUN_BOOST_ID = '76931637880681'
local ANIM_IDLE_1_ID = '75752382380063'
local ANIM_IDLE_2_ID = '75752382380063'
local ANIM_JUMP_ID = '4211219390'
local ANIM_FALL_ID = '656115606'
local ANIM_WALK_SUPER_ID = '121350640829746'
local ANIM_SUPER_IDLE_1_ID = '74386389774165'
local ANIM_SUPER_IDLE_2_ID = '73980801925168'
local ANIM_SUPER_RUN_ID = '101291673584393'
local ANIM_SPIN_ID = '18537367238'
local ANIM_DOUBLE_JUMP_ID = '18537367238'
local ANIM_SUPER_SPIN_ID = '98123440697886'

local FOV_MIN = 70
local FOV_MAX_OFFSET = 16
local FOV_MAX = 120
local FOV_LERP_SPEED = 0.08

local SPEED_NORMAL = 100
local SPEED_SUPER = 200
local currentSpeedLimit = SPEED_NORMAL
local SPIN_SPEED_NORMAL = 3
local SPIN_SPEED_SUPER = 1
local SPEED_FLASH_DURATION = 0.2
local FOV_BOOST = 50
local FOV_BOOST_DURATION = 0.2
local CHARGE_TIME_MAX = 3
local BOOST_POWER_NORMAL = 100
local BOOST_POWER_SUPER = 200
local BOOST_POWER_MIN = 50

local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local Humanoid = Character:WaitForChild('Humanoid')
local HumanoidRootPart = Character:WaitForChild('HumanoidRootPart')

local loadedAnimations = {}
local isRunningFast = false
local isCharging = false
local chargeBodyVelocity = nil
local chargeStartTime = 0
local chargePercent = 0
local currentSpeed = 0
local isMoving = false
local isSuperSonic = false
local savedIdleAnim1 = nil
local savedIdleAnim2 = nil
local savedWalkAnim = nil
local savedRunBoostAnim = nil
local savedWalkSuperAnim = nil
local platform = nil
local platformEnabled = false
local platformYTarget = 0

local SOUND_JUMP_ID = '6606602837'
local SOUND_SUPER_JUMP_ID = '9125516670'
local SOUND_SPIN_ID = '135557803'
local SOUND_SUPER_SPIN_ID = '2674547670'
local SOUND_BOOST_ID = '88921486254759'
local SOUND_TRANSFORM_ID = '11745241946'
local PARTICLE_NORMAL_ID = '99126858715949'

local stateConnection = nil
local moveConnection = nil

local function stopAllAnimations()
    local humanoid = Humanoid
    if humanoid then
        for _, track in ipairs(humanoid:GetPlayingAnimationTracks()) do
            track:Stop(0)
        end
    end
end

local function setFreefall()
    Humanoid:ChangeState(Enum.HumanoidStateType.Freefall)
end

local function resetIdleAnimation()
    stopAllAnimations()
    pcall(function()
        local animate = Character.Animate
        animate.idle.Animation1.AnimationId = 'http://www.roblox.com/asset/?id=0'
        animate.idle.Animation2.AnimationId = 'http://www.roblox.com/asset/?id=0'
    end)
end

local function resetWalkAnimation()
    stopAllAnimations()
    pcall(function()
        Character.Animate.walk.WalkAnim.AnimationId = 'http://www.roblox.com/asset/?id=0'
    end)
end

local function resetRunAnimation()
    stopAllAnimations()
    pcall(function()
        Character.Animate.run.RunAnim.AnimationId = 'http://www.roblox.com/asset/?id=0'
    end)
end

local function resetJumpAnimation()
    stopAllAnimations()
    pcall(function()
        Character.Animate.jump.JumpAnim.AnimationId = 'http://www.roblox.com/asset/?id=0'
    end)
end

local function resetFallAnimation()
    stopAllAnimations()
    pcall(function()
        Character.Animate.fall.FallAnim.AnimationId = 'http://www.roblox.com/asset/?id=0'
    end)
end

local function freezeCharacter()
    Humanoid.PlatformStand = true
    task.spawn(function()
        for _, part in ipairs(Character:GetDescendants()) do
            if part:IsA('BasePart') and not part.Anchored then
                part.Anchored = true
            end
        end
    end)
end

local function unfreezeCharacter()
    Humanoid.PlatformStand = false
    task.spawn(function()
        for _, obj in ipairs(Character:GetDescendants()) do
            if obj:IsA('BasePart') and obj.Anchored then
                obj.Anchored = false
            end
            if obj:IsA('BodyVelocity') then
                obj:Destroy()
            end
        end
    end)
end

function setAnimation(animType, animId)
    if Character and Character:FindFirstChild('Animate') then
        freezeCharacter()
        task.wait(0.1)
        pcall(function()
            if animType == 'Idle' then
                resetIdleAnimation()
                local animate = Character.Animate
                animate.idle.Animation1.AnimationId = 'http://www.roblox.com/asset/?id=' .. animId[1]
                animate.idle.Animation2.AnimationId = 'http://www.roblox.com/asset/?id=' .. animId[2]
                setFreefall()
            elseif animType == 'Walk' then
                resetWalkAnimation()
                Character.Animate.walk.WalkAnim.AnimationId = 'http://www.roblox.com/asset/?id=' .. animId
                setFreefall()
            elseif animType == 'Run' then
                resetRunAnimation()
                Character.Animate.run.RunAnim.AnimationId = 'http://www.roblox.com/asset/?id=' .. animId
                setFreefall()
            elseif animType == 'Jump' then
                resetJumpAnimation()
                Character.Animate.jump.JumpAnim.AnimationId = 'http://www.roblox.com/asset/?id=' .. animId
                setFreefall()
            elseif animType == 'Fall' then
                resetFallAnimation()
                Character.Animate.fall.FallAnim.AnimationId = 'http://www.roblox.com/asset/?id=' .. animId
                setFreefall()
            end
        end)
        task.wait(0.1)
        unfreezeCharacter()
    end
end

local function applyAllAnimations()
    if Character and Character:FindFirstChild('Animate') then
        task.spawn(function()
            local idleAnims = {ANIM_IDLE_1_ID, ANIM_IDLE_2_ID}
            setAnimation('Idle', idleAnims)
            task.wait(0.2)
            setAnimation('Walk', ANIM_WALK_ID)
            task.wait(0.2)
            setAnimation('Run', ANIM_WALK_SUPER_ID)
            task.wait(0.2)
            setAnimation('Jump', ANIM_JUMP_ID)
            task.wait(0.2)
            setAnimation('Fall', ANIM_FALL_ID)
        end)
    end
end

local function createPlatform()
    if platform then
        platform:Destroy()
    end
    platform = Instance.new('Part')
    platform.Name = 'SuperSonicPlatform'
    platform.Size = Vector3.new(20, 1, 20)
    platform.Transparency = 1
    platform.Anchored = true
    platform.CanCollide = true
    platform.Material = Enum.Material.SmoothPlastic
    platform.Parent = workspace
    platform.Position = Vector3.new(HumanoidRootPart.Position.X, HumanoidRootPart.Position.Y - 3, HumanoidRootPart.Position.Z)
end

local function enablePlatform()
    platformEnabled = true
    if platform then
        platform.CanCollide = true
    end
end

local function disablePlatform()
    platformEnabled = false
    if platform then
        platform.CanCollide = false
    end
end

local function loadAnimations()
    loadedAnimations = {}
    
    local spinNormalAnim = Instance.new('Animation')
    spinNormalAnim.AnimationId = 'rbxassetid://' .. ANIM_DOUBLE_JUMP_ID
    loadedAnimations.SpinNormal = Humanoid:LoadAnimation(spinNormalAnim)
    loadedAnimations.SpinNormal:AdjustSpeed(SPIN_SPEED_NORMAL)
    
    local spinSuperAnim = Instance.new('Animation')
    spinSuperAnim.AnimationId = 'rbxassetid://' .. ANIM_SUPER_SPIN_ID
    loadedAnimations.SpinSuper = Humanoid:LoadAnimation(spinSuperAnim)
    loadedAnimations.SpinSuper:AdjustSpeed(SPIN_SPEED_SUPER)
    
    local doubleJumpAnim = Instance.new('Animation')
    doubleJumpAnim.AnimationId = 'rbxassetid://' .. ANIM_SPIN_ID
    loadedAnimations.DoubleJump = Humanoid:LoadAnimation(doubleJumpAnim)
end

loadAnimations()

local headPart = Character:FindFirstChild('Head') or HumanoidRootPart
local soundJump = Instance.new('Sound', headPart)
local soundDoubleJump = Instance.new('Sound', headPart)
local soundSpin = Instance.new('Sound', headPart)
local soundBoost = Instance.new('Sound', headPart)
local soundSpeed = Instance.new('Sound', headPart)
local soundTransform = Instance.new('Sound', headPart)

local torsoPart = Character:FindFirstChild('Torso')
if not torsoPart then
    torsoPart = Character:FindFirstChild('UpperTorso') or HumanoidRootPart
end

local particleEmitter = Instance.new('ParticleEmitter', HumanoidRootPart)
local leftFootTrail = nil
local rightFootTrail = nil
local leftFootAttach1 = nil
local leftFootAttach2 = nil
local rightFootAttach1 = nil
local rightFootAttach2 = nil

local function setupFootTrails()
    local leftFoot = Character:FindFirstChild('LeftFoot') or Character:FindFirstChild('Left Leg')
    local rightFoot = Character:FindFirstChild('RightFoot') or Character:FindFirstChild('Right Leg')
    
    if leftFoot and rightFoot then
        if leftFootTrail then
            leftFootTrail:Destroy()
        end
        if rightFootTrail then
            rightFootTrail:Destroy()
        end
        if leftFootAttach1 then
            leftFootAttach1:Destroy()
        end
        if leftFootAttach2 then
            leftFootAttach2:Destroy()
        end
        if rightFootAttach1 then
            rightFootAttach1:Destroy()
        end
        if rightFootAttach2 then
            rightFootAttach2:Destroy()
        end
        
        leftFootAttach1 = Instance.new('Attachment', leftFoot)
        leftFootAttach1.Position = Vector3.new(0, 0.2, 0.2)
        leftFootAttach2 = Instance.new('Attachment', leftFoot)
        leftFootAttach2.Position = Vector3.new(0, -0.2, -0.2)
        rightFootAttach1 = Instance.new('Attachment', rightFoot)
        rightFootAttach1.Position = Vector3.new(0, 0.2, 0.2)
        rightFootAttach2 = Instance.new('Attachment', rightFoot)
        rightFootAttach2.Position = Vector3.new(0, -0.2, -0.2)
        
        leftFootTrail = Instance.new('Trail', leftFoot)
        leftFootTrail.Attachment0 = leftFootAttach1
        leftFootTrail.Attachment1 = leftFootAttach2
        leftFootTrail.Lifetime = 0.25
        leftFootTrail.LightEmission = 0.5
        leftFootTrail.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 0.2),
            NumberSequenceKeypoint.new(1, 1),
        })
        leftFootTrail.Color = ColorSequence.new(Color3.fromRGB(135, 206, 235), Color3.fromRGB(0, 191, 255))
        leftFootTrail.Enabled = false
        
        rightFootTrail = Instance.new('Trail', rightFoot)
        rightFootTrail.Attachment0 = rightFootAttach1
        rightFootTrail.Attachment1 = rightFootAttach2
        rightFootTrail.Lifetime = 0.25
        rightFootTrail.LightEmission = 0.5
        rightFootTrail.Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 0.2),
            NumberSequenceKeypoint.new(1, 1),
        })
        rightFootTrail.Color = ColorSequence.new(Color3.fromRGB(135, 206, 235), Color3.fromRGB(0, 191, 255))
        rightFootTrail.Enabled = false
    end
end

local function setupNormalEffects()
    soundJump.SoundId = 'rbxassetid://8620459552'
    soundDoubleJump.SoundId = 'rbxassetid://7699333859'
    soundSpin.SoundId = 'rbxassetid://' .. SOUND_JUMP_ID
    soundBoost.SoundId = 'rbxassetid://' .. SOUND_BOOST_ID
    soundSpeed.SoundId = 'rbxassetid://' .. SOUND_SPIN_ID
    soundTransform.SoundId = 'rbxassetid://8404814227'
    particleEmitter.Texture = 'rbxassetid://' .. SOUND_TRANSFORM_ID
    particleEmitter.Parent = HumanoidRootPart
    particleEmitter.Rate = 0
    particleEmitter.Lifetime = NumberRange.new(0.3, 0.6)
    particleEmitter.Speed = NumberRange.new(10, 18)
    particleEmitter.Rotation = NumberRange.new(0, 360)
    particleEmitter.RotSpeed = NumberRange.new(80, 150)
    particleEmitter.Size = NumberSequence.new({
        NumberSequenceKeypoint.new(0, 2.5),
        NumberSequenceKeypoint.new(0.5, 2),
        NumberSequenceKeypoint.new(1, 0),
    })
    particleEmitter.Transparency = NumberSequence.new({
        NumberSequenceKeypoint.new(0, 0),
        NumberSequenceKeypoint.new(0.8, 0.4),
        NumberSequenceKeypoint.new(1, 1),
    })
    particleEmitter.Color = ColorSequence.new(Color3.fromRGB(200, 200, 200), Color3.fromRGB(255, 255, 255))
    particleEmitter.EmissionDirection = Enum.NormalId.Back
    particleEmitter.Orientation = Enum.ParticleOrientation.VelocityParallel
    
    if leftFootTrail and rightFootTrail then
        leftFootTrail.Color = ColorSequence.new(Color3.fromRGB(135, 206, 235), Color3.fromRGB(0, 191, 255))
        rightFootTrail.Color = ColorSequence.new(Color3.fromRGB(135, 206, 235), Color3.fromRGB(0, 191, 255))
    end
end

local function setupSuperEffects()
    soundJump.SoundId = 'rbxassetid://8620459552'
    soundDoubleJump.SoundId = 'rbxassetid://7699333859'
    soundSpin.SoundId = 'rbxassetid://' .. SOUND_SUPER_JUMP_ID
    soundSpeed.SoundId = 'rbxassetid://' .. SOUND_SUPER_SPIN_ID
    soundTransform.SoundId = 'rbxassetid://8404814227'
    particleEmitter.Texture = 'rbxassetid://' .. PARTICLE_NORMAL_ID
    particleEmitter.Parent = torsoPart
    particleEmitter.Rate = 0
    particleEmitter.Lifetime = NumberRange.new(0.3, 0.6)
    particleEmitter.Speed = NumberRange.new(10, 18)
    particleEmitter.Rotation = NumberRange.new(0, 360)
    particleEmitter.RotSpeed = NumberRange.new(80, 150)
    particleEmitter.Size = NumberSequence.new({
        NumberSequenceKeypoint.new(0, 2.5),
        NumberSequenceKeypoint.new(0.5, 2),
        NumberSequenceKeypoint.new(1, 0),
    })
    particleEmitter.Transparency = NumberSequence.new({
        NumberSequenceKeypoint.new(0, 0),
        NumberSequenceKeypoint.new(0.8, 0.4),
        NumberSequenceKeypoint.new(1, 1),
    })
    particleEmitter.Color = ColorSequence.new(Color3.fromRGB(255, 255, 0), Color3.fromRGB(255, 215, 0))
    particleEmitter.EmissionDirection = Enum.NormalId.Back
    particleEmitter.Orientation = Enum.ParticleOrientation.VelocityParallel
    
    if leftFootTrail and rightFootTrail then
        leftFootTrail.Color = ColorSequence.new(Color3.fromRGB(255, 255, 0), Color3.fromRGB(255, 215, 0))
        rightFootTrail.Color = ColorSequence.new(Color3.fromRGB(255, 255, 0), Color3.fromRGB(255, 215, 0))
    end
end

local function stopAllSounds()
    soundJump:Stop()
    soundDoubleJump:Stop()
    soundSpin:Stop()
    soundBoost:Stop()
    soundSpeed:Stop()
    soundTransform:Stop()
end

local jumpCount = 0
local maxJumps = 2
local lastJumpTime = tick()

local function setupConnections()
    if stateConnection then
        stateConnection:Disconnect()
    end
    if moveConnection then
        moveConnection:Disconnect()
    end
    
    stateConnection = Humanoid.StateChanged:Connect(function(_, newState)
        if newState == Enum.HumanoidStateType.Landed then
            jumpCount = 0
            if loadedAnimations.DoubleJump and loadedAnimations.DoubleJump.IsPlaying then
                loadedAnimations.DoubleJump:Stop()
            end
        end
    end)
    
    moveConnection = Humanoid:GetPropertyChangedSignal('MoveDirection'):Connect(function()
        isMoving = Humanoid.MoveDirection.Magnitude > 0
    end)
end

UserInputService.JumpRequest:Connect(function()
    if jumpCount < maxJumps and tick() - lastJumpTime > 0.2 then
        lastJumpTime = tick()
        jumpCount = jumpCount + 1
        Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
        
        if jumpCount == 1 then
            soundJump:Play()
        elseif jumpCount == 2 then
            soundDoubleJump:Play()
            if loadedAnimations.DoubleJump then
                loadedAnimations.DoubleJump:Play()
            end
        end
    end
end)

local function startCharge()
    if not isCharging then
        isCharging = true
        chargeStartTime = tick()
        
        if isSuperSonic then
            if loadedAnimations.SpinSuper then
                loadedAnimations.SpinSuper:Play()
                loadedAnimations.SpinSuper:AdjustSpeed(SPIN_SPEED_SUPER)
            end
        elseif loadedAnimations.SpinNormal then
            loadedAnimations.SpinNormal:Play()
            loadedAnimations.SpinNormal:AdjustSpeed(SPIN_SPEED_NORMAL)
        end
        
        soundSpin:Play()
        particleEmitter.Enabled = true
        particleEmitter.Rate = 50
        
        chargeBodyVelocity = Instance.new('BodyVelocity')
        chargeBodyVelocity.MaxForce = Vector3.new(100000, 0, 100000)
        chargeBodyVelocity.Velocity = Vector3.new(0, 0, 0)
        chargeBodyVelocity.P = 1250
        chargeBodyVelocity.Parent = HumanoidRootPart
    end
end

local function releaseCharge()
    if isCharging then
        isCharging = false
        
        local chargeDuration = tick() - chargeStartTime
        chargePercent = math.min(chargeDuration / CHARGE_TIME_MAX, 1)
        
        local boostPower = BOOST_POWER_MIN + ((isSuperSonic and BOOST_POWER_SUPER or BOOST_POWER_NORMAL) - BOOST_POWER_MIN) * chargePercent
        
        if isSuperSonic then
            if loadedAnimations.SpinSuper then
                loadedAnimations.SpinSuper:Stop()
            end
            soundSpin:Stop()
        else
            if loadedAnimations.SpinNormal then
                loadedAnimations.SpinNormal:Stop()
            end
            soundBoost:Play()
        end
        
        particleEmitter.Enabled = false
        particleEmitter.Rate = 0
        
        if chargeBodyVelocity then
            chargeBodyVelocity:Destroy()
            chargeBodyVelocity = nil
        end
        
        currentSpeed = currentSpeed + boostPower
        
        if HumanoidRootPart then
            local lookVector = HumanoidRootPart.CFrame.LookVector
            local velocityMultiplier = 100 + chargePercent * 40
            HumanoidRootPart.AssemblyLinearVelocity = Vector3.new(
                lookVector.X * velocityMultiplier,
                HumanoidRootPart.AssemblyLinearVelocity.Y,
                lookVector.Z * velocityMultiplier
            )
        end
    end
end

local function createSpeedFlash(color)
    local screenGui = Instance.new('ScreenGui')
    screenGui.Name = 'SpeedFlashGui'
    screenGui.ResetOnSpawn = false
    screenGui.Parent = LocalPlayer:WaitForChild('PlayerGui')
    screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    screenGui.IgnoreGuiInset = true
    
    local frame = Instance.new('Frame', screenGui)
    frame.Size = UDim2.new(1, 0, 1, 0)
    frame.Position = UDim2.new(0, 0, 0, 0)
    frame.BackgroundColor3 = color or Color3.fromRGB(255, 255, 255)
    frame.BackgroundTransparency = 1
    frame.BorderSizePixel = 0
    
    local tweenInfo = TweenInfo.new(SPEED_FLASH_DURATION / 2, Enum.EasingStyle.Quart, Enum.EasingDirection.Out)
    local tweenIn = TweenService:Create(frame, tweenInfo, {BackgroundTransparency = 0.5})
    local tweenOut = TweenService:Create(frame, tweenInfo, {BackgroundTransparency = 1})
    
    tweenIn:Play()
    tweenIn.Completed:Wait()
    tweenOut:Play()
    
    task.spawn(function()
        task.wait(SPEED_FLASH_DURATION)
        if screenGui then
            screenGui:Destroy()
        end
    end)
end

local function transformToSuper()
    if not isSuperSonic then
        stopAllSounds()
        particleEmitter.Enabled = false
        currentSpeedLimit = SPEED_SUPER
        platformYTarget = HumanoidRootPart.Position.Y + 10
        
        createPlatform()
        enablePlatform()
        
        savedIdleAnim1 = ANIM_IDLE_1_ID
        savedIdleAnim2 = ANIM_IDLE_2_ID
        savedWalkAnim = ANIM_WALK_ID
        savedRunBoostAnim = ANIM_RUN_BOOST_ID
        savedWalkSuperAnim = ANIM_WALK_SUPER_ID
        
        ANIM_IDLE_1_ID = ANIM_SUPER_IDLE_1_ID
        ANIM_IDLE_2_ID = ANIM_SUPER_IDLE_1_ID
        ANIM_WALK_ID = ANIM_SUPER_IDLE_2_ID
        ANIM_WALK_SUPER_ID = ANIM_SUPER_IDLE_2_ID
        ANIM_RUN_BOOST_ID = ANIM_SUPER_RUN_ID
        
        setupSuperEffects()
        applyAllAnimations()
        createSpeedFlash(Color3.fromRGB(255, 255, 0))
        soundTransform:Play()
        
        isSuperSonic = true
    end
end

local function transformToNormal()
    if isSuperSonic then
        stopAllSounds()
        particleEmitter.Enabled = false
        currentSpeedLimit = SPEED_NORMAL
        
        disablePlatform()
        
        if platform then
            platform:Destroy()
            platform = nil
        end
        
        if savedIdleAnim1 then
            ANIM_IDLE_1_ID = savedIdleAnim1
        end
        if savedIdleAnim2 then
            ANIM_IDLE_2_ID = savedIdleAnim2
        end
        if savedWalkAnim then
            ANIM_WALK_ID = savedWalkAnim
        end
        if savedRunBoostAnim then
            ANIM_RUN_BOOST_ID = savedRunBoostAnim
        end
        if savedWalkSuperAnim then
            ANIM_WALK_SUPER_ID = savedWalkSuperAnim
        end
        
        setupNormalEffects()
        applyAllAnimations()
        createSpeedFlash(Color3.fromRGB(0, 191, 255))
        soundTransform:Play()
        
        isSuperSonic = false
    end
end

local function toggleSuperSonic()
    if isSuperSonic then
        transformToNormal()
    else
        transformToSuper()
    end
end

local isKeyboardMode = UserInputService.KeyboardEnabled
if isKeyboardMode then
    isKeyboardMode = not UserInputService.TouchEnabled
end

local chargeButton = nil
local chargeBar = nil

if isKeyboardMode then
    UserInputService.InputBegan:Connect(function(input, gameProcessed)
        if not gameProcessed then
            if input.KeyCode == Enum.KeyCode.C then
                startCharge()
            elseif input.KeyCode == Enum.KeyCode.V then
                toggleSuperSonic()
            end
        end
    end)
    
    UserInputService.InputEnded:Connect(function(input, gameProcessed)
        if not gameProcessed then
            if input.KeyCode == Enum.KeyCode.C then
                releaseCharge()
            end
        end
    end)
elseif UserInputService.TouchEnabled then
    local screenGui = Instance.new('ScreenGui')
    screenGui.Name = 'SpinDashGui'
    screenGui.ResetOnSpawn = false
    screenGui.Parent = LocalPlayer:WaitForChild('PlayerGui')
    
    local imageButton = Instance.new('ImageButton')
    imageButton.Name = 'SpinDashButton'
    imageButton.AnchorPoint = Vector2.new(1, 1)
    imageButton.BackgroundTransparency = 1
    imageButton.Image = 'rbxassetid://131549024042077'
    imageButton.Parent = screenGui
    
    local frame = Instance.new('Frame')
    frame.Name = 'ChargeBar'
    frame.Size = UDim2.new(0, 20, 0, 0)
    frame.Position = UDim2.new(0, -30, 1, 0)
    frame.AnchorPoint = Vector2.new(0, 1)
    frame.BackgroundColor3 = Color3.fromRGB(0, 200, 255)
    frame.BorderSizePixel = 0
    frame.BackgroundTransparency = 1
    frame.Parent = imageButton
    Instance.new('UICorner', frame).CornerRadius = UDim.new(0, 8)
    
    local superButton = Instance.new('ImageButton')
    superButton.Name = 'SuperSonicButton'
    superButton.AnchorPoint = Vector2.new(1, 1)
    superButton.BackgroundTransparency = 1
    superButton.Image = 'rbxassetid://100711260432231'
    superButton.Parent = screenGui
    
    local tweenInfoIn = TweenInfo.new(0.2, Enum.EasingStyle.Quart, Enum.EasingDirection.Out)
    local tweenInfoOut = TweenInfo.new(0.2, Enum.EasingStyle.Quart, Enum.EasingDirection.In)
    local barTweenIn = TweenService:Create(frame, tweenInfoIn, {BackgroundTransparency = 0.15})
    local barTweenOut = TweenService:Create(frame, tweenInfoOut, {BackgroundTransparency = 1})
    
    imageButton.MouseButton1Down:Connect(function()
        if not isCharging then
            imageButton.Image = 'rbxassetid://126068833364301'
        end
        startCharge()
        barTweenIn:Play()
    end)
    
    imageButton.MouseButton1Up:Connect(function()
        imageButton.Image = 'rbxassetid://131549024042077'
        releaseCharge()
        barTweenOut:Play()
    end)
    
    superButton.MouseButton1Down:Connect(function()
        superButton.Image = 'rbxassetid://109440344652504'
    end)
    
    superButton.MouseButton1Up:Connect(function()
        superButton.Image = 'rbxassetid://100711260432231'
        toggleSuperSonic()
        
        if frame then
            if isSuperSonic then
                frame.BackgroundColor3 = Color3.fromRGB(255, 255, 0)
            else
                frame.BackgroundColor3 = Color3.fromRGB(0, 200, 255)
            end
        end
    end)
    
    RunService.RenderStepped:Connect(function()
        local touchGui = LocalPlayer.PlayerGui:FindFirstChild('TouchGui')
        if touchGui then
            local touchControlFrame = touchGui:FindFirstChild('TouchControlFrame')
            if touchControlFrame then
                local jumpButton = touchControlFrame:FindFirstChild('JumpButton')
                if jumpButton and imageButton and superButton then
                    local jumpPos = jumpButton.AbsolutePosition
                    local jumpSize = jumpButton.AbsoluteSize
                    local rightEdge = jumpPos.X + jumpSize.X
                    local bottomEdge = jumpPos.Y + jumpSize.Y
                    
                    imageButton.Position = UDim2.new(0, rightEdge - jumpSize.X - 10, 0, bottomEdge)
                    imageButton.Size = UDim2.new(0, jumpSize.X, 0, jumpSize.Y)
                    superButton.Position = UDim2.new(0, rightEdge, 0, bottomEdge - jumpSize.Y - 10)
                    superButton.Size = UDim2.new(0, jumpSize.X, 0, jumpSize.Y)
                end
            end
        else
            return
        end
    end)
    
    chargeBar = frame
    chargeButton = imageButton
end

RunService.Heartbeat:Connect(function()
    if isCharging and chargeBar and chargeButton and not isKeyboardMode then
        local elapsedTime = tick() - chargeStartTime
        local percent = math.min(elapsedTime / CHARGE_TIME_MAX, 1)
        local buttonHeight = chargeButton.AbsoluteSize.Y
        
        chargeBar.Size = UDim2.new(0, 20, 0, buttonHeight * percent)
        
        if isSuperSonic then
            if percent >= 0.95 then
                chargeBar.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
            else
                chargeBar.BackgroundColor3 = Color3.fromRGB(255, 255, 0)
            end
        elseif percent >= 0.95 then
            chargeBar.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
        else
            chargeBar.BackgroundColor3 = Color3.fromRGB(0, 200, 255)
        end
    end
end)

local hasReachedMaxSpeed = false
local platformRiseSpeed = 0
local PLATFORM_RISE_SPEED = 5

RunService.Heartbeat:Connect(function(deltaTime)
    if isSuperSonic and platformEnabled and platform and HumanoidRootPart then
        local platformY = platform.Position.Y
        if platformY >= platformYTarget then
            platform.Position = Vector3.new(HumanoidRootPart.Position.X, platformYTarget, HumanoidRootPart.Position.Z)
        else
            platformRiseSpeed = platformRiseSpeed + PLATFORM_RISE_SPEED * deltaTime
            local newY = math.min(platformY + PLATFORM_RISE_SPEED * deltaTime, platformYTarget)
            platform.Position = Vector3.new(HumanoidRootPart.Position.X, newY, HumanoidRootPart.Position.Z)
        end
    end
    
    if not isCharging then
        if isMoving then
            currentSpeed = currentSpeed + (currentSpeed < 20 and 30 or 50) * deltaTime
        else
            currentSpeed = 0
        end
    end
    
    Humanoid.WalkSpeed = currentSpeed
    
    if isMoving then
        if currentSpeedLimit > currentSpeed or isRunningFast then
            if currentSpeed < currentSpeedLimit and isRunningFast then
                task.spawn(function()
                    setAnimation('Run', ANIM_WALK_SUPER_ID)
                end)
                isRunningFast = false
            end
        else
            task.spawn(function()
                setAnimation('Run', ANIM_RUN_BOOST_ID)
            end)
            isRunningFast = true
        end
    elseif not isMoving and isRunningFast then
        task.spawn(function()
            setAnimation('Run', ANIM_WALK_SUPER_ID)
        end)
        isRunningFast = false
    end
    
    if currentSpeedLimit > currentSpeed then
        hasReachedMaxSpeed = false
        soundSpeed:Stop()
    elseif not hasReachedMaxSpeed then
        hasReachedMaxSpeed = true
        soundSpeed:Play()
        createSpeedFlash(Color3.fromRGB(255, 255, 255))
        
        local currentFOV = Camera.FieldOfView
        local fovTweenInfo = TweenInfo.new(FOV_BOOST_DURATION, Enum.EasingStyle.Cubic, Enum.EasingDirection.Out)
        local fovResetInfo = TweenInfo.new(FOV_BOOST_DURATION * 2, Enum.EasingStyle.Cubic, Enum.EasingDirection.In)
        
        TweenService:Create(Camera, fovTweenInfo, {FieldOfView = FOV_BOOST}):Play()
        task.delay(FOV_BOOST_DURATION, function()
            TweenService:Create(Camera, fovResetInfo, {FieldOfView = currentFOV}):Play()
        end)
    end
    
    if leftFootTrail and rightFootTrail then
        leftFootTrail.Enabled = currentSpeedLimit <= currentSpeed
        rightFootTrail.Enabled = currentSpeedLimit <= currentSpeed
    end
    
    local speedRatio = math.clamp(currentSpeed / 100, 0, 1)
    local targetFOV = FOV_MIN + (FOV_MAX - FOV_MAX_OFFSET) * speedRatio
    
    Camera.FieldOfView = Camera.FieldOfView + (targetFOV - Camera.FieldOfView) * FOV_LERP_SPEED
end)

LocalPlayer.CharacterAdded:Connect(function(newCharacter)
    Character = newCharacter
    Humanoid = Character:WaitForChild('Humanoid')
    HumanoidRootPart = Character:WaitForChild('HumanoidRootPart')
    
    unfreezeCharacter()
    Camera.FieldOfView = FOV_MIN
    disablePlatform()
    
    if platform then
        platform:Destroy()
        platform = nil
    end
    
    headPart = Character:FindFirstChild('Head') or HumanoidRootPart
    soundJump.Parent = headPart
    soundDoubleJump.Parent = headPart
    soundSpin.Parent = headPart
    soundBoost.Parent = headPart
    soundSpeed.Parent = headPart
    soundTransform.Parent = headPart
    
    torsoPart = Character:FindFirstChild('Torso') or (Character:FindFirstChild('UpperTorso') or HumanoidRootPart)
    particleEmitter.Parent = isSuperSonic and torsoPart or HumanoidRootPart
    
    loadAnimations()
    applyAllAnimations()
    setupFootTrails()
    
    if isSuperSonic then
        setupSuperEffects()
        currentSpeedLimit = SPEED_SUPER
        createPlatform()
        enablePlatform()
    else
        setupNormalEffects()
        currentSpeedLimit = SPEED_NORMAL
    end
    
    setupConnections()
    
    jumpCount = 0
    currentSpeed = 0
    isCharging = false
    chargePercent = 0
    platformRiseSpeed = 0
    
    if chargeBodyVelocity then
        chargeBodyVelocity:Destroy()
    end
    
    hasReachedMaxSpeed = false
    isRunningFast = false
    particleEmitter.Enabled = false
end)

setupFootTrails()
setupNormalEffects()
applyAllAnimations()
setupConnections()

local function createInstance(className, properties, children)
    local instance = Instance.new(className)
    
    for key, value in pairs(properties or {}) do
        instance[key] = value
    end
    
    for _, child in pairs(children or {}) do
        child.Parent = instance
    end
    
    return instance
end

(function(title, message, shouldYield)
    if not getrenv then
        return warn(message)
    end
    
    local errorPrompt = getrenv().require(
        game.CoreGui:WaitForChild('RobloxGui'):WaitForChild('Modules'):WaitForChild('ErrorPrompt')
    ).new('Default', {HideErrorCode = true})
    
    local screenGui = createInstance('ScreenGui', {
        Parent = game.CoreGui,
        ResetOnSpawn = false,
    })
    
    if shouldYield then
        shouldYield = coroutine.running()
    end
    
    errorPrompt:setParent(screenGui)
    errorPrompt:setErrorTitle(title)
    errorPrompt:updateButtons({
        {
            Text = 'OK',
            Callback = function()
                errorPrompt:_close()
                screenGui:Destroy()
                if shouldYield then
                    coroutine.resume(shouldYield)
                end
            end,
            Primary = true,
        },
    }, 'Default')
    errorPrompt:_open(message)
    
    if shouldYield then
        coroutine.yield()
    end
end)('Creator Script: Shelby', true)
    end
})

Tab:AddButton({
    Name = "Slenderman Fe",
    Desc = "Slenderman Fe",
    Callback = function()
        
        game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))
        
        local Players = game:GetService("Players")
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local LocalPlayer = Players.LocalPlayer
        local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
        local Humanoid = Character:FindFirstChildOfClass("Humanoid")
        
        if Humanoid then
            local Desc = Humanoid:GetAppliedDescription()
            local WearRemote = ReplicatedStorage.Remotes.Wear
            
            for _, accessory in ipairs(Desc:GetAccessories(true)) do
                if accessory.AssetId then
                    WearRemote:InvokeServer(accessory.AssetId)
                end
            end
            
            local accessoriesToWear = {
                120649658921950,
                130685023999292,
                5319900634,
                5319909330,
                5319922112,
            }
            
            for _, id in ipairs(accessoriesToWear) do
                pcall(function()
                    WearRemote:InvokeServer(id)
                end)
            end
        end
        
        local runService = game:GetService("RunService")
        local players = game:GetService("Players")
        
        local player = players.LocalPlayer
        repeat task.wait() until player.Character
        local character = player.Character
        local humanoid = character:WaitForChild("Humanoid")
        local rootPart = character:WaitForChild("HumanoidRootPart")
        
        repeat task.wait() until workspace.CurrentCamera
        local camera = workspace.CurrentCamera
        
        local walkCycleSpeed = 1.4
        local runCycleSpeed = 1.8
        local walkBobIntensity = 0.012
        local runBobIntensity = 0.012
        local tiltIntensity = 0.6
        local breathingIntensity = 0.012
        local headTurnShake = 0.012
        local headTiltShake = 0.0012
        
        local camerashake = CFrame.new()
        local currentOffset = Vector3.new(0, 0, 0)
        local currentTilt = 0
        local stepCycle = 0
        local breathCycle = 0
        local lastYPosition = rootPart.Position.Y
        local fallVelocity = 0
        local landingImpact = 0
        local lastMoveDirection = Vector3.new(0, 0, 0)
        
        local lastCameraRotation = camera.CFrame.LookVector
        local cameraVelocity = Vector3.new(0, 0, 0)
        local headMomentum = Vector3.new(0, 0, 0)
        local neckLag = CFrame.new()
        local microShake = 0
        
        local function setupEffects()
            for _, effect in ipairs(camera:GetChildren()) do
                if effect:IsA("BlurEffect") or effect:IsA("ColorCorrectionEffect") then
                    effect:Destroy()
                end
            end
            
            local vignetteBlur = Instance.new("BlurEffect")
            vignetteBlur.Size = 0
            vignetteBlur.Parent = camera
            
            local vignette = Instance.new("ColorCorrectionEffect")
            vignette.Brightness = 0
            vignette.Contrast = 0
            vignette.Saturation = 0
            vignette.TintColor = Color3.new(1, 1, 1)
            vignette.Parent = camera
            
            return vignetteBlur, vignette
        end
        
        local vignetteBlur, vignette = setupEffects()
        
        local function setupVignetteImage()
            local playerGui = player:WaitForChild("PlayerGui")
            
            for i = 1, 3 do
                local screenGui = Instance.new("ScreenGui")
                screenGui.Name = "VignetteGui" .. i
                screenGui.ResetOnSpawn = false
                screenGui.IgnoreGuiInset = true
                screenGui.DisplayOrder = 10 + i
                screenGui.Parent = playerGui
                
                local vignetteImage = Instance.new("ImageLabel")
                vignetteImage.Name = "VignetteImage"
                vignetteImage.Size = UDim2.new(1, 0, 1, 0)
                vignetteImage.Position = UDim2.new(0, 0, 0, 0)
                vignetteImage.BackgroundTransparency = 1
                vignetteImage.Image = "rbxassetid://10548483470"
                vignetteImage.ScaleType = Enum.ScaleType.Stretch
                vignetteImage.Parent = screenGui
            end
        end
        
        setupVignetteImage()
        
        local function updateVignette(intensity)
            if not vignetteBlur or not vignetteBlur.Parent then
                vignetteBlur, vignette = setupEffects()
            end
            
            intensity = math.clamp(intensity, 0, 0.35)
            
            local targetSize = intensity * 2.5
            local targetBrightness = -intensity * 0.06
            local targetSaturation = -intensity * 0.09
            
            vignetteBlur.Size = vignetteBlur.Size + (targetSize - vignetteBlur.Size) * 0.09
            vignette.Brightness = vignette.Brightness + (targetBrightness - vignette.Brightness) * 0.09
            vignette.Saturation = vignette.Saturation + (targetSaturation - vignette.Saturation) * 0.09
        end
        
        runService.RenderStepped:Connect(function(deltaTime)
            if not character or not character.Parent then return end
            if not humanoid or not humanoid.Parent then return end
            if not rootPart or not rootPart.Parent then return end
            if not camera or not camera.Parent then return end
            
            local moveSpeed = humanoid.MoveDirection.Magnitude
            local currentYPosition = rootPart.Position.Y
            local walkSpeed = humanoid.WalkSpeed
            
            fallVelocity = (currentYPosition - lastYPosition) / math.max(deltaTime, 0.001)
            lastYPosition = currentYPosition
            
            local currentRotation = camera.CFrame.LookVector
            local rotationDelta = (currentRotation - lastCameraRotation)
            cameraVelocity = rotationDelta * 0.6
            lastCameraRotation = currentRotation
            
            local turnSpeed = math.clamp(cameraVelocity.Magnitude * 12, 0, 1)
            
            microShake = microShake + deltaTime * 8
            local naturalShake = CFrame.Angles(
                math.sin(microShake * 1.2) * 0.002,
                math.cos(microShake * 0.8) * 0.00010,
                math.sin(microShake * 1.5) * 0.0015
            )
            
            local turnShakeX = cameraVelocity.Y * headTurnShake
            local turnShakeY = -math.abs(cameraVelocity.X) * headTiltShake * 0.2
            local turnShakeZ = -cameraVelocity.X * headTurnShake
            
            headMomentum = headMomentum:Lerp(Vector3.new(turnShakeX, turnShakeY, turnShakeZ), 0.1)
            headMomentum = headMomentum * 0.9
            
            local momentumShake = CFrame.Angles(
                math.clamp(headMomentum.X, -0.04, 0.04),
                math.clamp(headMomentum.Y, -0.02, 0.02),
                math.clamp(headMomentum.Z, -0.04, 0.04)
            )
            
            local neckLagIntensity = math.clamp(turnSpeed * 0.018, 0, 0.025)
            local targetNeckLag = CFrame.Angles(
                cameraVelocity.Y * neckLagIntensity,
                0,
                -cameraVelocity.X * neckLagIntensity
            )
            neckLag = neckLag:Lerp(targetNeckLag, 0.09)
            
            local isGrounded = humanoid.FloorMaterial ~= Enum.Material.Air
            local isMoving = moveSpeed > 0.1
            local isRunning = walkSpeed > 16 and isMoving
            
            if not isGrounded and fallVelocity < -10 then
                landingImpact = math.clamp(-fallVelocity / 90, 0, 0.6)
            end
            
            if isGrounded and landingImpact > 0.1 then
                local impactY = -landingImpact * 0.18
                local impactShake = (math.random() - 0.5) * landingImpact * 0.06
                currentOffset = Vector3.new(impactShake, impactY, impactShake)
                currentTilt = (math.random() - 0.5) * landingImpact * 1.2
                updateVignette(landingImpact * 0.25)
                landingImpact = landingImpact * 0.87
            elseif isMoving and isGrounded then
                local cycleSpeed = isRunning and runCycleSpeed or walkCycleSpeed
                local bobIntensity = isRunning and runBobIntensity or walkBobIntensity
                local speedFactor = math.clamp(walkSpeed / 16, 0.5, 1.6)
                
                stepCycle = stepCycle + deltaTime * cycleSpeed * speedFactor * moveSpeed
                
                local stepPhase = stepCycle * math.pi * 2
                local verticalBob = math.sin(stepPhase * 2) * bobIntensity * speedFactor
                verticalBob = math.max(0, verticalBob)
                
                local horizontalBob = math.sin(stepPhase) * bobIntensity * 0.35 * speedFactor
                local depthBob = math.cos(stepPhase) * bobIntensity * 0.18 * speedFactor
                
                local moveDelta = humanoid.MoveDirection - lastMoveDirection
                lastMoveDirection = humanoid.MoveDirection
                
                local strafeTilt = -humanoid.MoveDirection.X * tiltIntensity * speedFactor
                local targetTilt = strafeTilt + math.sin(stepPhase) * tiltIntensity * 0.25 * speedFactor
                currentTilt = currentTilt + (targetTilt - currentTilt) * 0.07
                
                currentOffset = Vector3.new(horizontalBob, verticalBob, depthBob)
                
                local runIntensity = isRunning and (moveSpeed * 0.18) or 0
                local totalIntensity = runIntensity + (turnSpeed * 0.12)
                updateVignette(totalIntensity)
                
                landingImpact = landingImpact * 0.91
                
                camerashake = camerashake:Lerp(CFrame.new() * CFrame.Angles(0, 0, 0.012 * math.sin(tick() * 4.5)), 0.45)
            else
                breathCycle = breathCycle + deltaTime * 0.7
                local breathPhase = breathCycle * math.pi * 2
                
                local breathY = math.sin(breathPhase) * breathingIntensity
                currentOffset = Vector3.new(0, breathY, 0)
                
                currentTilt = currentTilt * 0.93
                landingImpact = landingImpact * 0.91
                
                updateVignette(turnSpeed * 0.09)
                
                camerashake = camerashake:Lerp(CFrame.new(), 0.55)
            end
            
            humanoid.CameraOffset = humanoid.CameraOffset:Lerp(currentOffset, 0.17)
            
            local currentCFrame = camera.CFrame
            local targetRotation = CFrame.Angles(0, 0, math.rad(currentTilt))
            camera.CFrame = currentCFrame * targetRotation:Lerp(CFrame.new(), 0.87) * camerashake * momentumShake * neckLag * naturalShake
        end)
        
        player.CharacterAdded:Connect(function(newCharacter)
            character = newCharacter
            humanoid = newCharacter:WaitForChild("Humanoid")
            rootPart = newCharacter:WaitForChild("HumanoidRootPart")
            lastYPosition = rootPart.Position.Y
            currentOffset = Vector3.new(0, 0, 0)
            currentTilt = 0
            stepCycle = 0
            breathCycle = 0
            fallVelocity = 0
            landingImpact = 0
            camerashake = CFrame.new()
            headMomentum = Vector3.new(0, 0, 0)
            neckLag = CFrame.new()
            microShake = 0
            lastCameraRotation = camera.CFrame.LookVector
            vignetteBlur, vignette = setupEffects()
            setupVignetteImage()
        end)
        
        local Players = game:GetService("Players")
        local RunService = game:GetService("RunService")
        local Workspace = game:GetService("Workspace")
        local player = Players.LocalPlayer
        
        local stalkFOVdeg = 160
        local fugaMaxDistancia = 65
        local maxStalkDistance = 65
        local stalkBehindDistance = 2.5
        
        local stalking = false
        local stalkConn = nil
        local stalkTarget = nil
        local toolEquipped = false
        
        local function updateCharacter()
            local character = player.Character
            if character then
                return character, character:WaitForChild("HumanoidRootPart"), character:FindFirstChildOfClass("Humanoid")
            end
            return nil, nil, nil
        end
        
        local function waitForCharacter()
            local character, hrp, hum = updateCharacter()
            while not character or not hrp or not hum do
                wait(0.1)
                character, hrp, hum = updateCharacter()
            end
            return character, hrp, hum
        end
        
        local function teleportStalk(desiredCFrame, targetHRP, hrp)
            if not hrp or not targetHRP then return end
            local targetY = targetHRP.Position.Y
            local finalPosition = Vector3.new(desiredCFrame.X, targetY, desiredCFrame.Z)
            hrp.CFrame = CFrame.new(finalPosition) * (desiredCFrame - desiredCFrame.Position)
        end
        
        local function stopStalk()
            if not stalking then return end
            
            stalking = false
            
            if stalkConn then
                stalkConn:Disconnect()
                stalkConn = nil
            end
            
            stalkTarget = nil
        end
        
        local function startStalk(targetPlayer)
            local character, hrp, hum = waitForCharacter()
            
            if not targetPlayer or not targetPlayer.Character then return end
            
            local targHRP = targetPlayer.Character:FindFirstChild("HumanoidRootPart")
            local targHum = targetPlayer.Character:FindFirstChildOfClass("Humanoid")
            
            if not (targHRP and targHum and targHum.Health > 0) then return end
            
            if stalking and stalkTarget == targetPlayer then
                stopStalk()
                return
            end
            
            if stalking then
                stopStalk()
                task.wait(0.2)
            end
            
            stalking = true
            stalkTarget = targetPlayer
            
            local rayParams = RaycastParams.new()
            rayParams.FilterType = Enum.RaycastFilterType.Exclude
            local fovCos = math.cos(math.rad(stalkFOVdeg * 0.5))
            
            if stalkConn then stalkConn:Disconnect() end
            
            stalkConn = RunService.RenderStepped:Connect(function()
                if not stalking or not stalkTarget then
                    stopStalk()
                    return
                end
                
                character, hrp, hum = updateCharacter()
                if not character or not hrp or not hum then
                    stopStalk()
                    return
                end
                
                targHRP = stalkTarget.Character and stalkTarget.Character:FindFirstChild("HumanoidRootPart")
                targHum = stalkTarget.Character and stalkTarget.Character:FindFirstChildOfClass("Humanoid")
                
                if not (targHRP and targHum and targHum.Health > 0) then
                    stopStalk()
                    return
                end
                
                local CEILING_CHECK_HEIGHT = 8
                local targetHeadPos = targHRP.Position + Vector3.new(0, 1.5, 0)
                local distance = (hrp.Position - targHRP.Position).Magnitude
                
                local rayCeilingResult = Workspace:Raycast(
                    targetHeadPos,
                    Vector3.new(0, CEILING_CHECK_HEIGHT, 0),
                    RaycastParams.new()
                )
                
                if rayCeilingResult and distance < maxStalkDistance then
                    return
                end
                
                if distance > maxStalkDistance then
                    local desiredCFrame = targHRP.CFrame * CFrame.new(0, 0, stalkBehindDistance)
                    teleportStalk(desiredCFrame, targHRP, hrp)
                    return
                end
                
                local lookAtTarget = Vector3.new(targHRP.Position.X, hrp.Position.Y, targHRP.Position.Z)
                hrp.CFrame = CFrame.new(hrp.Position, lookAtTarget)
                
                local dirToMe = hrp.Position - targHRP.Position
                if dirToMe.Magnitude > 0.001 then
                    local lookVector = targHRP.CFrame.LookVector
                    local dot = lookVector:Dot(dirToMe.Unit)
                    
                    if dot >= fovCos then
                        if distance > 30 then return end
                        
                        local headPosition = targHRP.Position + Vector3.new(0, 1.5, 0)
                        local rayResult = Workspace:Raycast(
                            headPosition,
                            hrp.Position - headPosition,
                            rayParams
                        )
                        
                        if rayResult and rayResult.Instance:IsDescendantOf(character) then
                            local offset = Vector3.new(
                                math.random(-fugaMaxDistancia, fugaMaxDistancia),
                                0,
                                math.random(-fugaMaxDistancia, fugaMaxDistancia)
                            )
                            local desiredFugaPos = targHRP.Position + offset
                            hrp.CFrame = CFrame.new(desiredFugaPos)
                        end
                    end
                end
            end)
        end
        
        local tool = Instance.new("Tool")
        tool.RequiresHandle = false
        tool.CanBeDropped = false
        tool.TextureId = "http://www.roblox.com/asset/?id=12211461981"
        tool.Name = "Stalker Tool"
        tool.ToolTip = "Equip and click player to stalk"
        
        tool.Equipped:Connect(function()
            toolEquipped = true
            
            local selectionBox = Instance.new("SelectionBox")
            selectionBox.Adornee = nil
            selectionBox.LineThickness = 0.05
            selectionBox.Color3 = Color3.fromRGB(255, 0, 0)
            selectionBox.Parent = tool
            
            local mouse = player:GetMouse()
            local lastTarget = nil
            
            mouse.Move:Connect(function()
                if not toolEquipped then return end
                
                local target = mouse.Target
                if target then
                    local model = target:FindFirstAncestorOfClass("Model")
                    if model then
                        local targetPlayer = Players:GetPlayerFromCharacter(model)
                        if targetPlayer and targetPlayer ~= player then
                            if lastTarget ~= model then
                                selectionBox.Adornee = model
                            end
                            lastTarget = model
                            return
                        end
                    end
                end
                selectionBox.Adornee = nil
                lastTarget = nil
            end)
            
            mouse.Button1Down:Connect(function()
                if not toolEquipped then return end
                
                local target = mouse.Target
                if target then
                    local model = target:FindFirstAncestorOfClass("Model")
                    if model then
                        local targetPlayer = Players:GetPlayerFromCharacter(model)
                        if targetPlayer and targetPlayer ~= player then
                            startStalk(targetPlayer)
                        end
                    end
                end
            end)
        end)
        
        tool.Unequipped:Connect(function()
            toolEquipped = false
            for _, child in ipairs(tool:GetChildren()) do
                if child:IsA("SelectionBox") then
                    child:Destroy()
                end
            end
        end)
        
        tool.Parent = player:WaitForChild("Backpack")
        
        local Players = game:GetService("Players")
        
        local player = Players.LocalPlayer
        local character = player.Character or player.CharacterAdded:Wait()
        local humanoid = character:WaitForChild("Humanoid")
        
        player.CharacterAdded:Connect(function(newCharacter)
            character = newCharacter
            humanoid = newCharacter:WaitForChild("Humanoid")
        end)
        
        local Settings = {}
        Settings["Fade In"] = 0.1
        Settings["Fade Out"] = 0.1
        Settings["Weight"] = 1
        Settings["Speed"] = 1
        Settings["Time Position"] = 0
        
        local CurrentTrack = nil
        local DEMOMAN_LAUGH_ID = "86555565538906"
        
        local function LoadTrack(id)
            if CurrentTrack then 
                CurrentTrack:Stop(Settings["Fade Out"]) 
            end
            
            local animId
            local ok, result = pcall(function() 
                return game:GetObjects("rbxassetid://" .. tostring(id)) 
            end)
            
            if ok and result and #result > 0 then
                local anim = result[1]
                if anim:IsA("Animation") then
                    animId = anim.AnimationId
                else
                    animId = "rbxassetid://" .. tostring(id)
                end
            else
                animId = "rbxassetid://" .. tostring(id)
            end
            
            local newAnim = Instance.new("Animation")
            newAnim.AnimationId = animId
            local newTrack = humanoid:LoadAnimation(newAnim)
            newTrack.Priority = Enum.AnimationPriority.Action4
            
            local weight = Settings["Weight"]
            if weight == 0 then weight = 0.001 end
            
            newTrack:Play(Settings["Fade In"], weight, Settings["Speed"])
            CurrentTrack = newTrack
            CurrentTrack.TimePosition = math.clamp(Settings["Time Position"], 0, 1) * CurrentTrack.Length
            CurrentTrack.Priority = Enum.AnimationPriority.Action4
            
            return newTrack
        end
        
        local function playDemomanLaugh()
            LoadTrack(DEMOMAN_LAUGH_ID)
        end
        
        local function stopEmote()
            if CurrentTrack then
                CurrentTrack:Stop(Settings["Fade Out"])
                CurrentTrack = nil
            end
        end
        
        local tool = Instance.new("Tool")
        tool.RequiresHandle = false
        tool.CanBeDropped = false
        tool.TextureId = "http://www.roblox.com/asset/?id=12211461981"
        
        tool.Parent = player.Backpack
        
        tool.Activated:Connect(function()
            if CurrentTrack then
                stopEmote()
            else
                playDemomanLaugh()
            end
        end)
    end
})

Tab:AddButton({
    Name = "Batman",
    Description = "Batman FE.",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/mxskf/Legal/refs/heads/main/Dboas89"))()
    end
})

Tab:AddButton({
    Name = "Sonic.Exe",
    Description = "Sonic.Exe FE.",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/mxskf/Legal/refs/heads/main/Dboas86"))()
    end
})

Tab:AddButton({
    Title = "Fe vr",
    Desc = "FE VR",
    Callback = function()
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local Players = game:GetService("Players")
        local player = Players.LocalPlayer

        local noobArms = {84451219120140, 72292903231768}

        local function equipNoobArms()
            for _, id in ipairs(noobArms) do
                local success, err = pcall(function()
                    ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("Wear"):InvokeServer(id)
                end)
            end
        end

        equipNoobArms()

        task.delay(6, function()
            local success, err = pcall(function()
                loadstring(game:HttpGet("https://raw.githubusercontent.com/randomstring0/Qwerty/refs/heads/main/qwerty45.lua"))()
            end)
        end)
    end
})

Tab:AddButton({
    Title = "Emote v2",
    Desc = "Emotes FREE",
    Callback = function()
       loadstring(game:HttpGet("https://raw.githubusercontent.com/Gazer-Ha/Free-emote/refs/heads/main/Delta%20mad%20stuffs"))()
    end
})

Tab:AddButton({
    Name = "John doe",
    Description = "John Doe FE",
    Callback = function()
        pcall(function()
            local ReplicatedStorage = game:GetService("ReplicatedStorage")

            local ChangeBodyColor = ReplicatedStorage.Remotes.ChangeBodyColor
            local ChangeCharacterBody = ReplicatedStorage.Remotes.ChangeCharacterBody
            local Wear = ReplicatedStorage.Remotes.Wear

            ChangeBodyColor:FireServer("Really black")

            ChangeCharacterBody:InvokeServer({
                0, 0, 0, 0, 0, 0
            })

            Wear:InvokeServer(119700638189201)
            Wear:InvokeServer(82561279414761)
            Wear:InvokeServer(108099676910294)
            Wear:InvokeServer(82861921093234)
            Wear:InvokeServer(124476454384081)
            Wear:InvokeServer(5319900634)
            Wear:InvokeServer(5319909330)
            Wear:InvokeServer(5319922112)
        end)
    end
})

Tab:AddButton({
	Name = "Ominitrix",
	Desc = "Ominitrix FE",
	Callback = function()
		pcall(function()
			loadstring(game:HttpGet("https://raw.githubusercontent.com/267266273ffsfs/Ominitrix/refs/heads/main/Main.txt"))()
		end)
	end
})

Tab:AddButton({
    Title = "Kamui",
    Desc = "Ativa o Kamui (hubzin)",
    Locked = false,
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/267266273ffsfs/kamui/refs/heads/main/Main.txt"))()
    end
})

Tab:AddButton({
    Title = "Jerk",
    Desc = "Jerk FE",
    Locked = false,
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/yeahblxr/Scripts/refs/heads/main/Edge.lua"))()
    end
})

Tab:AddButton({
    Title = "Emotes fe",
    Desc = "Emotes fe :)",
    Locked = false,
    Callback = function()
        loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-AFEM-Max-Open-Alpha-50210"))()
    end
})

Tab:AddButton({
    Title = "Minecraft",
    Desc = "Minecraft no roblox kk",
    Locked = false,
    Callback = function()
        local ReplicatedStorage = game:GetService("ReplicatedStorage")

        task.spawn(function()
            local WearShirt = ReplicatedStorage.Remotes:FindFirstChild("WearShirt")
            if WearShirt then
                pcall(function()
                    WearShirt:InvokeServer(16512333409)
                end)
            end

            task.wait(0.2)

            local ChangeCharacterBody = ReplicatedStorage.Remotes:FindFirstChild("ChangeCharacterBody")
            if ChangeCharacterBody then
                pcall(function()
                    ChangeCharacterBody:InvokeServer({0, 0, 0, 0, 0, 0})
                end)
            end

            task.wait(0.2)

            local WearPants = ReplicatedStorage.Remotes:FindFirstChild("WearPants")
            if WearPants then
                pcall(function()
                    WearPants:InvokeServer(16512431524)
                end)
            end

            task.wait(0.2)

            local Wear = ReplicatedStorage.Remotes:FindFirstChild("Wear")
            if Wear then
                pcall(function()
                    Wear:InvokeServer(137179147781164)
                end)
            end

            task.wait(0.2)

            local ChangeBodyColor = ReplicatedStorage.Remotes:FindFirstChild("ChangeBodyColor")
            if ChangeBodyColor then
                pcall(function()
                    ChangeBodyColor:FireServer("Dark nougat")
                end)
            end
        end)

        local Players = game:GetService("Players")
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local LocalPlayer = Players.LocalPlayer

        local spawnToolTextures = {
            "rbxassetid://106513645844271",
            "rbxassetid://9267155972",
            "rbxassetid://9267183930",
            "rbxassetid://9359131807",
            "rbxassetid://9277770677",
            "rbxassetid://11547302007",
            "rbxassetid://7341687607",
            "rbxassetid://7696392982",
            "rbxassetid://8677289915",
            "rbxassetid://9184126359",
            "rbxassetid://7901287342",
            "rbxassetid://8677286748",
            "rbxassetid://8677288274"
        }

        local function isSpawnedBlock(part)
            if not part:IsA("Part") then
                return false
            end
            
            for _, decal in ipairs(part:GetChildren()) do
                if decal:IsA("Decal") then
                    for _, textureId in ipairs(spawnToolTextures) do
                        if decal.Texture == textureId then
                            return true
                        end
                    end
                end
            end
            
            if part.Name == "Bloco com Fisica" then
                return true
            end
            
            if part.Size == Vector3.new(3, 3, 3) then
                return true
            end
            
            return false
        end

        local function getTargetBlock(mouse)
            local target = mouse.Target
            if target and target:IsA("BasePart") and isSpawnedBlock(target) then
                return target
            end
        end

        local function createNotification(title, message)
            game:GetService("StarterGui"):SetCore("SendNotification", {
                Title = title,
                Text = message,
                Duration = 3
            })
        end

        local deleteTool = Instance.new("Tool")
        deleteTool.Name = "Sword goner"
        deleteTool.RequiresHandle = true
        deleteTool.CanBeDropped = true

        local handle = Instance.new("Part")
        handle.Name = "Handle"
        handle.Size = Vector3.new(0.1, 0.1, 0.1)
        handle.Massless = true
        handle.Anchored = false
        handle.CanCollide = false
        handle.Transparency = 0.5
        handle.Color = Color3.fromRGB(255, 0, 0)
        local mesh = Instance.new("SpecialMesh", handle)
        mesh.MeshType = Enum.MeshType.Sphere
        mesh.Scale = Vector3.new(0.05, 0.05, 0.05)
        handle.Parent = deleteTool

        deleteTool.Equipped:Connect(function(mouse)
            local character = deleteTool.Parent
            if character and character:FindFirstChild("Humanoid") and character.Humanoid.RigType == Enum.HumanoidRigType.R15 then
                local args = {12780809235}
                ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("Wear"):InvokeServer(unpack(args))

                mouse.Button1Down:Connect(function()
                    local humanoid = character:FindFirstChildOfClass("Humanoid")
                    local animator = humanoid and humanoid:FindFirstChildOfClass("Animator")
                    if animator then
                        local anim = Instance.new("Animation")
                        anim.AnimationId = "rbxassetid://2410679501"
                        local track = animator:LoadAnimation(anim)
                        track:Play()
                    end

                    local targetBlock = getTargetBlock(mouse)
                    if targetBlock then
                        targetBlock:Destroy()
                        createNotification("ðŸ—‘ï¸ Bloco Deletado", "Bloco spawnado removido com sucesso!")
                    else
                        createNotification("ðŸ’¡ Info", "Clique em um bloco spawnado para deletÃ¡-lo!")
                    end
                end)

                createNotification("Picareta equipada", "Clique em blocos spawnados para deletÃ¡-los!")
            end
        end)

        deleteTool.Unequipped:Connect(function()
            local args = {12780809235}
            ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("Wear"):InvokeServer(unpack(args))
            createNotification("Picareta Guardada", "Tool desequipado! Visual restaurado.")
        end)

        deleteTool.Parent = LocalPlayer.Backpack

        local function createSpawnTool(textureId, imageId, hasPhysics)
            local tool = Instance.new("Tool")
            tool.Name = ""
            tool.TextureId = textureId
            tool.CanBeDropped = false
            tool.Parent = LocalPlayer.Backpack

            local handle = Instance.new("Part")
            handle.Name = "Handle"
            handle.Size = Vector3.new(1.5, 1.5, 1.5)
            handle.Anchored = false
            handle.CanCollide = false
            handle.Color = Color3.fromRGB(255, 255, 255)
            handle.Parent = tool

            for _, face in ipairs(Enum.NormalId:GetEnumItems()) do
                local decal = Instance.new("Decal")
                decal.Texture = imageId
                decal.Face = face
                decal.Parent = handle
            end

            local mouse = LocalPlayer:GetMouse()

            tool.Activated:Connect(function()
                local pos = mouse.Hit.p
                local part = Instance.new("Part")
                part.Size = Vector3.new(3, 3, 3)
                part.Anchored = not hasPhysics
                part.Position = pos + Vector3.new(0, 1.5, 0)
                part.Parent = workspace
                if hasPhysics then
                    part.CanCollide = true
                    part.Name = "Bloco com FÃ­sica"
                end
                
                for _, face in ipairs(Enum.NormalId:GetEnumItems()) do
                    local decal = Instance.new("Decal")
                    decal.Texture = imageId
                    decal.Face = face
                    decal.Parent = part
                end
            end)
        end

        local function createSpawnToolWithDifferentTextures(textureId, sideImage, topImage)
            local tool = Instance.new("Tool")
            tool.Name = ""
            tool.TextureId = textureId
            tool.CanBeDropped = false
            tool.Parent = LocalPlayer.Backpack

            local handle = Instance.new("Part")
            handle.Name = "Handle"
            handle.Size = Vector3.new(1.5, 1.5, 1.5)
            handle.Anchored = false
            handle.CanCollide = false
            handle.Color = Color3.fromRGB(255, 255, 255)
            handle.Parent = tool

            for _, face in ipairs(Enum.NormalId:GetEnumItems()) do
                local decal = Instance.new("Decal")
                decal.Texture = sideImage
                decal.Face = face
                decal.Parent = handle
            end

            local mouse = LocalPlayer:GetMouse()

            tool.Activated:Connect(function()
                local pos = mouse.Hit.p
                local part = Instance.new("Part")
                part.Size = Vector3.new(3, 3, 3)
                part.Anchored = true
                part.Position = pos + Vector3.new(0, 1.5, 0)
                part.Parent = workspace
                
                for _, face in ipairs(Enum.NormalId:GetEnumItems()) do
                    local decal = Instance.new("Decal")
                    if face == Enum.NormalId.Top then
                        decal.Texture = topImage
                    else
                        decal.Texture = sideImage
                    end
                    decal.Face = face
                    decal.Parent = part
                end
            end)
        end

        createSpawnTool("rbxassetid://106513645844271", "rbxassetid://106513645844271", false)
        createSpawnToolWithDifferentTextures("rbxassetid://9267155972", "rbxassetid://9267155972", "rbxassetid://9267183930")
        createSpawnTool("rbxassetid://9359131807", "rbxassetid://9359131807", false)
        createSpawnTool("rbxassetid://9277770677", "rbxassetid://9277770677", true)
        createSpawnTool("rbxassetid://11547302007", "rbxassetid://11547302007", false)
        createSpawnTool("rbxassetid://7341687607", "rbxassetid://7341687607", false)
        createSpawnTool("rbxassetid://7696392982", "rbxassetid://7696392982", false)
        createSpawnTool("rbxassetid://8677289915", "rbxassetid://8677289915", false)
        createSpawnTool("rbxassetid://9184126359", "rbxassetid://9184126359", false)
        createSpawnTool("rbxassetid://7901287342", "rbxassetid://7901287342", false)
        createSpawnTool("rbxassetid://8677286748", "rbxassetid://8677286748", false)
        createSpawnTool("rbxassetid://8677288274", "rbxassetid://8677288274", false)
        createSpawnTool("rbxassetid://14934313194", "rbxassetid://14934313194", false)

        local transparentTool = Instance.new("Tool")
        transparentTool.Name = ""
        transparentTool.TextureId = "rbxassetid://14934219909"
        transparentTool.CanBeDropped = false
        transparentTool.Parent = LocalPlayer.Backpack

        local transparentHandle = Instance.new("Part")
        transparentHandle.Name = "Handle"
        transparentHandle.Size = Vector3.new(1.5, 1.5, 1.5)
        transparentHandle.Anchored = false
        transparentHandle.CanCollide = false
        transparentHandle.Transparency = 1
        transparentHandle.Parent = transparentTool

        local transparentImage = "rbxassetid://14934219909"

        for _, face in ipairs(Enum.NormalId:GetEnumItems()) do
            local decal = Instance.new("Decal")
            decal.Texture = transparentImage
            decal.Face = face
            decal.Parent = transparentHandle
        end

        local transparentMouse = LocalPlayer:GetMouse()

        transparentTool.Activated:Connect(function()
            local pos = transparentMouse.Hit.p
            local part = Instance.new("Part")
            part.Size = Vector3.new(3, 3, 3)
            part.Position = pos + Vector3.new(0, 1.5, 0)
            part.Anchored = true
            part.CanCollide = true   
            part.Transparency = 1
            part.Parent = workspace

            for _, face in ipairs(Enum.NormalId:GetEnumItems()) do
                local decal = Instance.new("Decal")
                decal.Texture = transparentImage
                decal.Face = face
                decal.Parent = part
            end
        end)

        createNotification("Minecraft FE", "Script carregado com sucesso! Ferramentas adicionadas ao inventÃ¡rio.")
    end
})

Tab:AddParagraph({ "Atenção meus caros Usuários do Lyra Hub, o script foi atualizado e agr terá novos fe então por enquanto é só isso brevemente terá mais coisas" })

local FunTab = Window:MakeTab({"Fun", "rbxassetid://105212753583689"})


local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local Camera = Workspace.CurrentCamera 
local LocalPlayer = Players.LocalPlayer

local stalkFOVdeg = 160      
local fugaMaxDistancia = 65    
local maxStalkDistance = 65   
local stalkBehindDistance = 2.5 

local destroyed = false
local stalking = false
local viewingTarget = false     
local stalkConn = nil
local viewConn = nil            
local stalkTarget = nil         
local viewTarget = nil          
local selectedPlayer = nil      
local TPToggle = false
local TPTool = nil

local character
local hrp
local hum

local function updateCharacter()
    character = LocalPlayer.Character
    if character then
        hrp = character:WaitForChild("HumanoidRootPart")
        hum = character:FindFirstChildOfClass("Humanoid")
    else
        hrp = nil
        hum = nil
    end
end

updateCharacter()

local function waitForCharacter()
    if not character or not hrp or not hum then
        updateCharacter()
    end
    
    while not character or not hrp or not hum do
        wait(0.1)
        updateCharacter()
    end
end

LocalPlayer.CharacterAdded:Connect(function(newCharacter)
    task.wait(1)
    updateCharacter()
end)

local function pickNearestPlayer()
    waitForCharacter()
    
    local nearestPlayer = nil
    local minDistance = math.huge

    if not hrp then return nil end 

    for _, pl in ipairs(Players:GetPlayers()) do
        if pl ~= LocalPlayer and pl.Character and pl.Character:FindFirstChild("HumanoidRootPart") and pl.Character:FindFirstChildOfClass("Humanoid") and pl.Character:FindFirstChildOfClass("Humanoid").Health > 0 then
            local targetHRP = pl.Character.HumanoidRootPart
            local distance = (hrp.Position - targetHRP.Position).Magnitude

            if distance < minDistance then
                minDistance = distance
                nearestPlayer = pl
            end
        end
    end

    return nearestPlayer
end

local function setStalkerState(isStalking)
    waitForCharacter()
    
    if not character or not hrp then return end

    local transparencyValue = 0 
    local canCollideValue = not isStalking         

    for _, part in ipairs(character:GetDescendants()) do
        if part:IsA("BasePart") or part:IsA("Decal") or part:IsA("SpecialMesh") then
            if part.Name ~= "HumanoidRootPart" then 
                pcall(function() part.LocalTransparencyModifier = transparencyValue end) 
            end
            pcall(function() part.CanCollide = canCollideValue end) 
        elseif part:IsA("Shirt") or part:IsA("Pants") then
            pcall(function() part.Transparency = transparencyValue end)
        end
    end

    if hum then
        hum.PlatformStand = false
    end
end

local function getSafeCFrame(desiredPosition, currentCFrame)
    local TP_CHECK_HEIGHT = 100     
    local TP_RAY_LENGTH = 200       
    
    local rayOrigin = Vector3.new(desiredPosition.X, desiredPosition.Y + TP_CHECK_HEIGHT, desiredPosition.Z)
    local rayDirection = Vector3.new(0, -TP_RAY_LENGTH, 0)

    local rayParams = RaycastParams.new()
    rayParams.FilterType = Enum.RaycastFilterType.Exclude
    rayParams.FilterDescendantsInstances = {character} 

    local rayResult = Workspace:Raycast(rayOrigin, rayDirection, rayParams)

    if rayResult then
        local safeY = rayResult.Position.Y + 2.5 

        local lookVector = currentCFrame.LookVector
        local upVector = currentCFrame.UpVector

        return CFrame.new(desiredPosition.X, safeY, desiredPosition.Z) * CFrame.fromMatrix(Vector3.new(), lookVector, upVector)
    else
        return CFrame.new(desiredPosition.X, desiredPosition.Y, desiredPosition.Z) 
    end
end

local function teleportStalk(desiredCFrame, targetHRP)
    waitForCharacter()
    
    if destroyed or not hrp or not targetHRP then return end

    local targetY = targetHRP.Position.Y
    local finalPosition = Vector3.new(desiredCFrame.X, targetY, desiredCFrame.Z)

    local newCFrame = CFrame.new(finalPosition) * (desiredCFrame - desiredCFrame.Position)

    hrp.CFrame = newCFrame
end

local function stopView()
    if not viewingTarget then return end

    viewingTarget = false
    viewTarget = nil

    if viewConn then
        viewConn:Disconnect()
        viewConn = nil
    end

    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid") then
        Camera.CameraSubject = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
    else
        Camera.CameraType = Enum.CameraType.Custom
    end
end

local function startView(pl)
    waitForCharacter()
    
    if destroyed or not pl or not pl.Character or not hrp then return end

    if viewingTarget then 
        stopView()  
        if viewTarget == pl then return end
    end

    local targHum = pl.Character:FindFirstChildOfClass("Humanoid")
    if not targHum then return end

    viewingTarget = true
    viewTarget = pl

    Camera.CameraSubject = targHum

    if Camera.CameraType == Enum.CameraType.Scriptable then
        Camera.CameraType = Enum.CameraType.Custom
    end
end

local function stalkLoop() end

local function stopStalk()
    if not stalking then return end 

    stalking = false
    stalkTarget = nil

    if character and hum then
        hum.Health = 0
    end

    setStalkerState(false)  

    if stalkConn then
        stalkConn:Disconnect()
        stalkConn = nil
    end
    
    task.wait(2)
    updateCharacter()
end

local function startStalk(pl)
    waitForCharacter()
    
    if destroyed or not pl or not pl.Character or not hrp or not hum then 
        return 
    end

    if stalking and stalkTarget == pl then  
        stopStalk()
        return 
    end

    if stalking and stalkTarget ~= pl then  
        stopStalk() 
    end

    local targHRP = pl.Character:FindFirstChild("HumanoidRootPart")
    local targHum = pl.Character:FindFirstChildOfClass("Humanoid")
    if not (targHRP and targHum and targHum.Health > 0) then 
        return 
    end

    stalking = true
    stalkTarget = pl

    setStalkerState(true)

    local rayParams = RaycastParams.new()
    rayParams.FilterType = Enum.RaycastFilterType.Exclude
    local fovCos = math.cos(math.rad(stalkFOVdeg * 0.5))

    if stalkConn then stalkConn:Disconnect() end

    stalkLoop = function()
        if destroyed or not stalking or not stalkTarget or not stalkTarget.Character or not hrp or not hum then  
            stopStalk() 
            return 
        end
        
        if not character or not character.Parent then
            updateCharacter()
            if not character then
                stopStalk()
                return
            end
        end
        
        targHRP = stalkTarget.Character:FindFirstChild("HumanoidRootPart")
        targHum = stalkTarget.Character:FindFirstChildOfClass("Humanoid")
        if not (targHRP and targHum and targHum.Health > 0) then  
            stopStalk() 
            return 
        end

        local CEILING_CHECK_HEIGHT = 8
        local targetHeadPos = targHRP.Position + Vector3.new(0, 1.5, 0)
        local distance = (hrp.Position - targHRP.Position).Magnitude

        local rayCeilingParams = RaycastParams.new()
        rayCeilingParams.FilterType = Enum.RaycastFilterType.Exclude
        rayCeilingParams.FilterDescendantsInstances = {stalkTarget.Character, character} 

        local rayCeilingResult = Workspace:Raycast(
            targetHeadPos,  
            Vector3.new(0, CEILING_CHECK_HEIGHT, 0),  
            rayCeilingParams
        )

        if rayCeilingResult and distance < maxStalkDistance then
             return
        end

        if distance > maxStalkDistance then
            local desiredCFrame = targHRP.CFrame * CFrame.new(0, 0, stalkBehindDistance)
            teleportStalk(desiredCFrame, targHRP)  
            return
        end

        local lookAtTarget = Vector3.new(targHRP.Position.X, hrp.Position.Y, targHRP.Position.Z)
        local newCFrame = CFrame.new(hrp.Position, lookAtTarget)
        hrp.CFrame = newCFrame

        local dirToMe = hrp.Position - targHRP.Position
        if dirToMe.Magnitude > 0.001 then

            local lookVector = targHRP.CFrame.LookVector
            local targetDirection = dirToMe.Unit 
            local dot = lookVector:Dot(targetDirection)

            if dot >= fovCos then  
                local rayMaxRange = 30  
                if distance > rayMaxRange then return end 

                local headPosition = targHRP.Position + Vector3.new(0, 1.5, 0)  
                local rayDirection = hrp.Position - headPosition

                rayParams.FilterDescendantsInstances = {stalkTarget.Character, character} 

                local rayResult = Workspace:Raycast(headPosition, rayDirection, rayParams)

                local isStalkerHit = rayResult and rayResult.Instance:IsDescendantOf(character)
                local isClearPath = not rayResult

                if isStalkerHit or isClearPath then
                    task.spawn(function()
                        if destroyed or not stalking or not stalkTarget or not stalkTarget.Character or not hrp then return end
                        local currHRP = stalkTarget.Character:FindFirstChild("HumanoidRootPart")
                        if not currHRP then return end

                        pcall(function() stalkConn:Disconnect() end)
                        stalkConn = nil

                        local offset = Vector3.new(math.random(-fugaMaxDistancia, fugaMaxDistancia), 0, math.random(-fugaMaxDistancia, fugaMaxDistancia))
                        local desiredFugaPos = currHRP.Position + offset

                        hrp.CFrame = getSafeCFrame(desiredFugaPos, CFrame.new(desiredFugaPos))

                        setStalkerState(true) 

                        stalkConn = RunService.RenderStepped:Connect(stalkLoop)
                    end)
                    return  
                end
            end
        end
    end

    stalkConn = RunService.RenderStepped:Connect(stalkLoop)
end

local function startRandomStalk()
    waitForCharacter()
    
    if stalking then
        stopStalk()
    else
        local nearest = pickNearestPlayer()

        if not nearest then
            return
        end

        startStalk(nearest)
    end
end

local function toggleClickTP()
    waitForCharacter()
    
    if TPToggle then
        if TPTool then
            TPTool:Destroy()
            TPTool = nil
        end
        TPToggle = false
    else
        local mouse = LocalPlayer:GetMouse()
        local tool = Instance.new("Tool")
        tool.RequiresHandle = false
        tool.Name = "Tp tool(Equip to Click TP)"

        tool.Activated:Connect(function()
            waitForCharacter()
            if destroyed or not hrp then return end 

            local desiredPos = mouse.Hit.Position
            local pos = getSafeCFrame(desiredPos, CFrame.new(desiredPos)) 

            hrp.CFrame = pos
        end)

        tool.AncestryChanged:Connect(function()
            if not tool.Parent or tool.Parent.Name ~= "Backpack" then
                if TPToggle then
                    task.spawn(function()
                        task.wait(0.1)
                        if tool and not tool.Parent then 
                             toggleClickTP() 
                        end
                    end)
                end
            end
        end)

        tool.Parent = LocalPlayer.Backpack
        TPTool = tool
        TPToggle = true
    end
end


FunTab:AddSection({Name = "Selecionar Alvo"})

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Remotes = ReplicatedStorage:WaitForChild("Remotes")

local selectedPlayerName = nil
local dropdownValue = ""

local function getPlayerList()
    local PlayerNames = {}
    for _, player in ipairs(Players:GetPlayers()) do
        if player.Name ~= LocalPlayer.Name then
            table.insert(PlayerNames, player.Name)
        end
    end
    return PlayerNames
end

local killDropdown = FunTab:AddDropdown({
    Name = "Selecionar Jogador",
    Options = getPlayerList(),
    Default = "",
    Callback = function(value)
        selectedPlayerName = value
        dropdownValue = value
        selectedPlayer = Players:FindFirstChild(value)
    end
})

local function UpdateDropdown()
    local tablePlayers = Players:GetPlayers()
    local newPlayers = {}
    if killDropdown then
        for _, player in ipairs(tablePlayers) do
            if player.Name ~= LocalPlayer.Name then
                table.insert(newPlayers, player.Name)
            end
        end
        killDropdown:Set(newPlayers)
        
        if selectedPlayerName and not Players:FindFirstChild(selectedPlayerName) then
            selectedPlayerName = nil
            selectedPlayer = nil
            dropdownValue = ""
            killDropdown:SetValue("")
        else
            if selectedPlayerName then
                killDropdown:SetValue(selectedPlayerName)
            end
        end
    end
end

local function UpdateDropdownManual()
    local tablePlayers = Players:GetPlayers()
    local newPlayers = {}
    if killDropdown then
        for _, player in ipairs(tablePlayers) do
            if player.Name ~= LocalPlayer.Name then
                table.insert(newPlayers, player.Name)
            end
        end
        killDropdown:Set(newPlayers)
        
        if selectedPlayerName and Players:FindFirstChild(selectedPlayerName) then
            killDropdown:SetValue(selectedPlayerName)
        else
            selectedPlayerName = nil
            selectedPlayer = nil
            dropdownValue = ""
            killDropdown:SetValue("")
        end
    end
end

Players.PlayerAdded:Connect(function(pl)
    task.wait(0.5)
    UpdateDropdown()
end)

Players.PlayerRemoving:Connect(function(pl)
    UpdateDropdown()
end)

FunTab:AddButton({
    Name = "Atualizar Player List",
    Callback = function()
        UpdateDropdownManual()
    end
})


FunTab:AddSection("Player Controls")

local viewToggle = FunTab:AddToggle({
    Name = "View Player",
    Default = false,
    Callback = function(Value)
        if Value then
            if selectedPlayer then
                startView(selectedPlayer)
            else
                viewToggle:Set(false)
            end
        else
            stopView()
        end
    end
})

local stalkToggle = FunTab:AddToggle({
    Name = "Stalk Player",
    Default = false,
    Callback = function(Value)
        if Value then
            if selectedPlayer then
                startStalk(selectedPlayer)
            else
                stalkToggle:Set(false)
            end
        else
            stopStalk()
        end
    end
})

FunTab:AddButton({
    Name = "Stalk Random Player",
    Callback = function()
        startRandomStalk()
    end
})

FunTab:AddButton({
    Name = "Stop All Modes",
    Callback = function()
        stopStalk()
        stopView()
        viewToggle:Set(false)
        stalkToggle:Set(false)
    end
})

FunTab:AddSection("Teleport Tools")

FunTab:AddButton({
    Name = "Toggle Click TP",
    Callback = function()
        toggleClickTP()
    end
})


FunTab:AddSection("Settings")

FunTab:AddTextBox({
    Name = "FOV Angle",
    Default = tostring(stalkFOVdeg),
    TextDisappear = false,
    Callback = function(Value)
        local num = tonumber(Value)
        if num and num >= 1 and num <= 180 then
            stalkFOVdeg = num
        end
    end
})

FunTab:AddTextBox({
    Name = "Escape Distance",
    Default = tostring(fugaMaxDistancia),
    TextDisappear = false,
    Callback = function(Value)
        local num = tonumber(Value)
        if num and num >= 1 then
            fugaMaxDistancia = num
        end
    end
})

FunTab:AddTextBox({
    Name = "Stalk Distance",
    Default = tostring(maxStalkDistance),
    TextDisappear = false,
    Callback = function(Value)
        local num = tonumber(Value)
        if num and num >= 1 then
            maxStalkDistance = num
        end
    end
})

FunTab:AddTextBox({
    Name = "Behind Distance",
    Default = tostring(stalkBehindDistance),
    TextDisappear = false,
    Callback = function(Value)
        local num = tonumber(Value)
        if num and num >= 1 then
            stalkBehindDistance = num
        end
    end
})


FunTab:AddSection("Skins")

FunTab:AddButton({
    Name = "Apply Stalker Skin",
    Callback = function()
        local args = {
            [1] = "Really black"
        }
        game:GetService("ReplicatedStorage").Remotes.ChangeBodyColor:FireServer(unpack(args))

        pcall(function()
            local args = {
                [1] = {
                    [1] = 0,
                    [2] = 0,
                    [3] = 0,
                    [4] = 0,
                    [5] = 0,
                    [6] = 0
                }
            }

            game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))

            local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
            local Humanoid = Character:FindFirstChildOfClass("Humanoid")
            if not Humanoid then return end

            local WearRemote = Remotes:WaitForChild("Wear")
            local WearShirtRemote = Remotes:WaitForChild("WearShirt")
            local WearPantsRemote = Remotes:WaitForChild("WearPants")

            local Desc = Humanoid:GetAppliedDescription()
            for _, accessory in ipairs(Desc:GetAccessories(true)) do
                if accessory.AssetId then
                    WearRemote:InvokeServer(accessory.AssetId)
                end
            end

            local accessoriesToWear = {
                892265784,
                892268340,
                892267099,
                11417785930,
                122067820905006,
                118381289881568,
                6913613757,
                9683332649,
            }
            for _, id in ipairs(accessoriesToWear) do
                pcall(function()
                    WearRemote:InvokeServer(id)
                end)
            end

            local shirtsToWear = {}
            local pantsToWear = {}
            for _, id in ipairs(shirtsToWear) do
                WearShirtRemote:InvokeServer(id)
            end
            for _, id in ipairs(pantsToWear) do
                WearPantsRemote:InvokeServer(id)
            end
        end)
    end
})


coroutine.wrap(function()
    while true do
        wait(1)
        
        local currentChar = LocalPlayer.Character
        if currentChar ~= character then
            updateCharacter()
        end
        
        if selectedPlayer and not selectedPlayer.Parent then
            selectedPlayer = nil
            selectedPlayerName = nil
            dropdownValue = ""
            viewToggle:Set(false)
            stalkToggle:Set(false)
            killDropdown:SetValue("")
            UpdateDropdown()
        end
        
        if not viewingTarget and viewToggle.CurrentValue then
            viewToggle:Set(false)
        end
        if not stalking and stalkToggle.CurrentValue then
            stalkToggle:Set(false)
        end
    end
end)()

UpdateDropdown()

local TabNuke = Window:MakeTab({"Skybox", "cloud"})

TabNuke:AddSection({"Nuke"})

local skyboxEnabled = false
local skyboxTrack = nil
local rigidTrack = nil
local savedNukeBody = {}

local function stopAllAnimations()
    if rigidTrack then
        pcall(function()
            rigidTrack:Stop()
            rigidTrack:Destroy()
        end)
        rigidTrack = nil
    end
    
    if skyboxTrack then
        pcall(function()
            skyboxTrack:Stop()
            skyboxTrack:Destroy()
        end)
        skyboxTrack = nil
    end
    
    local player = game.Players.LocalPlayer
    local character = player.Character
    if character then
        local humanoid = character:FindFirstChild("Humanoid")
        if humanoid then
            local animator = humanoid:FindFirstChild("Animator")
            if animator then
                for _, track in pairs(animator:GetPlayingAnimationTracks()) do
                    if track.Animation then
                        local animId = track.Animation.AnimationId
                        if animId == "rbxassetid://70883871260184" or animId == "rbxassetid://3695333486" then
                            pcall(function()
                                track:Stop()
                            end)
                        end
                    end
                end
            end
        end
    end
end

TabNuke:AddToggle({
    Name = "Nuke",
    Default = false,
    Callback = function(value)
        skyboxEnabled = value
        
        if value then
            local player = game.Players.LocalPlayer
            local character = player.Character
            
            if character then
                local humanoid = character:FindFirstChildOfClass("Humanoid")
                if humanoid then
                    local description = humanoid:GetAppliedDescription()
                    
                    savedNukeBody = {
                        Torso = description.Torso,
                        RightArm = description.RightArm,
                        LeftArm = description.LeftArm,
                        RightLeg = description.RightLeg,
                        LeftLeg = description.LeftLeg,
                        Head = description.Head
                    }
                    
                    task.wait(0.2)
                    
                    local args = {
                        [1] = 123402086843885,
                        [2] = 100839513065432,
                        [3] = 78300682916056,
                        [4] = 86276701020724,
                        [5] = 78409653958165,
                        [6] = 15093053680
                    }
                    
                    pcall(function()
                        game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(args)
                    end)
                    
                    task.wait(0.3)
                    
                    local newAnim = Instance.new("Animation")
                    newAnim.AnimationId = "rbxassetid://70883871260184"
                    
                    skyboxTrack = humanoid:LoadAnimation(newAnim)
                    skyboxTrack.Priority = Enum.AnimationPriority.Action4
                    skyboxTrack:Play(0.1, 1, 0.01)
                    
                    task.wait(0.5)
                    
                    local plankAnim = Instance.new("Animation")
                    plankAnim.AnimationId = "rbxassetid://3695333486"
                    rigidTrack = humanoid:LoadAnimation(plankAnim)
                    rigidTrack.Priority = Enum.AnimationPriority.Movement
                    rigidTrack:Play(0.1, 1, 0)
                end
            end
        else
            stopAllAnimations()
            
            task.wait(0.2)
            
            if next(savedNukeBody) then
                local player = game.Players.LocalPlayer
                local character = player.Character
                
                if character then
                    local humanoid = character:FindFirstChildOfClass("Humanoid")
                    if humanoid then
                        local restoreBody = {
                            [1] = savedNukeBody.Torso,
                            [2] = savedNukeBody.RightArm,
                            [3] = savedNukeBody.LeftArm,
                            [4] = savedNukeBody.RightLeg,
                            [5] = savedNukeBody.LeftLeg,
                            [6] = savedNukeBody.Head
                        }
                        
                        local args = {
                            [1] = restoreBody
                        }
                        
                        pcall(function()
                            game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))
                        end)
                        
                        savedNukeBody = {}
                    end
                end
            end
        end
    end
})

local nukeFlashEnabled = false
local nukeFlashTrack = nil
local flashRigidTrack = nil
local savedNukeFlashBody = {}

local function stopFlashAnimations()
    if flashRigidTrack then
        pcall(function()
            flashRigidTrack:Stop()
            flashRigidTrack:Destroy()
        end)
        flashRigidTrack = nil
    end
    
    if nukeFlashTrack then
        pcall(function()
            nukeFlashTrack:Stop()
            nukeFlashTrack:Destroy()
        end)
        nukeFlashTrack = nil
    end
end

TabNuke:AddToggle({
    Name = "Nuke FlashBack",
    Default = false,
    Callback = function(value)
        nukeFlashEnabled = value
        
        if value then
            local player = game.Players.LocalPlayer
            local character = player.Character
            
            if character then
                local humanoid = character:FindFirstChildOfClass("Humanoid")
                if humanoid then
                    local description = humanoid:GetAppliedDescription()
                    
                    savedNukeFlashBody = {
                        Torso = description.Torso,
                        RightArm = description.RightArm,
                        LeftArm = description.LeftArm,
                        RightLeg = description.RightLeg,
                        LeftLeg = description.LeftLeg,
                        Head = description.Head
                    }
                    
                    task.wait(0.2)
                    
                    local args = {
                        [1] = 123402086843885,
                        [2] = 100839513065432,
                        [3] = 78300682916056,
                        [4] = 86276701020724,
                        [5] = 78409653958165,
                        [6] = 15093053680
                    }
                    
                    pcall(function()
                        game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(args)
                    end)
                    
                    task.wait(0.3)
                    
                    local newAnim = Instance.new("Animation")
                    newAnim.AnimationId = "rbxassetid://70883871260184"
                    
                    nukeFlashTrack = humanoid:LoadAnimation(newAnim)
                    nukeFlashTrack.Priority = Enum.AnimationPriority.Action4
                    nukeFlashTrack:Play(0.1, 1, 1)
                    
                    task.wait(0.1)
                    nukeFlashTrack:AdjustSpeed(5)
                    
                    task.wait(0.3)
                    
                    local plankAnim = Instance.new("Animation")
                    plankAnim.AnimationId = "rbxassetid://3695333486"
                    flashRigidTrack = humanoid:LoadAnimation(plankAnim)
                    flashRigidTrack.Priority = Enum.AnimationPriority.Movement
                    flashRigidTrack:Play(0.1, 1, 0)
                end
            end
        else
            stopFlashAnimations()
            
            task.wait(0.2)
            
            if next(savedNukeFlashBody) then
                local player = game.Players.LocalPlayer
                local character = player.Character
                
                if character then
                    local humanoid = character:FindFirstChildOfClass("Humanoid")
                    if humanoid then
                        local restoreBody = {
                            [1] = savedNukeFlashBody.Torso,
                            [2] = savedNukeFlashBody.RightArm,
                            [3] = savedNukeFlashBody.LeftArm,
                            [4] = savedNukeFlashBody.RightLeg,
                            [5] = savedNukeFlashBody.LeftLeg,
                            [6] = savedNukeFlashBody.Head
                        }
                        
                        local args = {
                            [1] = restoreBody
                        }
                        
                        pcall(function()
                            game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))
                        end)
                        
                        savedNukeFlashBody = {}
                    end
                end
            end
        end
    end
})

TabNuke:AddSection({"Skybox FE"})

TabNuke:AddDropdown({
    Name = "Camisas",
    Options = {
        "Scary",
        "Hacker",
        "Anonymous"
    },
    Callback = function(Selected)
        local shirtId = nil
        
        if Selected == "Scary" then 
            shirtId = 239959578
        elseif Selected == "Hacker" then 
            shirtId = 9567541545
        elseif Selected == "Anonymous" then 
            shirtId = 733789773
        end
        
        if shirtId then
            local args = {shirtId}
            pcall(function()
                game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("WearShirt"):InvokeServer(unpack(args))
            end)
        end
    end
})

TabNuke:AddTextBox({
    Name = "ID da Camisa",
    PlaceholderText = "Insira o ID da camisa",
    Callback = function(Value)
        local shirtId = tonumber(Value)
        if shirtId then
            local args = {shirtId}
            pcall(function()
                game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("WearShirt"):InvokeServer(unpack(args))
            end)
        end
    end
})

_G.SkyboxActive = _G.SkyboxActive or false
_G.CurrentTrack = _G.CurrentTrack or nil
_G.RigidTrack = _G.RigidTrack or nil
_G.savedBodyParts = _G.savedBodyParts or {}

local SkyboxActive = _G.SkyboxActive
local CurrentTrack = _G.CurrentTrack
local RigidTrack = _G.RigidTrack
local savedBodyParts = _G.savedBodyParts

local function stopSkyboxAnimations()
    if _G.RigidTrack then
        pcall(function()
            _G.RigidTrack:Stop()
            _G.RigidTrack:Destroy()
        end)
        _G.RigidTrack = nil
    end
    
    if _G.CurrentTrack then
        pcall(function()
            _G.CurrentTrack:Stop()
            _G.CurrentTrack:Destroy()
        end)
        _G.CurrentTrack = nil
    end
    
    local player = game.Players.LocalPlayer
    local character = player.Character
    if character then
        local humanoid = character:FindFirstChild("Humanoid")
        if humanoid then
            local animator = humanoid:FindFirstChild("Animator")
            if animator then
                for _, track in pairs(animator:GetPlayingAnimationTracks()) do
                    if track.Animation then
                        local animId = track.Animation.AnimationId
                        if animId == "rbxassetid://70883871260184" or animId == "rbxassetid://3695333486" then
                            pcall(function()
                                track:Stop()
                            end)
                        end
                    end
                end
            end
        end
    end
end

TabNuke:AddToggle({
    Name = "Skybox",
    Default = _G.SkyboxActive or false,
    Callback = function(value)
        _G.SkyboxActive = value
        
        if value then
            local player = game.Players.LocalPlayer
            local character = player.Character
            
            if character then
                local humanoid = character:FindFirstChildOfClass("Humanoid")
                if humanoid then
                    local description = humanoid:GetAppliedDescription()
                    
                    _G.savedBodyParts = {
                        Torso = description.Torso,
                        RightArm = description.RightArm,
                        LeftArm = description.LeftArm,
                        RightLeg = description.RightLeg,
                        LeftLeg = description.LeftLeg,
                        Head = description.Head
                    }
                    
                    task.wait(0.2)
                    
                    local yourBody = {
                        [1] = 100839513065432,
                        [2] = nil,
                        [3] = nil,
                        [4] = nil,
                        [5] = nil,
                        [6] = nil
                    }
                    
                    local args = {
                        [1] = yourBody
                    }
                    
                    pcall(function()
                        game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))
                    end)
                    
                    task.wait(0.3)
                    
                    local newAnim = Instance.new("Animation")
                    newAnim.AnimationId = "rbxassetid://70883871260184"
                    
                    _G.CurrentTrack = humanoid:LoadAnimation(newAnim)
                    _G.CurrentTrack.Priority = Enum.AnimationPriority.Action4
                    _G.CurrentTrack:Play(0.1, 1, 0.01)
                    
                    task.wait(0.5)
                    
                    local PlankingId = "rbxassetid://3695333486"
                    local plankAnim = Instance.new("Animation")
                    plankAnim.AnimationId = PlankingId
                    _G.RigidTrack = humanoid:LoadAnimation(plankAnim)
                    _G.RigidTrack.Priority = Enum.AnimationPriority.Movement
                    _G.RigidTrack:Play(0.1, 1, 0)
                end
            end
        else
            stopSkyboxAnimations()
            
            task.wait(0.2)
            
            if next(_G.savedBodyParts) then
                local player = game.Players.LocalPlayer
                local character = player.Character
                
                if character then
                    local humanoid = character:FindFirstChildOfClass("Humanoid")
                    if humanoid then
                        local restoreBody = {
                            [1] = _G.savedBodyParts.Torso,
                            [2] = _G.savedBodyParts.RightArm,
                            [3] = _G.savedBodyParts.LeftArm,
                            [4] = _G.savedBodyParts.RightLeg,
                            [5] = _G.savedBodyParts.LeftLeg,
                            [6] = _G.savedBodyParts.Head
                        }
                        
                        local args = {
                            [1] = restoreBody
                        }
                        
                        pcall(function()
                            game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))
                        end)
                        
                        _G.savedBodyParts = {}
                    end
                end
            end
        end
    end
})

local CarTab = Window:MakeTab({"Car", "car"})

CarTab:AddSection("Decal Pneu")

local CurrentDecal = ""
local CurrentVehicleUUID = nil

local function ApplyDecal(decalId)
    if not CurrentVehicleUUID then return end
    
    local formattedDecal = "http://www.roblox.com/asset/?id=" .. decalId
    
    pcall(function()
        local Remote = game:GetService("ReplicatedStorage").Remotes.SuspensionHeightChanged
        firesignal(Remote.OnClientEvent, CurrentVehicleUUID)
        
        game:GetService("ReplicatedStorage").Remotes.ApplyStateToVehicle:InvokeServer(
            CurrentVehicleUUID,
            {
                ["Lights"] = {
                    ["hazardsActive"] = false,
                    ["lightsOn"] = false,
                },
                ["IsLocked"] = false,
                ["Appearance"] = {
                    ["IsSmoking"] = false,
                    ["SuspensionHeight"] = 1.1,
                    ["BabyCarSeatInstalledNumber"] = 0,
                    ["IsOnFire"] = false,
                    ["WheelDecal"] = formattedDecal,
                },
                ["Performance"] = {
                    ["Turbo"] = 0,
                    ["MaxSpeed"] = 25,
                    ["DriftStrength"] = 1,
                },
                ["Owner"] = game:GetService("Players").LocalPlayer,
            }
        )
    end)
end

game:GetService("ReplicatedStorage").Remotes.PlayerSpawnedVehicle.OnClientEvent:Connect(function(data)
    if data and data.uuid then
        CurrentVehicleUUID = data.uuid
    end
end)

CarTab:AddTextBox({
    Name = "Decal",
    Description = "ID do decal",
    Default = "",
    PlaceholderText = "Lyra Hub",
    ClearText = false,
    Callback = function(text)
        if text and text:gsub(" ", ""):len() > 0 then
            local cleanId = text:match("%d+")
            if cleanId then
                CurrentDecal = cleanId
            end
        end
    end
})

CarTab:AddButton({
    Name = "Aplicar",
    Callback = function()
        if CurrentDecal and CurrentDecal:len() > 0 then
            ApplyDecal(CurrentDecal)
        end
    end
})

CarTab:AddSection({ "Speed Car & Turbo" })

local speedValue = 200
local turboValue = 11.3

local function getAllCars()
    local cars = {}
    if workspace.Vehicles then
        for _, vehicle in pairs(workspace.Vehicles:GetChildren()) do
            if vehicle:FindFirstChild("Seats") and vehicle.Seats:FindFirstChild("VehicleSeat") then
                table.insert(cars, vehicle)
            end
        end
    end
    return cars
end

local function applyToAllCars(valueType, value)
    local cars = getAllCars()
    local carsModified = 0
    
    if #cars == 0 then
        return
    end
    
    for _, vehicle in pairs(cars) do
        local vehicleSeat = vehicle.Seats.VehicleSeat
        
        local targetObj = vehicleSeat:FindFirstChild(valueType)
        
        if targetObj then
            if targetObj:IsA("NumberValue") then
                targetObj.Value = value
                carsModified = carsModified + 1
            elseif targetObj:IsA("IntValue") then
                targetObj.Value = value
                carsModified = carsModified + 1
            elseif targetObj:IsA("StringValue") then
                targetObj.Value = tostring(value)
                carsModified = carsModified + 1
            else
                pcall(function()
                    targetObj.Value = value
                    carsModified = carsModified + 1
                end)
            end
        else
            local success = pcall(function()
                if valueType == "MaxSpeed" then
                    vehicleSeat.MaxSpeed = value
                elseif valueType == "Turbo" then
                    vehicleSeat.Turbo = value
                end
                carsModified = carsModified + 1
            end)
        end
    end
end

CarTab:AddTextBox({
    Name = "Velocidade MaxSpeed",
    Description = "Digite o valor da velocidade máxima",
    PlaceholderText = "200",
    Callback = function(Value)
        local numValue = tonumber(Value)
        if numValue then
            speedValue = numValue
        end
    end
})

CarTab:AddTextBox({
    Name = "Potencia Turbo",
    Description = "Digite o valor do turbo",
    PlaceholderText = "11.3",
    Callback = function(Value)
        local numValue = tonumber(Value)
        if numValue then
            turboValue = numValue
        end
    end
})

CarTab:AddButton({
    Name = "Aplicar Velocidade",
    Description = "Aplica a velocidade em todos os carros",
    Callback = function()
        applyToAllCars("MaxSpeed", speedValue)
    end
})

CarTab:AddButton({
    Name = "Aplicar Turbo",
    Description = "Aplica o turbo em todos os carros",
    Callback = function()
        applyToAllCars("Turbo", turboValue)
    end
})

local RGBSection = CarTab:AddSection({"Car RGB"})

CarTab:AddToggle({
    Name = "Car RGB",
    Default = false,
    Callback = function(state)
        isColorChanging = state
        if isColorChanging then
            colorChangeCoroutine = coroutine.create(changeCarColor)
            coroutine.resume(colorChangeCoroutine)
        end
    end
})


_G.hubCarregando = true
_G.togglesInicializadas = {}

spawn(function()

    local ReplicatedStorage = game:GetService("ReplicatedStorage")
    local Remotes = ReplicatedStorage:WaitForChild("Remotes", 10)
    
    if Remotes then
        local ResetRemote = Remotes:WaitForChild("ResetCharacterAppearance", 10)
        
        if ResetRemote then

            local ResetOriginal = ResetRemote.FireServer
            ResetRemote.FireServer = function(...)
                if _G.hubCarregando then
                    return
                end
                return ResetOriginal(...)
            end
        end
    end
    

    wait(3)
    _G.hubCarregando = false
end)

local Tab = Window:MakeTab({"Avatar", "rbxassetid://10734952036"})

Tab:AddSection("Effects Avatar")

local effectList = {
    {name = "Corações Amarelos", id = "18635672195", code = "001HeartsYellow"},
    {name = "Corações Verdes", id = "18635727693", code = "002HeartsGreen"},
    {name = "Corações Azuis", id = "18635732186", code = "003HeartsBlue"},
    {name = "Corações Roxos", id = "18635723426", code = "004HeartsPurple"},
    {name = "Corações Rosas", id = "18635726250", code = "005HeartsPink"},
    {name = "Corações Vermelhos", id = "18635729673", code = "006HeartsRed"},
    {name = "Pontos Laranjas", id = "18637252424", code = "010DotsOrange"},
    {name = "Pontos Amarelos", id = "18637263004", code = "011DotsYellow"},
    {name = "Pontos Verdes", id = "18637265264", code = "013DotsGreen"},
    {name = "Pontos Azuis", id = "18637256859", code = "014DotsBlue"},
    {name = "Pontos Roxos", id = "18637261058", code = "015DotsPurple"},
    {name = "Pontos Rosas", id = "18637259328", code = "016DotsPink"},
    {name = "Pontos Vermelhos", id = "18637267290", code = "017DotsRed"},
    {name = "Brilho Branco", id = "18637115654", code = "020TwinkleWhite"},
    {name = "Brilho Amarelo", id = "18637118923", code = "021TwinkleYellow"},
    {name = "Brilho Verde", id = "18637151114", code = "022TwinkleGreen"},
    {name = "Brilho Roxo", id = "18637153880", code = "023TwinklePurple"},
    {name = "Brilho Rosa", id = "18637157071", code = "024TwinklePink"},
    {name = "Brilho Vermelho", id = "18637155247", code = "025TwinkleRed"},
    {name = "Fogo Branco", id = "18637074370", code = "030FireWhite"},
    {name = "Fogo Laranja", id = "18637025451", code = "031FireOrange"},
    {name = "Fogo Verde", id = "18637078598", code = "032FireGreen"},
    {name = "Fogo Azul", id = "18637076370", code = "033FireBlue"},
    {name = "Fogo Roxo", id = "18637070174", code = "034FirePurple"},
    {name = "Fogo Preto", id = "18637072603", code = "035FireBlack"},
    {name = "Corações Pequenos Amarelos", id = "18637339451", code = "040SmallHeartsYellow"},
    {name = "Corações Pequenos Verdes", id = "18637337576", code = "041SmallHeartsGreen"},
    {name = "Corações Pequenos Azuis", id = "18637345162", code = "042SmallHeartsBlue"},
    {name = "Corações Pequenos Roxos", id = "18637335865", code = "043SmallHeartsPurple"},
    {name = "Corações Pequenos Rosas", id = "18637343416", code = "044SmallHeartsPink"},
    {name = "Corações Pequenos Vermelhos", id = "18637341847", code = "045SmallHeartsRed"},
    {name = "Faíscas Brancas", id = "18637383085", code = "050SparksWhite"},
    {name = "Faíscas Verdes", id = "18637385236", code = "051SparksGreen"},
    {name = "Faíscas Azuis", id = "18637386856", code = "052SparksBlue"},
    {name = "Faíscas Roxas", id = "18637442447", code = "053SparksPurple"},
    {name = "Faíscas Rosas", id = "18637445897", code = "054SparksPink"},
    {name = "Faíscas Vermelhas", id = "18637447550", code = "055SparksRed"},
    {name = "Bolhas Verdes", id = "18637493072", code = "061BubbleGreen"},
    {name = "Bolhas Azuis", id = "18637499282", code = "062BubbleBlue"},
    {name = "Bolhas Roxas", id = "18637497343", code = "063BubblePurple"},
    {name = "Bolhas Vermelhas", id = "18637500927", code = "064BubbleRed"},
    {name = "Música Branca", id = "18637675173", code = "070MusicWhite"},
    {name = "Música Verde", id = "18637677789", code = "071MusicGreen"},
    {name = "Música Azul", id = "18637680960", code = "072MusicBlue"},
    {name = "Música Roxa", id = "18637679384", code = "073MusicPurple"},
    {name = "Música Vermelha", id = "18637672698", code = "074MusicRed"},
    {name = "Fumaça Branca", id = "18637791748", code = "080SmokeWhite"},
    {name = "Fumaça Amarela", id = "18637800482", code = "081SmokeYellow"},
    {name = "Fumaça Laranja", id = "18637793920", code = "082SmokeOrange"},
    {name = "Fumaça Verde", id = "18637789299", code = "083SmokeGreen"},
    {name = "Fumaça Azul", id = "18637803021", code = "084SmokeBlue"},
    {name = "Fumaça Roxa", id = "18637813360", code = "085SmokePurple"},
    {name = "Fumaça Vermelha", id = "18637796598", code = "086SmokeRed"},
    {name = "Fumaça Preta", id = "18637798529", code = "087SmokeBlack"},
    {name = "Estrela Branca", id = "18637942956", code = "090StarWhite"},
    {name = "Estrela Laranja", id = "18637946172", code = "091StarOrange"},
    {name = "Estrela Verde", id = "18637934500", code = "092StarGreen"},
    {name = "Estrela Azul", id = "18637940338", code = "093StarBlue"},
    {name = "Estrela Roxa", id = "18637944796", code = "094StarPurple"},
    {name = "Estrela Rosa", id = "18637947820", code = "095StarPink"},
    {name = "Estrela Vermelha", id = "18637949457", code = "096StarRed"}
}

local selectedEffect = effectList[1]

local dropdownOptions = {}
for _, effect in ipairs(effectList) do
    table.insert(dropdownOptions, effect.name)
end

local Dropdown = Tab:AddDropdown({
    Name = "Selecionar Efeito",
    Options = dropdownOptions,
    Default = effectList[1].name,
    Callback = function(option)
        for _, effect in ipairs(effectList) do
            if effect.name == option then
                selectedEffect = effect
                break
            end
        end
    end
})

Tab:AddButton({
    Name = "Equipar Efeito",
    Callback = function()
        game:GetService("ReplicatedStorage").Remotes.ApplyEmmiter:InvokeServer(selectedEffect.id, selectedEffect.code)
    end
})

Tab:AddSection({"Fogos"})

local FireTypes = {
    ["Vermelho"] = {
        id = "18637500927",
        emitter = "064BubbleRed"
    },
    ["Roxo"] = {
        id = "18637497343",
        emitter = "063BubblePurple"
    },
    ["Azul"] = {
        id = "18637499282",
        emitter = "062BubbleBlue"
    },
    ["Verde"] = {
        id = "18637493072",
        emitter = "061BubbleGreen"
    }
}

local selectedFire = "Verde"
local fireEnabled = false
local fireLoop = nil

Tab:AddDropdown({
    Name = "Selecionar Fogo",
    Description = "",
    Options = {"Vermelho", "Roxo", "Azul", "Verde"},
    Default = "Verde",
    Flag = "FireDropdown",
    Callback = function(option)
        selectedFire = option
    end
})

Tab:AddToggle({
    Name = "Ativar Fogo",
    Description = "",
    Default = false,
    Flag = "FireToggle",
    Callback = function(value)
        fireEnabled = value
        
        if fireEnabled then
            local fireData = FireTypes[selectedFire]
            local args = {
                [1] = fireData.id,
                [2] = fireData.emitter
            }
            
            game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("ApplyEmmiter"):InvokeServer(unpack(args))
            
            wait(0.5)
            
            fireLoop = task.spawn(function()
                while fireEnabled do
                    pcall(function()
                        game:GetService("ReplicatedStorage").Remotes.SaveOutfit:InvokeServer(25, "Outfit 25")
                        game:GetService("ReplicatedStorage").Remotes.LoadOutfit:InvokeServer(25)
                    end)
                    wait(0.1)
                end
            end)
        else
            fireEnabled = false
            if fireLoop then
                task.cancel(fireLoop)
                fireLoop = nil
            end
        end
    end
})

Tab:AddSection({ Name = "Copiar Skin" })

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Remotes = ReplicatedStorage:WaitForChild("Remotes")

local LocalPlayer = Players.LocalPlayer
local selectedPlayerName = nil


local function getPlayerList()
    local PlayerNames = {}
    for _, player in ipairs(Players:GetPlayers()) do
        if player.Name ~= LocalPlayer.Name then
            table.insert(PlayerNames, player.Name)
        end
    end
    return PlayerNames
end

local killDropdown = Tab:AddDropdown({
    Name = "Selecionar Jogador",
    Options = getPlayerList(),
    Default = "",
    Callback = function(value)
        selectedPlayerName = value
        getgenv().Target = value
    end
})

local function UpdateDropdown()
    local tablePlayers = Players:GetPlayers()
    local newPlayers = {}
    if killDropdown then
        for _, player in ipairs(tablePlayers) do
            if player.Name ~= LocalPlayer.Name then
                table.insert(newPlayers, player.Name)
            end
        end
        killDropdown:Set(newPlayers)

        selectedPlayerName = nil
        getgenv().Target = nil
        killDropdown:SetValue("")
        if #newPlayers == 0 then
        end
    else
    end
end


Players.PlayerAdded:Connect(UpdateDropdown)
Players.PlayerRemoving:Connect(UpdateDropdown)


Tab:AddButton({
    Name = "Atualizar Player List",
    Callback = function()
        local tablePlayers = Players:GetPlayers()
        local newPlayers = {}
        if killDropdown then
            for _, player in ipairs(tablePlayers) do
                if player.Name ~= LocalPlayer.Name then
                    table.insert(newPlayers, player.Name)
                end
            end
            killDropdown:Set(newPlayers)
            selectedPlayerName = nil
            getgenv().Target = nil
            killDropdown:SetValue("")
            if #newPlayers == 0 then
            end
        else
        end
    end
})

Tab:AddButton({
    Name = "Copiar Avatar",
    Callback = function()
        if not Target then return end

        local LP = Players.LocalPlayer
        local LChar = LP.Character
        local TPlayer = Players:FindFirstChild(Target)

        if TPlayer and TPlayer.Character then
            local LHumanoid = LChar and LChar:FindFirstChildOfClass("Humanoid")
            local THumanoid = TPlayer.Character:FindFirstChildOfClass("Humanoid")

            if LHumanoid and THumanoid then
                local LDesc = LHumanoid:GetAppliedDescription()

                for _, acc in ipairs(LDesc:GetAccessories(true)) do
                    if acc.AssetId and tonumber(acc.AssetId) then
                        Remotes.Wear:InvokeServer(tonumber(acc.AssetId))
                        task.wait(0.2)
                    end
                end

                if tonumber(LDesc.Shirt) then
                    Remotes.Wear:InvokeServer(tonumber(LDesc.Shirt))
                    task.wait(0.2)
                end

                if tonumber(LDesc.Pants) then
                    Remotes.Wear:InvokeServer(tonumber(LDesc.Pants))
                    task.wait(0.2)
                end

                if tonumber(LDesc.Face) then
                    Remotes.Wear:InvokeServer(tonumber(LDesc.Face))
                    task.wait(0.2)
                end


                local PDesc = THumanoid:GetAppliedDescription()


                local argsBody = {
                    [1] = {
                        [1] = PDesc.Torso,
                        [2] = PDesc.RightArm,
                        [3] = PDesc.LeftArm,
                        [4] = PDesc.RightLeg,
                        [5] = PDesc.LeftLeg,
                        [6] = PDesc.Head
                    }
                }
                Remotes.ChangeCharacterBody:InvokeServer(unpack(argsBody))
                task.wait(0.5)

                if tonumber(PDesc.Shirt) then
                    Remotes.Wear:InvokeServer(tonumber(PDesc.Shirt))
                    task.wait(0.3)
                end

                if tonumber(PDesc.Pants) then
                    Remotes.Wear:InvokeServer(tonumber(PDesc.Pants))
                    task.wait(0.3)
                end

                if tonumber(PDesc.Face) then
                    Remotes.Wear:InvokeServer(tonumber(PDesc.Face))
                    task.wait(0.3)
                end

                for _, v in ipairs(PDesc:GetAccessories(true)) do
                    if v.AssetId and tonumber(v.AssetId) then
                        Remotes.Wear:InvokeServer(tonumber(v.AssetId))
                        task.wait(0.3)
                    end
                end

                local SkinColor = TPlayer.Character:FindFirstChild("Body Colors")
                if SkinColor then
                    Remotes.ChangeBodyColor:FireServer(tostring(SkinColor.HeadColor))
                    task.wait(0.3)
                end

                if tonumber(PDesc.IdleAnimation) then
                    Remotes.Wear:InvokeServer(tonumber(PDesc.IdleAnimation))
                    task.wait(0.3)
                end


                local Bag = TPlayer:FindFirstChild("PlayersBag")
                if Bag then
                    if Bag:FindFirstChild("RPName") and Bag.RPName.Value ~= "" then
                        Remotes.RPNameText:FireServer("RolePlayName", Bag.RPName.Value)
                        task.wait(0.3)
                    end
                    if Bag:FindFirstChild("RPBio") and Bag.RPBio.Value ~= "" then
                        Remotes.RPNameText:FireServer("RolePlayBio", Bag.RPBio.Value)
                        task.wait(0.3)
                    end
                    if Bag:FindFirstChild("RPNameColor") then
                        Remotes.RPNameColor:FireServer("PickingRPNameColor", Bag.RPNameColor.Value)
                        task.wait(0.3)
                    end
                    if Bag:FindFirstChild("RPBioColor") then
                        Remotes.RPNameColor:FireServer("PickingRPBioColor", Bag.RPBioColor.Value)
                        task.wait(0.3)
                    end
                end
            end
        end
    end
})

Tab:AddSection({ "Partes do Corpo:" })


_G.selectedParts = {
    Torso = nil,
    BracoDireito = nil,
    BracoEsquerdo = nil,
    PernaDireita = nil,
    PernaEsquerda = nil,
    Cabeca = nil
}


Tab:AddTextBox({
    Name = "Tronco",
    Description = "ID do Tronco",
    PlaceholderText = "Lyra",
    TextSize = 16,
    FontSize = 16,
    Callback = function(Value)
        if Value == "" then
            _G.selectedParts.Torso = nil
        else
            local id = tonumber(Value) or 0
            _G.selectedParts.Torso = id
        end
    end
})


Tab:AddTextBox({
    Name = "Braço Direito",
    Description = "ID do Braço Direito",
    PlaceholderText = "Lyra",
    TextSize = 16,
    FontSize = 16,
    Callback = function(Value)
        if Value == "" then
            _G.selectedParts.BracoDireito = nil
        else
            local id = tonumber(Value) or 0
            _G.selectedParts.BracoDireito = id
        end
    end
})


Tab:AddTextBox({
    Name = "Braço Esquerdo",
    Description = "ID do Braço Esquerdo",
    PlaceholderText = "Lyra",
    TextSize = 16,
    FontSize = 16,
    Callback = function(Value)
        if Value == "" then
            _G.selectedParts.BracoEsquerdo = nil
        else
            local id = tonumber(Value) or 0
            _G.selectedParts.BracoEsquerdo = id
        end
    end
})


Tab:AddTextBox({
    Name = "Perna Direita",
    Description = "ID da Perna Direita",
    PlaceholderText = "Lyra",
    TextSize = 16,
    FontSize = 16,
    Callback = function(Value)
        if Value == "" then
            _G.selectedParts.PernaDireita = nil
        else
            local id = tonumber(Value) or 0
            _G.selectedParts.PernaDireita = id
        end
    end
})


Tab:AddTextBox({
    Name = "Perna Esquerda",
    Description = "ID da Perna Esquerda",
    PlaceholderText = "Lyra",
    TextSize = 16,
    FontSize = 16,
    Callback = function(Value)
        if Value == "" then
            _G.selectedParts.PernaEsquerda = nil
        else
            local id = tonumber(Value) or 0
            _G.selectedParts.PernaEsquerda = id
        end
    end
})

Tab:AddTextBox({
    Name = "Cabeça",
    Description = "ID da Cabeça",
    PlaceholderText = "Lyra",
    TextSize = 16,
    FontSize = 16,
    Callback = function(Value)
        if Value == "" then
            _G.selectedParts.Cabeca = nil
        else
            local id = tonumber(Value) or 0
            _G.selectedParts.Cabeca = id
        end
    end
})

Tab:AddSection({ "Carregar Partes:" })


_G.parteSelecionada = "Tronco"


Tab:AddDropdown({
    Name = "Selecionar Parte",
    Description = "Escolha qual parte equipar",
    Default = "Tronco",
    Options = {"Tronco", "Braço Direito", "Braço Esquerdo", "Perna Direita", "Perna Esquerda", "Cabeça"},
    Callback = function(Value)
        _G.parteSelecionada = Value
    end
})


Tab:AddButton({
    Name = "Equipar Parte Selecionada",
    Description = "Equipa apenas a parte escolhida no dropdown",
    Callback = function()
        local args = {
            [1] = {
                [1] = 0,
                [2] = 0,
                [3] = 0,
                [4] = 0,
                [5] = 0,
                [6] = 0
            }
        }
        
        if _G.parteSelecionada == "Tronco" and _G.selectedParts.Torso then
            args[1][1] = _G.selectedParts.Torso
        elseif _G.parteSelecionada == "Braço Direito" and _G.selectedParts.BracoDireito then
            args[1][2] = _G.selectedParts.BracoDireito
        elseif _G.parteSelecionada == "Braço Esquerdo" and _G.selectedParts.BracoEsquerdo then
            args[1][3] = _G.selectedParts.BracoEsquerdo
        elseif _G.parteSelecionada == "Perna Direita" and _G.selectedParts.PernaDireita then
            args[1][4] = _G.selectedParts.PernaDireita
        elseif _G.parteSelecionada == "Perna Esquerda" and _G.selectedParts.PernaEsquerda then
            args[1][5] = _G.selectedParts.PernaEsquerda
        elseif _G.parteSelecionada == "Cabeça" and _G.selectedParts.Cabeca then
            args[1][6] = _G.selectedParts.Cabeca
        else
            return
        end
        
        pcall(function()
            game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))
        end)
    end
})

Tab:AddButton({
    Name = "Carregar Todas as Partes",
    Description = "Equipa todas as partes digitadas de uma vez",
    Callback = function()

        local temAlgumaParteSelecionada = _G.selectedParts.Torso or _G.selectdParts.BracoDireito or 
                                         _G.selectedParts.BracoEsquerdo or _G.selectedParts.PernaDireita or 
                                         _G.selectedParts.PernaEsquerda or _G.selectedParts.Cabeca
        
        if not temAlgumaParteSelecionada then
            return
        end
        
        local args = {
            [1] = {
                [1] = _G.selectedParts.Torso or 0,
                [2] = _G.selectedParts.BracoDireito or 0,
                [3] = _G.selectedParts.BracoEsquerdo or 0,
                [4] = _G.selectedParts.PernaDireita or 0,
                [5] = _G.selectedParts.PernaEsquerda or 0,
                [6] = _G.selectedParts.Cabeca or 0
            }
        }
        
        pcall(function()
            game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))
        end)
    end
})

Tab:AddSection({ "Outros:" })


Tab:AddButton({
    Name = "Resetar Personagem",
    Description = "Reset completo do personagem",
    Callback = function()
        pcall(function()
            game:GetService("ReplicatedStorage").Remotes.ResetCharacterAppearance:FireServer()
        end)
    end
})



Tab:AddSection({ "FE:" })


Tab:AddDropdown({
    Name = "Fire Colors",
    Description = "Select the <font color='rgb(255, 100, 100)'>Fire Color</font>",
    Options = {"White", "Orange", "Green", "Blue", "Purple", "Black"},
    Default = "White",
    Flag = "fire_color_dropdown",
    Callback = function(Value)
        local fireColors = {
            ["White"] = {
                id = "18637074370",
                code = "030FireWhite"
            },
            ["Orange"] = {
                id = "18637025451", 
                code = "031FireOrange"
            },
            ["Green"] = {
                id = "18637078598",
                code = "032FireGreen"
            },
            ["Blue"] = {
                id = "18637076370",
                code = "033FireBlue"
            },
            ["Purple"] = {
                id = "18637070174",
                code = "034FirePurple"
            },
            ["Black"] = {
                id = "18637072603",
                code = "035FireBlack"
            }
        }
        
        _G.selectedColor = Value
    end
})


Tab:AddButton({
    Name = "Equip Fire Color",
    Callback = function()
        local fireColors = {
            ["White"] = {
                id = "18637074370",
                code = "030FireWhite"
            },
            ["Orange"] = {
                id = "18637025451", 
                code = "031FireOrange"
            },
            ["Green"] = {
                id = "18637078598",
                code = "032FireGreen"
            },
            ["Blue"] = {
                id = "18637076370",
                code = "033FireBlue"
            },
            ["Purple"] = {
                id = "18637070174",
                code = "034FirePurple"
            },
            ["Black"] = {
                id = "18637072603",
                code = "035FireBlack"
            }
        }
        
        local selectedColor = _G.selectedColor or "White"
        
        if selectedColor and fireColors[selectedColor] then
            local colorData = fireColors[selectedColor]
            
            local args = {
                [1] = colorData.id,
                [2] = colorData.code
            }
            
            game:GetService("ReplicatedStorage").Remotes.ApplyEmmiter:InvokeServer(unpack(args))
            
        else
        end
    end
})


Tab:AddDropdown({
    Name = "Smoke Colors",
    Description = "Select the <font color='rgb(150, 150, 150)'>Smoke Color</font>",
    Options = {"White", "Yellow", "Orange", "Green", "Blue", "Purple", "Red", "Black"},
    Default = "White",
    Flag = "smoke_color_dropdown",
    Callback = function(Value)
        local smokeColors = {
            ["White"] = {
                id = "18637791748",
                code = "080SmokeWhite"
            },
            ["Yellow"] = {
                id = "18637800482",
                code = "081SmokeYellow"
            },
            ["Orange"] = {
                id = "18637793920",
                code = "082SmokeOrange"
            },
            ["Green"] = {
                id = "18637789299",
                code = "083SmokeGreen"
            },
            ["Blue"] = {
                id = "18637803021",
                code = "084SmokeBlue"
            },
            ["Purple"] = {
                id = "18637813360",
                code = "085SmokePurple"
            },
            ["Red"] = {
                id = "18637796598",
                code = "086SmokeRed"
            },
            ["Black"] = {
                id = "18637798529",
                code = "087SmokeBlack"
            }
        }
        
        _G.selectedSmokeColor = Value
    end
})


Tab:AddButton({
    Name = "Equip Smoke Color",
    Callback = function()
        local smokeColors = {
            ["White"] = {
                id = "18637791748",
                code = "080SmokeWhite"
            },
            ["Yellow"] = {
                id = "18637800482",
                code = "081SmokeYellow"
            },
            ["Orange"] = {
                id = "18637793920",
                code = "082SmokeOrange"
            },
            ["Green"] = {
                id = "18637789299",
                code = "083SmokeGreen"
            },
            ["Blue"] = {
                id = "18637803021",
                code = "084SmokeBlue"
            },
            ["Purple"] = {
                id = "18637813360",
                code = "085SmokePurple"
            },
            ["Red"] = {
                id = "18637796598",
                code = "086SmokeRed"
            },
            ["Black"] = {
                id = "18637798529",
                code = "087SmokeBlack"
            }
        }
        
        local selectedSmokeColor = _G.selectedSmokeColor or "White"
        
        if selectedSmokeColor and smokeColors[selectedSmokeColor] then
            local colorData = smokeColors[selectedSmokeColor]
            
            local args = {
                [1] = colorData.id,
                [2] = colorData.code
            }
            
            game:GetService("ReplicatedStorage").Remotes.ApplyEmmiter:InvokeServer(unpack(args))
            
        else
            
        end
    end
})


if not _G.togglesInicializadas then
    _G.togglesInicializadas = {}
end

Tab:AddToggle({
    Name = "Small",
    Description = "",
    Default = false,
    Flag = "custom_body_toggle",
    Callback = function(Value)
        if not _G.togglesInicializadas["Small"] then
            _G.togglesInicializadas["Small"] = true
            return
        end
        
        local customBody = {
            [1] = 104157277410075,
            [2] = 86280536086607,
            [3] = 81974054542977,
            [4] = 74524984742501,
            [5] = 122626731952977,
            [6] = 134082579
        }
        
        if Value then
            local args = {[1] = customBody}
            game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))
        else
            game:GetService("ReplicatedStorage").Remotes.ResetCharacterAppearance:FireServer()
        end
    end
})

Tab:AddToggle({
    Name = "Giant Avatar",
    Description = "",
    Default = false,
    Flag = "custom_body_v2_toggle",
    Callback = function(Value)
        if not _G.togglesInicializadas["Giant"] then
            _G.togglesInicializadas["Giant"] = true
            return
        end
        
        local customBodyV2 = {
            [1] = 17713016036,
            [2] = 17713016151,
            [3] = 17713015861,
            [4] = 17713021340,
            [5] = 17713016191,
            [6] = 6340213
        }
        
        if Value then
            local args = {[1] = customBodyV2}
            game:GetService("ReplicatedStorage").Remotes.ChangeCharacterBody:InvokeServer(unpack(args))
        else
            game:GetService("ReplicatedStorage").Remotes.ResetCharacterAppearance:FireServer()
        end
    end
})


Tab:AddSection({"Roupas 3D"})

Tab:AddDropdown({
    Name = "Acessorios 3D",
    Description = "Selecione para equipar",
    Default = nil,
    Options = {
        "La Vaca Saturno",
        "brainrot",
        "Galo",
        "Capivara",
        "Tigre",
        "Capivara",
        "Peixe",
        "Pepino Doidao",
        "Gato",
        "Rato",
        "Sei la KKKKOKK",
        "Pato Banana",
        "Fantasma",
        "Gato Lasanha",
        "Arvore",
        "Gato Cupcake",
        "Formiga",
        "KKKKKKKK",
        "Sherek Feiosa",
        "Frango",
        "Pinguin",
        "rato",
        "Minions",
        "Dinossauro",
        "Ovni",
        "Passaro Gordo",
        "Balao Cachorro",
        "Urso Pelucia",
        "Minecraft",
        "Fofuxo",
        "Sapo",
        "Bruxo",
        "Rato Grande",
        "Burro",
        "Nemo",
        "Careca desenho KKKKK",
        "Pinguin Mini",
        "Mini Sherek",
        "Coruja",
        "Gato de Manga",
        "Tung Saur", 
        "Tralaleiro",
        "Monstro S.A",
        "Trenzinho",
        "Dino",
        "Pou idoso",
        "Coco/boxt@",
        "Coelho",
        "Hipopótamo",
        "Ratatui",
        "Galinha",
        "Pepa pig",
        "Pinguin",
        "Sid",
        "Puga grande",
        "SHREK AMALDIÇOADO",
        "Mosquito grande",
        "Noob Invertido",
        "Pato(a)",
        "Cachorro Chihuahua",
        "Gato sla",
        "Gato fei",
        "Inpostor",
        "Simon amarelo",
        "Simon azul"
    },
    Callback = function(selected)
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local StarterGui = game:GetService("StarterGui")
        
        local avatars = {
            ["La Vaca Saturno"] = 92598055945546,
            ["brainrot"] = 71509988068185,
            ["Galo"] = 134279966389194,
            ["Capivara"] = 123881270149502,
            ["Tigre"] = 119471161887334,
            ["Capivara"] = 70941023284215,
            ["Peixe"] = 100767254038825,
            ["Pepino Doidao"] = 140311949273388,
            ["Gato"] = 18863879460,
            ["Rato"] = 94426045122131,
            ["Sei la KKKKOKK"] = 130540554592449,
            ["Pato Banana"] = 101283140862013,
            ["Fantasma"] = 15294031319,
            ["Gato Lasanha"] = 80036937359835,
            ["Arvore"] = 91559013873343,
            ["Gato Cupcake"] = 134590778152934,
            ["Formiga"] = 117567910327875,
            ["KKKKKKKK"] = 126610774641341,
            ["Sherek Feiosa"] = 93929184789448,
            ["Frango"] = 12151793832,
            ["Pinguin"] = 94944293759578,
            ["rato"] = 115152504142706,
            ["Minions"] = 80206221835435,
            ["Dinossauro"] = 78418661102501,
            ["Ovni"] = 108699752030063,
            ["Passaro Gordo"] = 17850619237,
            ["Balao Cachorro"] = 87116547256834,
            ["Urso Pelucia"] = 130455255821318,
            ["Minecraft"] = 18161752527,
            ["Fofuxo"] = 13354344881,
            ["Sapo"] = 108623435649969,
            ["Bruxo"] = 18459833677,
            ["Rato Grande"] = 18843948073,
            ["Burro"] = 133145533787450,
            ["Nemo"] = 91530170242128,
            ["Careca desenho KKKKK"] = 114218821771642,
            ["Pinguin Mini"] = 140417314445581,
            ["Mini Sherek"] = 121680981245369,
            ["Coruja"] = 16259522726,
            ["Gato de Manga"] = 124948425515124,
            ["Tung Saur"] = 117098257036480,
            ["Tralaleiro"] = 99459753608381,
            ["Monstro S.A"] = 123609977175226,
            ["Trenzinho"] = 80468697076178,
            ["Dino"] = 11941741105,
            ["Pou idoso"] = 15742966010,
            ["Coco/boxt@"] = 77013984520332,
            ["Coelho"] = 71797333686800,
            ["Hipopótamo"] = 73215892129281,
            ["Ratatui"] = 108557570415453,
            ["Galinha"] = 71251793812515,
            ["Pepa pig"] = 92979204778377,
            ["Sid"] = 87442757321244,
            ["Puga grande"] = 111436158728716,
            ["SHREK AMALDIÇOADO"] = 120960401202173,
            ["Mosquito grande"] = 108052868536435,
            ["Noob Invertido"] = 106596990206151,
            ["Pato(a)"] = 135132836238349,
            ["Cachorro Chihuahua"] = 18656467256,
            ["Gato sla"] = 18994959003,
            ["Gato fei"] = 77506186615650,
            ["Inpostor"] = 18234669337,
            ["Simon amarelo"] = 75183593514657,
            ["Simon azul"] = 76155710249925
        }
        
        if avatars[selected] then
            pcall(function()
                local args = {avatars[selected]}
                ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("Wear"):InvokeServer(unpack(args))
                StarterGui:SetCore("SendNotification", {
                    Title = "Avatar",
                    Text = "Avatar " .. selected .. " equipado!",
                    Duration = 3
                })
            end)
        end
    end
})

Tab:AddSection({"Avatar Editor"})

Tab:AddParagraph({
    Title = "Aviso: Vai resetar seu avatar",
    Content = "Os avatares abaixo irão substituir completamente seu personagem atual."
})

Tab:AddButton({
    Name = "Mini REPO",
    Description = "Avatar mini personalizado",
    Callback = function()
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local StarterGui = game:GetService("StarterGui")
        
        pcall(function()
            local parts = {
                117101023704825,
                125767940563838,
                137301494386930,
                87357384184710,
                133391239416999,
                111818794467824
            }
            local args = {parts}
            ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("ChangeCharacterBody"):InvokeServer(unpack(args))
            StarterGui:SetCore("SendNotification", {
                Title = "Avatar",
                Text = "Mini REPO equipado!",
                Duration = 3
            })
        end)
    end
})

Tab:AddButton({
    Name = "Mini Garanhão",
    Description = "Avatar mini garanhão",
    Callback = function()
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local StarterGui = game:GetService("StarterGui")
        
        pcall(function()
            local parts = {
                124355047456535,
                120507500641962,
                82273782655463,
                113625313757230,
                109182039511426,
                0
            }
            local args = {parts}
            ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("ChangeCharacterBody"):InvokeServer(unpack(args))
            StarterGui:SetCore("SendNotification", {
                Title = "Avatar",
                Text = "Mini Garanhão equipado!",
                Duration = 3
            })
        end)
    end
})

Tab:AddButton({
    Name = "Stick",
    Description = "Avatar estilo palito",
    Callback = function()
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local StarterGui = game:GetService("StarterGui")
        
        pcall(function()
            local parts = {
                14731384498,
                14731377938,
                14731377894,
                14731377875,
                14731377941,
                14731382899
            }
            local args = {parts}
            ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("ChangeCharacterBody"):InvokeServer(unpack(args))
            StarterGui:SetCore("SendNotification", {
                Title = "Avatar",
                Text = "Stick equipado!",
                Duration = 3
            })
        end)
    end
})

Tab:AddButton({
    Name = "Chunky-Bug",
    Description = "Avatar estilo bug",
    Callback = function()
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local StarterGui = game:GetService("StarterGui")
        
        pcall(function()
            local parts = {
                15527827600,
                15527827578,
                15527831669,
                15527836067,
                15527827184,
                15527827599
            }
            local args = {parts}
            ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("ChangeCharacterBody"):InvokeServer(unpack(args))
            StarterGui:SetCore("SendNotification", {
                Title = "Avatar",
                Text = "Chunky-Bug equipado!",
                Duration = 3
            })
        end)
    end
})

Tab:AddButton({
    Name = "Cursed-Spider",
    Description = "Avatar aranha amaldiçoada",
    Callback = function()
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local StarterGui = game:GetService("StarterGui")
        
        pcall(function()
            local parts = {
                134555168634906,
                100269043793774,
                125607053187319,
                122504853343598,
                95907982259204,
                91289185840375
            }
            local args = {parts}
            ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("ChangeCharacterBody"):InvokeServer(unpack(args))
            StarterGui:SetCore("SendNotification", {
                Title = "Avatar",
                Text = "Cursed-Spider equipado!",
                Duration = 3
            })
        end)
    end
})

Tab:AddButton({
    Name = "Possessed-Horror",
    Description = "Avatar horror possuído",
    Callback = function()
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local StarterGui = game:GetService("StarterGui")
        
        pcall(function()
            local parts = {
                122800511983371,
                132465361516275,
                125155800236527,
                83070163355072,
                102906187256945,
                78311422507297
            }
            local args = {parts}
            ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("ChangeCharacterBody"):InvokeServer(unpack(args))
            StarterGui:SetCore("SendNotification", {
                Title = "Avatar",
                Text = "Possessed-Horror equipado!",
                Duration = 3
            })
        end)
    end
})

local Section = Tab:AddSection({
    Name = "Equipar Corpos"
})

local ReplicatedStorage = game:GetService("ReplicatedStorage")

Tab:AddButton({
    Name = "Anão 1",
    Description = "By Lolyta",
    Callback = function()
        local ChangeCharacterBody = ReplicatedStorage.Remotes.ChangeCharacterBody
        local partesSelecionadas = {
            101678129797722,
            74948603903648,
            114267907635155,
            101387518276175,
            100840538291335,
            0
        }
        ChangeCharacterBody:InvokeServer(partesSelecionadas)
    end
})

local ReplicatedStorage = game:GetService("ReplicatedStorage")

Tab:AddButton({
    Name = "Mulher Fina",
    Description = "By Lolyta",
    Callback = function()
        local ChangeCharacterBody = ReplicatedStorage.Remotes.ChangeCharacterBody
        local partesSelecionadas = {
            75159926897589,
            76683091425509,
            14567282030,
            14567281990,
            14874108946,
            0
        }
        ChangeCharacterBody:InvokeServer(partesSelecionadas)
    end
})

local ReplicatedStorage = game:GetService("ReplicatedStorage")

Tab:AddButton({
    Name = "Mulher fina 2",
    Description = "By Lolyta",
    Callback = function()
        local ChangeCharacterBody = ReplicatedStorage.Remotes.ChangeCharacterBody
        local partesSelecionadas = {
            97119075795691,
            72699005696177,
            122027795919157,
            80393546275035,
            125637672664513,
            0
        }
        ChangeCharacterBody:InvokeServer(partesSelecionadas)
    end
})

local ReplicatedStorage = game:GetService("ReplicatedStorage")

Tab:AddButton({
    Name = "Anão 2",
    Description = "By Lolyta",
    Callback = function()
        local ChangeCharacterBody = ReplicatedStorage.Remotes.ChangeCharacterBody
        local partesSelecionadas = {
            14579958702,
            14583777042,
            14583777007,
            14579959249,
            14579963667,
            0
        }
        ChangeCharacterBody:InvokeServer(partesSelecionadas)
    end
})

local ReplicatedStorage = game:GetService("ReplicatedStorage")

Tab:AddButton({
    Name = "Bombado",
    Description = "By Lolyta",
    Callback = function()
        local ChangeCharacterBody = ReplicatedStorage.Remotes.ChangeCharacterBody
        local partesSelecionadas = {
            121532625082697,
        119216187383922,
        121634444400488,
        100229264383618,
        126161096503611,
        0
        }
        ChangeCharacterBody:InvokeServer(partesSelecionadas)
    end
})

local ReplicatedStorage = game:GetService("ReplicatedStorage")

Tab:AddButton({
    Name = "Gordin",
    Description = "By Lolyta",
    Callback = function()
        local ChangeCharacterBody = ReplicatedStorage.Remotes.ChangeCharacterBody
        local partesSelecionadas = {
        16305051918,
        16305051718,
        16305053205,
        16305053865,
        16305051982,
        16305055011
        }
        ChangeCharacterBody:InvokeServer(partesSelecionadas)
    end
})

local ReplicatedStorage = game:GetService("ReplicatedStorage")

Tab:AddButton({
    Name = "Golem",
    Description = "By Lolyta",
    Callback = function()
        local ChangeCharacterBody = ReplicatedStorage.Remotes.ChangeCharacterBody
        local partesSelecionadas = {
        15489582363,
        15489584734,
        15489584622,
        15489582354,
        15489584682,
        15489582340
        }
        ChangeCharacterBody:InvokeServer(partesSelecionadas)
    end
})

local flingsTab = Window:MakeTab({"Flings ", "rbxassetid://6458974334"})

local Services = {
    Players = game:GetService("Players"),
    ReplicatedStorage = game:GetService("ReplicatedStorage"),
    RunService = game:GetService("RunService"),
    Workspace = game:GetService("Workspace"),
    UserInputService = game:GetService("UserInputService")
}

local LocalPlayer = Services.Players.LocalPlayer

flingsTab:AddSection({"flingsTab"})

local function IsPlayerSitting(player)
    local success, result = pcall(function()
        if not player or not player.Character then return false end
        local humanoid = player.Character:FindFirstChildOfClass("Humanoid")
        if not humanoid then return false end
        if humanoid.Sit then return true end
        if humanoid.SeatPart then return true end
        return false
    end)
    return success and result or false
end

local function DeleteAllVehicles()
    pcall(function()
        Services.ReplicatedStorage:WaitForChild("RE"):WaitForChild("1Ca1r"):FireServer("DeleteAllVehicles")
    end)
end

local function ClearAllTools()
    pcall(function()
        Services.ReplicatedStorage:WaitForChild("RE"):WaitForChild("1Clea1rTool1s"):FireServer("ClearAllTools")
    end)
end

local function GetAndEquipCouch()
    local success = pcall(function()
        for _, v in ipairs(LocalPlayer.Backpack:GetChildren()) do
            if v:IsA("Tool") and v.Name == "Couch" then
                v.Grip = CFrame.new(0, 2, -2.5)
                v.Parent = LocalPlayer.Character
                return true
            end
        end
        
        Services.ReplicatedStorage.RE:FindFirstChild("1Too1l"):InvokeServer("PickingTools", "Couch")
        
        local startTime = tick()
        while tick() - startTime < 0.5 do
            for _, v in ipairs(LocalPlayer.Backpack:GetChildren()) do
                if v:IsA("Tool") and v.Name == "Couch" then
                    v.Grip = CFrame.new(0, 2, -2.5)
                    v.Parent = LocalPlayer.Character
                    return true
                end
            end
            task.wait(0.1)
        end
    end)
    return success or false
end

local lockedTargetFlings = nil
local selectedPlayerNameFlings = nil
local isUpdatingFlings = false

local function getPlayersList()
    local list = {}
    pcall(function()
        for _, player in ipairs(Services.Players:GetPlayers()) do
            if player ~= LocalPlayer then
                table.insert(list, player.Name)
            end
        end
    end)
    return list
end

local killDropdown = flingsTab:AddDropdown({
    Name = "Target",
    Options = getPlayersList(),
    Default = "",
    Callback = function(value)
        pcall(function()
            if isUpdatingFlings then return end
            
            if value and value ~= "" then
                lockedTargetFlings = value
                selectedPlayerNameFlings = value
            else
                lockedTargetFlings = nil
                selectedPlayerNameFlings = nil
            end
        end)
    end
})

flingsTab:AddButton({
    Name = "Atualizar Lista",
    Callback = function()
        pcall(function()
            if not killDropdown then return end
            
            isUpdatingFlings = true
            
            local newPlayers = getPlayersList()
            pcall(function() killDropdown:Refresh(newPlayers) end)
            pcall(function() killDropdown:Set(newPlayers) end)
            
            lockedTargetFlings = nil
            selectedPlayerNameFlings = nil
            
            isUpdatingFlings = false
        end)
    end
})

task.spawn(function()
    task.wait(1)
    pcall(function()
        local initialPlayers = getPlayersList()
        killDropdown:Refresh(initialPlayers)
        killDropdown:Set(initialPlayers)
    end)
end)

local selectedMethod = "Ball"
flingsTab:AddDropdown({
    Name = "Method",
    Options = {"Ball", "Couch", "Boat", "PoliceBoat", "Bus", "TowTruck"},
    Default = "Ball",
    Callback = function(value)
        pcall(function()
            selectedMethod = value
        end)
    end
})

local function FlingBall(target)
    pcall(function()
        local character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
        local humanoid = character:WaitForChild("Humanoid")
        local backpack = LocalPlayer:WaitForChild("Backpack")
        local ServerBalls = Services.Workspace.WorkspaceCom:WaitForChild("001_SoccerBalls")

        local function GetBall()
            if not backpack:FindFirstChild("SoccerBall") then
                Services.ReplicatedStorage.RE:FindFirstChild("1Too1l"):InvokeServer("PickingTools", "SoccerBall")
            end
            repeat task.wait() until backpack:FindFirstChild("SoccerBall")
            backpack.SoccerBall.Parent = character
            repeat task.wait() until ServerBalls:FindFirstChild("Soccer" .. LocalPlayer.Name)
            character.SoccerBall.Parent = backpack
            return ServerBalls:FindFirstChild("Soccer" .. LocalPlayer.Name)
        end

        local Ball = ServerBalls:FindFirstChild("Soccer" .. LocalPlayer.Name) or GetBall()
        Ball.CanCollide = false
        Ball.Massless = true
        Ball.CustomPhysicalProperties = PhysicalProperties.new(0.0001, 0, 0)

        local tchar = target.Character
        if tchar and tchar:FindFirstChild("HumanoidRootPart") and tchar:FindFirstChild("Humanoid") then
            local troot = tchar.HumanoidRootPart
            local thum = tchar.Humanoid

            if Ball:FindFirstChildWhichIsA("BodyVelocity") then
                Ball:FindFirstChildWhichIsA("BodyVelocity"):Destroy()
            end

            local bv = Instance.new("BodyVelocity")
            bv.Velocity = Vector3.new(9e8, 9e8, 9e8)
            bv.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
            bv.P = 9e900
            bv.Parent = Ball

            Services.Workspace.CurrentCamera.CameraSubject = thum
            
            repeat
                if troot.Velocity.Magnitude > 0 then
                    local pos_x = troot.Position.X + (troot.Velocity.X / 1.5)
                    local pos_y = troot.Position.Y + (troot.Velocity.Y / 1.5)
                    local pos_z = troot.Position.Z + (troot.Velocity.Z / 1.5)
                    Ball.CFrame = CFrame.new(pos_x, pos_y, pos_z)
                    Ball.Orientation = Ball.Orientation + Vector3.new(45, 60, 30)
                else
                    for _, v in pairs(tchar:GetChildren()) do
                        if v:IsA("BasePart") and v.CanCollide and not v.Anchored then
                            Ball.CFrame = v.CFrame
                            task.wait(1/6000)
                        end
                    end
                end
                task.wait(1/6000)
            until troot.Velocity.Magnitude > 1000 or thum.Health <= 0 or not tchar:IsDescendantOf(Services.Workspace)
            
            Services.Workspace.CurrentCamera.CameraSubject = humanoid
        end
    end)
end

local function SkidFling(TargetPlayer, originalPosition)
    pcall(function()
        local Character = LocalPlayer.Character
        local Humanoid = Character and Character:FindFirstChildOfClass("Humanoid")
        local RootPart = Humanoid and Humanoid.RootPart
        local TCharacter = TargetPlayer.Character
        local THumanoid = TCharacter and TCharacter:FindFirstChildOfClass("Humanoid")
        local TRootPart = THumanoid and THumanoid.RootPart
        local THead = TCharacter and TCharacter:FindFirstChild("Head")
        
        if not (Character and Humanoid and RootPart and TCharacter and THumanoid and TRootPart) then return end
        
        if RootPart.Velocity.Magnitude < 50 then
            getgenv().OldPos = RootPart.CFrame
        end
        
        if THead then
            Services.Workspace.CurrentCamera.CameraSubject = THead
        elseif THumanoid then
            Services.Workspace.CurrentCamera.CameraSubject = THumanoid
        end
        
        local FPos = function(BasePart, Pos, Ang)
            RootPart.CFrame = CFrame.new(BasePart.Position) * Pos * Ang
            Character:SetPrimaryPartCFrame(CFrame.new(BasePart.Position) * Pos * Ang)
            RootPart.Velocity = Vector3.new(9e7, 9e7 * 10, 9e7)
            RootPart.RotVelocity = Vector3.new(9e8, 9e8, 9e8)
        end
        
        local SFBasePart = function(BasePart)
            local TimeToWait = 5
            local Time = tick()
            local Angle = 0
            
            repeat
                if RootPart and THumanoid then
                    if BasePart.Velocity.Magnitude < 50 then
                        Angle = Angle + 100
                        FPos(BasePart, CFrame.new(0, 1.5, 0) + THumanoid.MoveDirection * BasePart.Velocity.Magnitude / 1.25, CFrame.Angles(math.rad(Angle),0,0))
                        task.wait()
                        FPos(BasePart, CFrame.new(0, -1.5, 0) + THumanoid.MoveDirection * BasePart.Velocity.Magnitude / 1.25, CFrame.Angles(math.rad(Angle),0,0))
                        task.wait()
                        FPos(BasePart, CFrame.new(2.25, 1.5, -2.25) + THumanoid.MoveDirection * BasePart.Velocity.Magnitude / 1.25, CFrame.Angles(math.rad(Angle),0,0))
                        task.wait()
                        FPos(BasePart, CFrame.new(-2.25, -1.5, 2.25) + THumanoid.MoveDirection * BasePart.Velocity.Magnitude / 1.25, CFrame.Angles(math.rad(Angle),0,0))
                        task.wait()
                        FPos(BasePart, CFrame.new(0, 1.5, 0) + THumanoid.MoveDirection, CFrame.Angles(math.rad(Angle),0,0))
                        task.wait()
                        FPos(BasePart, CFrame.new(0, -1.5, 0) + THumanoid.MoveDirection, CFrame.Angles(math.rad(Angle),0,0))
                        task.wait()
                    else
                        FPos(BasePart, CFrame.new(0, 1.5, THumanoid.WalkSpeed), CFrame.Angles(math.rad(90),0,0))
                        task.wait()
                        FPos(BasePart, CFrame.new(0, -1.5, -THumanoid.WalkSpeed), CFrame.Angles(0,0,0))
                        task.wait()
                        FPos(BasePart, CFrame.new(0, 1.5, THumanoid.WalkSpeed), CFrame.Angles(math.rad(90),0,0))
                        task.wait()
                        FPos(BasePart, CFrame.new(0, 1.5, TRootPart.Velocity.Magnitude / 1.25), CFrame.Angles(math.rad(90),0,0))
                        task.wait()
                        FPos(BasePart, CFrame.new(0, -1.5, -TRootPart.Velocity.Magnitude / 1.25), CFrame.Angles(0,0,0))
                        task.wait()
                        FPos(BasePart, CFrame.new(0, 1.5, TRootPart.Velocity.Magnitude / 1.25), CFrame.Angles(math.rad(90),0,0))
                        task.wait()
                        FPos(BasePart, CFrame.new(0, -1.5, 0), CFrame.Angles(math.rad(90),0,0))
                        task.wait()
                        FPos(BasePart, CFrame.new(0, -1.5, 0), CFrame.Angles(0,0,0))
                        task.wait()
                        FPos(BasePart, CFrame.new(0, -1.5, 0), CFrame.Angles(math.rad(-90),0,0))
                        task.wait()
                        FPos(BasePart, CFrame.new(0, -1.5, 0), CFrame.Angles(0,0,0))
                        task.wait()
                    end
                else
                    break
                end
            until BasePart.Velocity.Magnitude > 500 or not BasePart.Parent or not TargetPlayer.Character or THumanoid.Sit or Humanoid.Health <= 0 or tick() > Time + TimeToWait
        end
        
        local BV = Instance.new("BodyVelocity")
        BV.Parent = RootPart
        BV.Velocity = Vector3.new(9e8, 9e8, 9e8)
        BV.MaxForce = Vector3.new(1/0, 1/0, 1/0)
        
        Humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated, false)
        
        if TRootPart and THead then
            if (TRootPart.CFrame.p - THead.CFrame.p).Magnitude > 5 then
                SFBasePart(THead)
            else
                SFBasePart(TRootPart)
            end
        elseif TRootPart then
            SFBasePart(TRootPart)
        elseif THead then
            SFBasePart(THead)
        end
        
        BV:Destroy()
        Humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated, true)
        Services.Workspace.CurrentCamera.CameraSubject = Humanoid
        
        task.wait(0.5)
        ClearAllTools()
        
        if originalPosition and RootPart then
            RootPart.CFrame = originalPosition
            RootPart.Velocity = Vector3.new(0, 0, 0)
            RootPart.RotVelocity = Vector3.new(0, 0, 0)
        end
        
        task.wait(0.3)
        ClearAllTools()
        Services.Workspace.FallenPartsDestroyHeight = -500
    end)
end

local function KillCouch(target)
    pcall(function()
        if IsPlayerSitting(target) then
            return
        end
        
        local RootPart = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
        if not RootPart then return end
        
        local originalPosition = RootPart.CFrame
        Services.Workspace.FallenPartsDestroyHeight = 0/0
        
        if not GetAndEquipCouch() then
            Services.Workspace.FallenPartsDestroyHeight = -500
            return
        end
        
        while not target.Character do task.wait(0.1) end
        SkidFling(target, originalPosition)
    end)
end

local function BringCouch(target)
    pcall(function()
        if not target.Character or not target.Character:FindFirstChild("HumanoidRootPart") then
            return
        end

        local args = { [1] = "ClearAllTools" }
        Services.ReplicatedStorage.RE["1Clea1rTool1s"]:FireServer(unpack(args))
        
        local args = { [1] = "PickingTools", [2] = "Couch" }
        Services.ReplicatedStorage.RE:FindFirstChild("1Too1l"):InvokeServer(unpack(args))

        local couch = LocalPlayer.Backpack:WaitForChild("Couch", 2)
        if not couch then
            return
        end

        couch.Name = "Chaos.Couch"
        local seat1 = couch:FindFirstChild("Seat1")
        local seat2 = couch:FindFirstChild("Seat2")
        local handle = couch:FindFirstChild("Handle")
        
        if seat1 and seat2 and handle then
            seat1.Disabled = true
            seat2.Disabled = true
            handle.Name = "Handle "
        else
            return
        end
        
        couch.Parent = LocalPlayer.Character

        local tet = Instance.new("BodyVelocity", seat1)
        tet.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
        tet.P = 1250
        tet.Velocity = Vector3.new(0, 0, 0)
        tet.Name = "#mOVOOEPF$#@F$#GERE..>V<<<<EW<V<<W"

        repeat
            for m = 1, 35 do
                local pos = { x = 0, y = 0, z = 0 }
                local tRoot = target.Character and target.Character.HumanoidRootPart
                if not tRoot then break end
                
                pos.x = tRoot.Position.X + (tRoot.Velocity.X / 2)
                pos.y = tRoot.Position.Y + (tRoot.Velocity.Y / 2)
                pos.z = tRoot.Position.Z + (tRoot.Velocity.Z / 2)
                
                seat1.CFrame = CFrame.new(Vector3.new(pos.x, pos.y, pos.z)) * CFrame.new(-2, 2, 0)
                task.wait()
            end
            
            tet:Destroy()
            couch.Parent = LocalPlayer.Backpack
            task.wait()
            couch:FindFirstChild("Handle ").Name = "Handle"
            task.wait(0.2)
            couch.Parent = LocalPlayer.Character
            task.wait()
            couch.Parent = LocalPlayer.Backpack
            couch.Handle.Name = "Handle "
            task.wait(0.2)
            couch.Parent = LocalPlayer.Character
            
            tet = Instance.new("BodyVelocity", seat1)
            tet.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
            tet.P = 1250
            tet.Velocity = Vector3.new(0, 0, 0)
            tet.Name = "#mOVOOEPF$#@F$#GERE..>V<<<<EW<V<<W"
            
        until target.Character and target.Character.Humanoid and target.Character.Humanoid.Sit == true

        task.wait()
        tet:Destroy()
        couch.Parent = LocalPlayer.Backpack
        task.wait()
        couch:FindFirstChild("Handle ").Name = "Handle"
        task.wait(0.3)
        couch.Parent = LocalPlayer.Character
        task.wait(0.3)
        couch.Grip = CFrame.new(Vector3.new(0, 0, 0))
        task.wait(0.3)
        Services.ReplicatedStorage.RE["1Clea1rTool1s"]:FireServer("ClearAllTools")
    end)
end

local function KillVehicle(target, vehicleType)
    pcall(function()
        if IsPlayerSitting(target) then
            return
        end
        
        local character = LocalPlayer.Character
        local humanoidRootPart = character and character:FindFirstChild("HumanoidRootPart")
        local humanoid = character and character:FindFirstChildOfClass("Humanoid")
        
        if not humanoidRootPart or not humanoid then return end
        
        local originalPosition = humanoidRootPart.CFrame
        local Vehicles = Services.Workspace:FindFirstChild("Vehicles")
        
        if vehicleType == "Boat" then
            humanoidRootPart.CFrame = CFrame.new(1754, -2, 58)
            task.wait(0.5)
            Services.ReplicatedStorage.RE:FindFirstChild("1Ca1r"):FireServer("PickingBoat", "MilitaryBoatFree")
        elseif vehicleType == "PoliceBoat" then
            humanoidRootPart.CFrame = CFrame.new(1754, -2, 58)
            task.wait(0.5)
            local args = {"PickingBoat", "PoliceBoatChangeable"}
            Services.ReplicatedStorage:WaitForChild("RE"):WaitForChild("1Ca1r"):FireServer(unpack(args))
        else
            humanoidRootPart.CFrame = CFrame.new(1118.81, 75.998, -1138.61)
            task.wait(0.5)
            local args = vehicleType == "Bus" and {"PickingCar", "SchoolBus"} or {"PickingCar", "TowTruck"}
            Services.ReplicatedStorage:WaitForChild("RE"):WaitForChild("1Ca1r"):FireServer(unpack(args))
        end
        
        task.wait(1.5)
        
        local vehicle = Vehicles:FindFirstChild(LocalPlayer.Name .. "Car")
        if not vehicle then
            humanoidRootPart.CFrame = originalPosition
            return
        end
        
        local seat
        if vehicleType == "Boat" or vehicleType == "PoliceBoat" then
            seat = vehicle:FindFirstChild("Body") and vehicle.Body:FindFirstChild("VehicleSeat")
        else
            seat = vehicle:FindFirstChild("Seats") and vehicle.Seats:FindFirstChild("VehicleSeat")
            if not seat then
                seat = vehicle:FindFirstChild("Body") and vehicle.Body:FindFirstChild("VehicleSeat")
            end
        end
        
        if not seat then
            DeleteAllVehicles()
            humanoidRootPart.CFrame = originalPosition
            return
        end
        
        local attempts = 0
        repeat
            humanoidRootPart.CFrame = seat.CFrame * CFrame.new(0, 2, 0)
            task.wait(0.1)
            attempts = attempts + 1
        until humanoid.Sit or attempts > 50 or not vehicle.Parent
        
        if not humanoid.Sit then
            DeleteAllVehicles()
            humanoidRootPart.CFrame = originalPosition
            return
        end
        
        for _, container in pairs({vehicle:FindFirstChild("Body"), vehicle:FindFirstChild("Seats")}) do
            if container then
                for _, v in pairs(container:GetChildren()) do
                    if v:IsA("Seat") or v:IsA("VehicleSeat") then
                        v.CanTouch = false
                    end
                end
            end
        end
        
        Services.Workspace.FallenPartsDestroyHeight = 0/0
        
        local Spin
        if vehicleType == "Boat" or vehicleType == "PoliceBoat" then
            Spin = Instance.new("BodyAngularVelocity")
            Spin.Parent = vehicle.PrimaryPart
            Spin.MaxTorque = Vector3.new(0, math.huge, 0)
            Spin.AngularVelocity = Vector3.new(0, 200, 0)
        end
        
        local flingActive = true
        local targetInVoid = false
        
        task.spawn(function()
            local startTime = tick()
            local maxTime = (vehicleType == "Boat" or vehicleType == "PoliceBoat") and 15 or 20
            
            while flingActive and vehicle and vehicle.Parent do
                local targetChar = target.Character
                if not targetChar then break end
                
                local targetRoot = targetChar:FindFirstChild("HumanoidRootPart")
                local targetHumanoid = targetChar:FindFirstChildOfClass("Humanoid")
                
                if not targetRoot or not targetHumanoid or targetHumanoid.Health <= 0 then break end
                
                if targetRoot.Position.Y < -100 then
                    targetInVoid = true
                    break
                end
                
                if targetHumanoid.Sit then
                    vehicle:SetPrimaryPartCFrame(CFrame.new(9999, -450, 9999))
                    targetInVoid = true
                    task.wait(0.3)
                    break
                end
                
                if vehicleType == "Boat" or vehicleType == "PoliceBoat" then
                    local angle = (tick() - startTime) * 50
                    if targetRoot.Velocity.Magnitude < 50 then
                        local movePatterns = {
                            {pos = CFrame.new(0, 1.5, 0) + targetHumanoid.MoveDirection * targetRoot.Velocity.Magnitude / 2, rot = CFrame.Angles(math.rad(angle), 0, 0)},
                            {pos = CFrame.new(0, -1.5, 0) + targetHumanoid.MoveDirection * targetRoot.Velocity.Magnitude / 2, rot = CFrame.Angles(math.rad(angle), 0, 0)},
                            {pos = CFrame.new(1.5, 1.5, -1.5) + targetHumanoid.MoveDirection * targetRoot.Velocity.Magnitude / 2, rot = CFrame.Angles(math.rad(angle), 0, 0)},
                            {pos = CFrame.new(-1.5, -1.5, 1.5) + targetHumanoid.MoveDirection * targetRoot.Velocity.Magnitude / 2, rot = CFrame.Angles(math.rad(angle), 0, 0)},
                        }
                        for _, pattern in ipairs(movePatterns) do
                            if not flingActive then break end
                            vehicle:SetPrimaryPartCFrame(CFrame.new(targetRoot.Position) * pattern.pos * pattern.rot)
                            task.wait(0.1)
                        end
                    else
                        local speedPatterns = {
                            CFrame.new(0, 1.5, targetHumanoid.WalkSpeed),
                            CFrame.new(0, -1.5, -targetHumanoid.WalkSpeed),
                            CFrame.new(0, 1.5, targetRoot.Velocity.Magnitude / 2),
                            CFrame.new(0, -1.5, -targetRoot.Velocity.Magnitude / 2),
                        }
                        for _, offset in ipairs(speedPatterns) do
                            if not flingActive then break end
                            vehicle:SetPrimaryPartCFrame(CFrame.new(targetRoot.Position) * offset * CFrame.Angles(math.rad(90), 0, 0))
                            task.wait(0.1)
                        end
                    end
                    task.wait(0.05)
                else
                    local time = tick() * 35
                    local lateralOffset = math.sin(time) * 4
                    local frontBackOffset = math.cos(time) * 20
                    vehicle:SetPrimaryPartCFrame(targetRoot.CFrame * CFrame.new(lateralOffset, 0, frontBackOffset))
                end
                
                if tick() - startTime > maxTime then break end
                Services.RunService.RenderStepped:Wait()
            end
            flingActive = false
        end)
        
        while flingActive do task.wait(0.1) end
        
        if Spin then Spin:Destroy() end
        
        task.wait(0.3)
        if humanoid then
            humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
        end
        
        task.wait(0.7)
        if humanoidRootPart then
            humanoidRootPart.CFrame = originalPosition
            humanoidRootPart.Velocity = Vector3.new(0, 0, 0)
            humanoidRootPart.RotVelocity = Vector3.new(0, 0, 0)
        end
        
        task.wait(0.5)
        DeleteAllVehicles()
        Services.Workspace.FallenPartsDestroyHeight = -500
    end)
end

local function BringVehicle(target, vehicleType)
    pcall(function()
        local character = LocalPlayer.Character
        local humanoidRootPart = character and character:FindFirstChild("HumanoidRootPart")
        local humanoid = character and character:FindFirstChildOfClass("Humanoid")
        
        if not humanoidRootPart or not humanoid then return end
        
        local originalPosition = humanoidRootPart.CFrame
        local Vehicles = Services.Workspace:FindFirstChild("Vehicles")
        
        if vehicleType == "Boat" then
            humanoidRootPart.CFrame = CFrame.new(1754, -2, 58)
            task.wait(0.5)
            Services.ReplicatedStorage.RE:FindFirstChild("1Ca1r"):FireServer("PickingBoat", "MilitaryBoatFree")
        elseif vehicleType == "PoliceBoat" then
            humanoidRootPart.CFrame = CFrame.new(1754, -2, 58)
            task.wait(0.5)
            Services.ReplicatedStorage.RE:FindFirstChild("1Ca1r"):FireServer("PickingBoat", "PoliceBoatChangeable")
        else
            humanoidRootPart.CFrame = CFrame.new(1118.81, 75.998, -1138.61)
            task.wait(0.5)
            local args = vehicleType == "Bus" and {"PickingCar", "SchoolBus"} or {"PickingCar", "TowTruck"}
            Services.ReplicatedStorage:WaitForChild("RE"):WaitForChild("1Ca1r"):FireServer(unpack(args))
        end
        
        task.wait(1.5)
        
        local vehicle = Vehicles:FindFirstChild(LocalPlayer.Name .. "Car")
        if not vehicle then
            humanoidRootPart.CFrame = originalPosition
            return
        end
        
        local seats = {}
        for _, container in pairs({vehicle:FindFirstChild("Body"), vehicle:FindFirstChild("Seats")}) do
            if container then
                for _, v in pairs(container:GetChildren()) do
                    if v:IsA("Seat") or v:IsA("VehicleSeat") then
                        table.insert(seats, v)
                    end
                end
            end
        end
        
        if #seats == 0 then
            DeleteAllVehicles()
            humanoidRootPart.CFrame = originalPosition
            return
        end
        
        local mySeat = seats[1]
        
        local attempts = 0
        repeat
            humanoidRootPart.CFrame = mySeat.CFrame * CFrame.new(0, 2, 0)
            task.wait(0.1)
            attempts = attempts + 1
        until humanoid.Sit or attempts > 50 or not vehicle.Parent
        
        if not humanoid.Sit then
            DeleteAllVehicles()
            humanoidRootPart.CFrame = originalPosition
            return
        end
        
        Services.Workspace.FallenPartsDestroyHeight = 0/0
        
        local flingActive = true
        local brought = false
        
        task.spawn(function()
            local startTime = tick()
            local maxTime = 30
            
            while flingActive and vehicle and vehicle.Parent do
                local targetChar = target.Character
                if not targetChar then break end
                
                local targetRoot = targetChar:FindFirstChild("HumanoidRootPart")
                local targetHumanoid = targetChar:FindFirstChildOfClass("Humanoid")
                
                if not targetRoot or not targetHumanoid or targetHumanoid.Health <= 0 then break end
                
                if targetHumanoid.Sit then
                    for i = 1, 30 do
                        vehicle:SetPrimaryPartCFrame(originalPosition * CFrame.new(0, 5, -3))
                        task.wait(0.03)
                        
                        local distance = (targetRoot.Position - originalPosition.Position).Magnitude
                        if distance < 10 then
                            brought = true
                            break
                        end
                    end
                    break
                end
                
                local distance = (targetRoot.Position - originalPosition.Position).Magnitude
                if distance < 10 then
                    brought = true
                    break
                end
                
                for idx, seat in pairs(seats) do
                    local angle = (tick() * 100 + (idx * 60)) % 360
                    local rad = math.rad(angle)
                    local offsetX = math.cos(rad) * 3
                    local offsetZ = math.sin(rad) * 3
                    
                    seat.CFrame = targetRoot.CFrame * CFrame.new(offsetX, 2, offsetZ)
                    seat.Velocity = Vector3.new(0, 50, 0)
                    seat.CanTouch = false
                end
                
                if tick() - startTime > maxTime then 
                    break 
                end
                
                Services.RunService.RenderStepped:Wait()
            end
            flingActive = false
        end)
        
        while flingActive do task.wait(0.1) end
        
        task.wait(0.3)
        if humanoid then
            humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
        end
        
        task.wait(0.7)
        if humanoidRootPart then
            humanoidRootPart.CFrame = originalPosition
            humanoidRootPart.Velocity = Vector3.new(0, 0, 0)
            humanoidRootPart.RotVelocity = Vector3.new(0, 0, 0)
        end
        
        task.wait(0.5)
        DeleteAllVehicles()
        Services.Workspace.FallenPartsDestroyHeight = -500
    end)
end

flingsTab:AddButton({
    Name = "Kill",
    Callback = function()
        pcall(function()
            if not selectedPlayerNameFlings or selectedPlayerNameFlings == "" then
                return
            end
            
            local target = Services.Players:FindFirstChild(selectedPlayerNameFlings)
            if not target then
                return
            end
            
            if IsPlayerSitting(target) then
                return
            end
            
            if selectedMethod == "Ball" then
                FlingBall(target)
            elseif selectedMethod == "Couch" then
                KillCouch(target)
            elseif selectedMethod == "Boat" then
                KillVehicle(target, "Boat")
            elseif selectedMethod == "PoliceBoat" then
                KillVehicle(target, "PoliceBoat")
            elseif selectedMethod == "Bus" then
                KillVehicle(target, "Bus")
            elseif selectedMethod == "TowTruck" then
                KillVehicle(target, "TowTruck")
            end
        end)
    end
})

flingsTab:AddButton({
    Name = "Bring",
    Callback = function()
        pcall(function()
            if not selectedPlayerNameFlings or selectedPlayerNameFlings == "" then
                return
            end
            
            local target = Services.Players:FindFirstChild(selectedPlayerNameFlings)
            if not target then
                return
            end
            
            if selectedMethod == "Couch" then
                BringCouch(target)
            elseif selectedMethod == "Boat" then
                BringVehicle(target, "Boat")
            elseif selectedMethod == "PoliceBoat" then
                BringVehicle(target, "PoliceBoat")
            elseif selectedMethod == "Bus" then
                BringVehicle(target, "Bus")
            elseif selectedMethod == "TowTruck" then
                BringVehicle(target, "TowTruck")
            end
        end)
    end
})

flingsTab:AddButton({
    Name = "Go To",
    Callback = function()
        pcall(function()
            if not selectedPlayerNameFlings then return end
            local target = Services.Players:FindFirstChild(selectedPlayerNameFlings)
            if target and target.Character then
                local myHRP = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
                local targetHRP = target.Character:FindFirstChild("HumanoidRootPart")
                if myHRP and targetHRP then
                    myHRP.CFrame = targetHRP.CFrame * CFrame.new(0, 0, 3)
                end
            end
        end)
    end
})

local viewActive = false
local viewConnection

flingsTab:AddToggle({
    Name = "View",
    Default = false,
    Callback = function(value)
        pcall(function()
            viewActive = value
            
            if value then
                if not lockedTargetFlings or lockedTargetFlings == "" then
                    viewActive = false
                    return
                end
                
                viewConnection = Services.RunService.Heartbeat:Connect(function()
                    if not viewActive then return end
                    
                    local target = Services.Players:FindFirstChild(lockedTargetFlings)
                    if target and target.Character then
                        local hum = target.Character:FindFirstChild("Humanoid")
                        if hum then
                            Services.Workspace.CurrentCamera.CameraSubject = hum
                        end
                    end
                end)
            else
                if viewConnection then
                    viewConnection:Disconnect()
                    viewConnection = nil
                end
                
                if LocalPlayer.Character then
                    local hum = LocalPlayer.Character:FindFirstChild("Humanoid")
                    if hum then
                        Services.Workspace.CurrentCamera.CameraSubject = hum
                    end
                end
            end
        end)
    end
})

local autoFlingActive = false

flingsTab:AddToggle({
    Name = "Auto Fling",
    Default = false,
    Callback = function(value)
        pcall(function()
            autoFlingActive = value
            
            if value then
                if not lockedTargetFlings or lockedTargetFlings == "" then
                    autoFlingActive = false
                    return
                end
                
                local target = Services.Players:FindFirstChild(lockedTargetFlings)
                if not target then
                    autoFlingActive = false
                    return
                end
                
                task.spawn(function()
                    while autoFlingActive do
                        task.wait(1)
                        
                        if not lockedTargetFlings or lockedTargetFlings == "" then
                            autoFlingActive = false
                            break
                        end
                        
                        local currentTarget = Services.Players:FindFirstChild(lockedTargetFlings)
                        
                        if not currentTarget then
                            autoFlingActive = false
                            break
                        end
                        
                        local waitTime = 0
                        while (not LocalPlayer.Character or not LocalPlayer.Character:FindFirstChild("HumanoidRootPart")) and waitTime < 10 do
                            task.wait(0.5)
                            waitTime = waitTime + 0.5
                        end
                        
                        if not LocalPlayer.Character or not currentTarget.Character then
                            continue
                        end
                        
                        if not currentTarget.Character:FindFirstChild("HumanoidRootPart") then
                            continue
                        end
                        
                        if selectedMethod == "Ball" then
                            FlingBall(currentTarget)
                            task.wait(2)
                            
                        elseif selectedMethod == "Couch" then
                            if not IsPlayerSitting(currentTarget) then
                                KillCouch(currentTarget)
                            end
                            task.wait(3)
                            
                        elseif selectedMethod == "Boat" then
                            if not IsPlayerSitting(currentTarget) then
                                KillVehicle(currentTarget, "Boat")
                            end
                            task.wait(5)
                            
                        elseif selectedMethod == "PoliceBoat" then
                            if not IsPlayerSitting(currentTarget) then
                                KillVehicle(currentTarget, "PoliceBoat")
                            end
                            task.wait(5)
                            
                        elseif selectedMethod == "Bus" then
                            if not IsPlayerSitting(currentTarget) then
                                KillVehicle(currentTarget, "Bus")
                            end
                            task.wait(5)
                            
                        elseif selectedMethod == "TowTruck" then
                            if not IsPlayerSitting(currentTarget) then
                                KillVehicle(currentTarget, "TowTruck")
                            end
                            task.wait(5)
                        end
                    end
                end)
            end
        end)
    end
})

LocalPlayer.CharacterAdded:Connect(function()
    pcall(function()
        if autoFlingActive then
            task.wait(2)
        end
    end)
end)

flingsTab:AddSection({"Admin"})

local RemoteEvent = Services.ReplicatedStorage:WaitForChild("RE"):WaitForChild("1Playe1rTrigge1rEven1t")
local ClearToolsEvent = Services.ReplicatedStorage:WaitForChild("RE"):WaitForChild("1Clea1rTool1s")

getgenv().AntiToolAllActive = false
getgenv().AntiToolSingleActive = false

local singlePlayerConnection = nil
local allPlayersConnections = {}

local function fastRemote(tool, targetPlayer)
    pcall(function()
        if not tool or not tool:IsA("Tool") or not targetPlayer then return end
        
        for i = 1, 3 do
            task.spawn(function()
                RemoteEvent:FireServer("AcceptedToolToServer", tool.Name, targetPlayer)
            end)
        end
        
        task.spawn(function()
            ClearToolsEvent:FireServer("ClearAllTools")
        end)
    end)
end

local function scanTools(player, char)
    pcall(function()
        if not char then return end
        for _, child in ipairs(char:GetChildren()) do
            if child:IsA("Tool") then
                task.spawn(fastRemote, child, player)
            end
        end
    end)
end

local function monitorSinglePlayer(player)
    pcall(function()
        if player == LocalPlayer then return end
        
        local connections = {}
        
        if player.Character then
            scanTools(player, player.Character)
            table.insert(connections, player.Character.ChildAdded:Connect(function(tool)
                if tool:IsA("Tool") and getgenv().AntiToolSingleActive then
                    task.spawn(fastRemote, tool, player)
                end
            end))
        end
        
        table.insert(connections, player.CharacterAdded:Connect(function(char)
            scanTools(player, char)
            table.insert(connections, char.ChildAdded:Connect(function(tool)
                if tool:IsA("Tool") and getgenv().AntiToolSingleActive then
                    task.spawn(fastRemote, tool, player)
                end
            end))
        end))
        
        table.insert(connections, task.spawn(function()
            while getgenv().AntiToolSingleActive and player.Parent == Services.Players do
                if player.Character then
                    scanTools(player, player.Character)
                end
                task.wait(0.2)
            end
        end))
        
        return connections
    end)
    return {}
end

local function disconnectSinglePlayer()
    pcall(function()
        if singlePlayerConnection then
            for _, conn in ipairs(singlePlayerConnection) do
                if typeof(conn) == "RBXScriptConnection" and conn.Connected then 
                    conn:Disconnect() 
                elseif typeof(conn) == "thread" then
                    task.cancel(conn)
                end
            end
            singlePlayerConnection = nil
        end
    end)
end

local function monitorAllPlayers(player)
    pcall(function()
        if player == LocalPlayer then return end
        if allPlayersConnections[player] then return end
        
        local connections = {}
        allPlayersConnections[player] = connections
        
        if player.Character then
            scanTools(player, player.Character)
            table.insert(connections, player.Character.ChildAdded:Connect(function(tool)
                if tool:IsA("Tool") and getgenv().AntiToolAllActive then
                    task.spawn(fastRemote, tool, player)
                end
            end))
        end
        
        table.insert(connections, player.CharacterAdded:Connect(function(char)
            scanTools(player, char)
            table.insert(connections, char.ChildAdded:Connect(function(tool)
                if tool:IsA("Tool") and getgenv().AntiToolAllActive then
                    task.spawn(fastRemote, tool, player)
                end
            end))
        end))
        
        table.insert(connections, task.spawn(function()
            while getgenv().AntiToolAllActive and player.Parent == Services.Players do
                if player.Character then
                    scanTools(player, player.Character)
                end
                task.wait(0.2)
            end
        end))
    end)
end

local function disconnectAllPlayers()
    pcall(function()
        for _, conns in pairs(allPlayersConnections) do
            for _, conn in ipairs(conns) do
                if typeof(conn) == "RBXScriptConnection" and conn.Connected then 
                    conn:Disconnect() 
                elseif typeof(conn) == "thread" then
                    task.cancel(conn)
                end
            end
        end
        table.clear(allPlayersConnections)
    end)
end

flingsTab:AddToggle({
    Name = "Anti Tool Player",
    Default = false,
    Callback = function(state)
        pcall(function()
            getgenv().AntiToolSingleActive = state
            
            if state then
                if not selectedPlayerNameFlings or selectedPlayerNameFlings == "" then
                    getgenv().AntiToolSingleActive = false
                    return
                end
                
                local targetPlayer = Services.Players:FindFirstChild(selectedPlayerNameFlings)
                
                if not targetPlayer then
                    getgenv().AntiToolSingleActive = false
                    return
                end
                
                singlePlayerConnection = monitorSinglePlayer(targetPlayer)
            else
                disconnectSinglePlayer()
            end
        end)
    end
})

flingsTab:AddToggle({
    Name = "Anti Tool All Players",
    Default = false,
    Callback = function(state)
        pcall(function()
            getgenv().AntiToolAllActive = state
            
            if state then
                for _, player in ipairs(Services.Players:GetPlayers()) do
                    if player ~= LocalPlayer then
                        monitorAllPlayers(player)
                    end
                end
                
                if not allPlayersConnections["_listener"] then
                    allPlayersConnections["_listener"] = {
                        Services.Players.PlayerAdded:Connect(function(player)
                            if getgenv().AntiToolAllActive then
                                monitorAllPlayers(player)
                            end
                        end)
                    }
                end
            else
                disconnectAllPlayers()
            end
        end)
    end
})

flingsTab:AddSection({"Novos Métodos"})

local englishFlingActive = false

flingsTab:AddToggle({
    Name = "Fling Couch Method English [TOP 1]",
    Default = false,
    Callback = function(state)
        pcall(function()
            englishFlingActive = state
            if englishFlingActive then
                task.spawn(function()
                    while englishFlingActive do
                        if selectedPlayerNameFlings then
                            local target = Services.Players:FindFirstChild(selectedPlayerNameFlings)
                            if target and target.Character then
                                local char = LocalPlayer.Character
                                local root = char and char:FindFirstChild("HumanoidRootPart")
                                local tRoot = target.Character:FindFirstChild("HumanoidRootPart")
                                local tHum = target.Character:FindFirstChildOfClass("Humanoid")
                                local hum = char and char:FindFirstChildOfClass("Humanoid")
                                
                                if root and tRoot and tHum and hum then
                                    local args = {[1]="ClearAllTools"}
                                    if Services.ReplicatedStorage.RE:FindFirstChild("1Clea1rTool1s") then
                                        Services.ReplicatedStorage.RE:FindFirstChild("1Clea1rTool1s"):FireServer(unpack(args))
                                    end
                                    task.wait(0.3)
                                    
                                    if Services.ReplicatedStorage.RE:FindFirstChild("1Too1l") then
                                        Services.ReplicatedStorage.RE:FindFirstChild("1Too1l"):InvokeServer("PickingTools","Couch")
                                    end
                                    
                                    local original = root.CFrame
                                    local tool = LocalPlayer.Backpack:FindFirstChildOfClass("Tool")
                                    if tool then tool.Parent = char end
                                    
                                    Services.Workspace.FallenPartsDestroyHeight = -math.huge
                                    local bv = Instance.new("BodyVelocity")
                                    bv.Name = "FlingForce"
                                    bv.Velocity = Vector3.new(9e8,9e8,9e8)
                                    bv.MaxForce = Vector3.new(math.huge,math.huge,math.huge)
                                    bv.Parent = root
                                    
                                    hum:SetStateEnabled(Enum.HumanoidStateType.Seated,false)
                                    hum.PlatformStand = false
                                    Services.Workspace.CurrentCamera.CameraSubject = tRoot
                                    
                                    local angle = 0
                                    while englishFlingActive and target and target.Character and target.Character:FindFirstChildOfClass("Humanoid") do
                                        tHum = target.Character:FindFirstChildOfClass("Humanoid")
                                        tRoot = target.Character:FindFirstChild("HumanoidRootPart")
                                        if not tRoot or tHum.Sit or tRoot.Position.Y>=70000 then break end
                                        
                                        local moveDir = tHum.MoveDirection
                                        local offset = Vector3.new(0,0,0)
                                        if moveDir.Magnitude>=0.01 then
                                            local speed = tHum.WalkSpeed
                                            local studs = 13
                                            if speed>16 then studs=studs+math.floor((speed-16)/9)*9 end
                                            offset=moveDir.Unit*studs
                                        end
                                        
                                        angle+=30
                                        root.CFrame = CFrame.new(tRoot.Position+offset+Vector3.new(0,1,0))*CFrame.Angles(math.rad(angle),0,0)
                                        root.Velocity = Vector3.new(9e8,9e8,9e8)
                                        root.RotVelocity = Vector3.new(9e8,9e8,9e8)
                                        task.wait()
                                    end
                                    
                                    bv:Destroy()
                                    hum:SetStateEnabled(Enum.HumanoidStateType.Seated,true)
                                    hum.PlatformStand=false
                                    root.CFrame=original
                                    Services.Workspace.CurrentCamera.CameraSubject=hum
                                    
                                    for _,p in pairs(char:GetDescendants()) do 
                                        if p:IsA("BasePart") then 
                                            p.Velocity=Vector3.zero 
                                            p.RotVelocity=Vector3.zero 
                                        end 
                                    end
                                    
                                    hum:UnequipTools()
                                    if Services.ReplicatedStorage.RE:FindFirstChild("1Too1l") then
                                        Services.ReplicatedStorage.RE:FindFirstChild("1Too1l"):InvokeServer("PickingTools","Couch")
                                    end
                                end
                            end
                        end
                        task.wait(0.5)
                    end
                end)
            end
        end)
    end
})

local brazilianFlingActive = false

flingsTab:AddToggle({
    Name = "Fling Couch Method Brazilian Server",
    Default = false,
    Callback = function(state)
        pcall(function()
            brazilianFlingActive = state
            if brazilianFlingActive then
                task.spawn(function()
                    while brazilianFlingActive do
                        if selectedPlayerNameFlings then
                            local target = Services.Players:FindFirstChild(selectedPlayerNameFlings)
                            if target and target.Character then
                                local char = LocalPlayer.Character
                                local root = char and char:FindFirstChild("HumanoidRootPart")
                                local tRoot = target.Character:FindFirstChild("HumanoidRootPart")
                                local tHum = target.Character:FindFirstChildOfClass("Humanoid")
                                local hum = char and char:FindFirstChildOfClass("Humanoid")
                                
                                if root and tRoot and tHum and hum then
                                    local args = {[1]="ClearAllTools"}
                                    if Services.ReplicatedStorage.RE:FindFirstChild("1Clea1rTool1s") then
                                        Services.ReplicatedStorage.RE:FindFirstChild("1Clea1rTool1s"):FireServer(unpack(args))
                                    end
                                    task.wait(0.3)
                                    
                                    if Services.ReplicatedStorage.RE:FindFirstChild("1Too1l") then
                                        Services.ReplicatedStorage.RE:FindFirstChild("1Too1l"):InvokeServer("PickingTools","Couch")
                                    end
                                    
                                    local original = root.CFrame
                                    local tool = LocalPlayer.Backpack:FindFirstChildOfClass("Tool")
                                    if tool then tool.Parent = char end
                                    
                                    Services.Workspace.FallenPartsDestroyHeight = -math.huge
                                    local bv = Instance.new("BodyVelocity")
                                    bv.Name = "FlingForce"
                                    bv.Velocity = Vector3.new(9e8,9e8,9e8)
                                    bv.MaxForce = Vector3.new(math.huge,math.huge,math.huge)
                                    bv.Parent = root
                                    
                                    hum:SetStateEnabled(Enum.HumanoidStateType.Seated,false)
                                    hum.PlatformStand = false
                                    Services.Workspace.CurrentCamera.CameraSubject = tRoot
                                    
                                    local angle = 0
                                    while brazilianFlingActive and target and target.Character and target.Character:FindFirstChildOfClass("Humanoid") do
                                        tHum = target.Character:FindFirstChildOfClass("Humanoid")
                                        tRoot = target.Character:FindFirstChild("HumanoidRootPart")
                                        if not tRoot or tHum.Sit or tRoot.Position.Y>=70000 then break end
                                        
                                        local moveDir = tHum.MoveDirection
                                        local offset = Vector3.new(0,0,0)
                                        if moveDir.Magnitude>=0.01 then
                                            local speed = tHum.WalkSpeed
                                            local studs = 1
                                            if speed>16 then studs=studs+math.floor((speed-16)/0)*0 end
                                            offset=moveDir.Unit*studs
                                        end
                                        
                                        angle+=30
                                        root.CFrame = CFrame.new(tRoot.Position+offset+Vector3.new(0,1,0))*CFrame.Angles(math.rad(angle),0,0)
                                        root.Velocity = Vector3.new(9e8,9e8,9e8)
                                        root.RotVelocity = Vector3.new(9e8,9e8,9e8)
                                        task.wait()
                                    end
                                    
                                    bv:Destroy()
                                    hum:SetStateEnabled(Enum.HumanoidStateType.Seated,true)
                                    hum.PlatformStand=false
                                    root.CFrame=original
                                    Services.Workspace.CurrentCamera.CameraSubject=hum
                                    
                                    for _,p in pairs(char:GetDescendants()) do 
                                        if p:IsA("BasePart") then 
                                            p.Velocity=Vector3.zero 
                                            p.RotVelocity=Vector3.zero 
                                        end 
                                    end
                                    
                                    hum:UnequipTools()
                                    if Services.ReplicatedStorage.RE:FindFirstChild("1Too1l") then
                                        Services.ReplicatedStorage.RE:FindFirstChild("1Too1l"):InvokeServer("PickingTools","Couch")
                                    end
                                end
                            end
                        end
                        task.wait(0.5)
                    end
                end)
            end
        end)
    end
})

flingsTab:AddButton({
    Name = "Glitch/Fling Couch",
    Callback = function()
        pcall(function()
            if not selectedPlayerNameFlings then return end
            local target = Services.Players:FindFirstChild(selectedPlayerNameFlings)
            if not target or not target.Character then return end
            
            local char = LocalPlayer.Character
            local root = char and char:FindFirstChild("HumanoidRootPart")
            local tRoot = target.Character:FindFirstChild("HumanoidRootPart")
            local tHum = target.Character:FindFirstChildOfClass("Humanoid")
            local hum = char and char:FindFirstChildOfClass("Humanoid")
            
            if not (root and tRoot and tHum and hum) then return end
            
            local args = { [1] = "ClearAllTools" }
            if Services.ReplicatedStorage.RE:FindFirstChild("1Clea1rTool1s") then
                Services.ReplicatedStorage.RE:FindFirstChild("1Clea1rTool1s"):FireServer(unpack(args))
            end
            
            task.wait(0.3)
            
            if Services.ReplicatedStorage.RE:FindFirstChild("1Too1l") then
                Services.ReplicatedStorage.RE:FindFirstChild("1Too1l"):InvokeServer("PickingTools","Couch")
            end
            
            local original = root.CFrame
            local tool = LocalPlayer.Backpack:FindFirstChildOfClass("Tool")
            if tool then tool.Parent = char end
            
            Services.Workspace.FallenPartsDestroyHeight = -math.huge
            local bv = Instance.new("BodyVelocity")
            bv.Name = "FlingForce"
            bv.Velocity = Vector3.new(9e8,9e8,9e8)
            bv.MaxForce = Vector3.new(math.huge,math.huge,math.huge)
            bv.Parent = root
            
            hum:SetStateEnabled(Enum.HumanoidStateType.Seated,false)
            hum.PlatformStand = false
            Services.Workspace.CurrentCamera.CameraSubject = tRoot
            
            local angle = 0
            local t = tick()
            
            while tick() - t < 3 and target and target.Character and target.Character:FindFirstChildOfClass("Humanoid") do
                tHum = target.Character:FindFirstChildOfClass("Humanoid")
                tRoot = target.Character:FindFirstChild("HumanoidRootPart")
                if not tRoot then break end
                
                angle += 30
                root.CFrame = CFrame.new(tRoot.Position + Vector3.new(0, 1, 0)) * CFrame.Angles(math.rad(angle), 0, 0)
                root.Velocity = Vector3.new(9e8,9e8,9e8)
                root.RotVelocity = Vector3.new(9e8,9e8,9e8)
                task.wait()
            end
            
            bv:Destroy()
            hum:SetStateEnabled(Enum.HumanoidStateType.Seated,true)
            hum.PlatformStand = false
            root.CFrame = original
            Services.Workspace.CurrentCamera.CameraSubject = hum
            
            for _, p in pairs(char:GetDescendants()) do
                if p:IsA("BasePart") then
                    p.Velocity = Vector3.zero
                    p.RotVelocity = Vector3.zero
                end
            end
            
            hum:UnequipTools()
            
            if Services.ReplicatedStorage.RE:FindFirstChild("1Too1l") then
                Services.ReplicatedStorage.RE:FindFirstChild("1Too1l"):InvokeServer("PickingTools","Couch")
            end
        end)
    end
})

local touchedFlingActive = false
local shieldBall = nil
local shieldLoop = nil

flingsTab:AddToggle({
    Name = "Fling Ball Aura",
    Default = false,
    Callback = function(state)
        pcall(function()
            touchedFlingActive = state
            
            if touchedFlingActive then
                local character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
                local backpack = LocalPlayer:WaitForChild("Backpack")
                local serverBalls = Services.Workspace.WorkspaceCom:WaitForChild("001_SoccerBalls")
                
                if character:FindFirstChild("ShieldBall") then return end
                
                if not backpack:FindFirstChild("SoccerBall") and not character:FindFirstChild("SoccerBall") then
                    if Services.ReplicatedStorage.RE:FindFirstChild("1Too1l") then
                        Services.ReplicatedStorage.RE:FindFirstChild("1Too1l"):InvokeServer("PickingTools", "SoccerBall")
                    end
                end
                
                repeat task.wait() until backpack:FindFirstChild("SoccerBall") or character:FindFirstChild("SoccerBall")
                local ballTool = backpack:FindFirstChild("SoccerBall")
                if ballTool then ballTool.Parent = character end
                
                repeat task.wait() until serverBalls:FindFirstChild("Soccer"..LocalPlayer.Name)
                shieldBall = serverBalls:FindFirstChild("Soccer"..LocalPlayer.Name)
                
                if not shieldBall then return end
                shieldBall.Name = "ShieldBall"
                shieldBall.CanCollide = false
                shieldBall.Massless = true
                shieldBall.CustomPhysicalProperties = PhysicalProperties.new(0.0001, 0, 0)
                
                if shieldBall:FindFirstChildWhichIsA("BodyVelocity") then
                    shieldBall:FindFirstChildWhichIsA("BodyVelocity"):Destroy()
                end
                
                local bv = Instance.new("BodyVelocity")
                bv.Name = "FlingPower"
                bv.Velocity = Vector3.new(9e8, 9e8, 9e8)
                bv.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
                bv.P = 9e900
                bv.Parent = shieldBall
                
                local torso = character:FindFirstChild("UpperTorso") or character:FindFirstChild("HumanoidRootPart")
                shieldLoop = Instance.new("BindableEvent")
                shieldLoop.Name = "ShieldLoop"
                shieldLoop.Parent = character
                
                task.spawn(function()
                    while touchedFlingActive and shieldLoop and shieldLoop.Parent and shieldBall and shieldBall.Parent and torso and torso.Parent do
                        shieldBall.CFrame = torso.CFrame
                        task.wait(1/60)
                    end
                end)
            else
                if shieldBall then 
                    pcall(function() shieldBall:Destroy() end)
                    shieldBall = nil
                end
                if shieldLoop then 
                    pcall(function() shieldLoop:Destroy() end)
                    shieldLoop = nil
                end
            end
        end)
    end
})

local loopTP = false
local flingCouchActive = false
local flingCouchFastActive = false

flingsTab:AddToggle({
    Name = "Loop TP To Player",
    Default = false,
    Callback = function(state)
        pcall(function()
            loopTP = state
            if loopTP then
                task.spawn(function()
                    while loopTP and selectedPlayerNameFlings do
                        local target = Services.Players:FindFirstChild(selectedPlayerNameFlings)
                        if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
                            local myChar = LocalPlayer.Character
                            if myChar and myChar:FindFirstChild("HumanoidRootPart") then
                                myChar.HumanoidRootPart.CFrame = target.Character.HumanoidRootPart.CFrame
                            end
                        end
                        task.wait(0.02)
                    end
                end)
            end
        end)
    end
})

flingsTab:AddToggle({
    Name = "Fling Sofa Loop",
    Default = false,
    Callback = function(state)
        pcall(function()
            flingCouchActive = state
            task.spawn(function()
                while flingCouchActive do
                    if selectedPlayerNameFlings then
                        local target = Services.Players:FindFirstChild(selectedPlayerNameFlings)
                        if target and target.Character then
                            local char = LocalPlayer.Character
                            local root = char and char:FindFirstChild("HumanoidRootPart")
                            local tRoot = target.Character:FindFirstChild("HumanoidRootPart")
                            local tHum = target.Character:FindFirstChildOfClass("Humanoid")
                            local hum = char and char:FindFirstChildOfClass("Humanoid")
                            if root and tRoot and tHum and hum then
                                local args = {[1]="ClearAllTools"}
                                Services.ReplicatedStorage.RE:FindFirstChild("1Clea1rTool1s"):FireServer(unpack(args))
                                task.wait(0.3)
                                Services.ReplicatedStorage.RE:FindFirstChild("1Too1l"):InvokeServer("PickingTools","Couch")
                                local original = root.CFrame
                                local tool = LocalPlayer.Backpack:FindFirstChildOfClass("Tool")
                                if tool then tool.Parent = char end
                                Services.Workspace.FallenPartsDestroyHeight = -math.huge
                                local bv = Instance.new("BodyVelocity")
                                bv.Name = "FlingForce"
                                bv.Velocity = Vector3.new(9e8,9e8,9e8)
                                bv.MaxForce = Vector3.new(math.huge,math.huge,math.huge)
                                bv.Parent = root
                                hum:SetStateEnabled(Enum.HumanoidStateType.Seated,false)
                                hum.PlatformStand = false
                                Services.Workspace.CurrentCamera.CameraSubject = tRoot
                                local angle = 0
                                while flingCouchActive and target and target.Character and target.Character:FindFirstChildOfClass("Humanoid") do
                                    tHum = target.Character:FindFirstChildOfClass("Humanoid")
                                    tRoot = target.Character:FindFirstChild("HumanoidRootPart")
                                    if not tRoot or tHum.Sit or tRoot.Position.Y>=70000 then break end
                                    local moveDir = tHum.MoveDirection
                                    local offset = Vector3.new(0,0,0)
                                    if moveDir.Magnitude>=0.01 then
                                        local speed = tHum.WalkSpeed
                                        local studs = 13
                                        if speed>16 then studs=studs+math.floor((speed-16)/9)*9 end
                                        offset=moveDir.Unit*studs
                                    end
                                    angle+=30
                                    root.CFrame = CFrame.new(tRoot.Position+offset+Vector3.new(0,1,0))*CFrame.Angles(math.rad(angle),0,0)
                                    root.Velocity = Vector3.new(9e8,9e8,9e8)
                                    root.RotVelocity = Vector3.new(9e8,9e8,9e8)
                                    task.wait()
                                end
                                bv:Destroy()
                                hum:SetStateEnabled(Enum.HumanoidStateType.Seated,true)
                                hum.PlatformStand=false
                                root.CFrame=original
                                Services.Workspace.CurrentCamera.CameraSubject=hum
                                for _,p in pairs(char:GetDescendants()) do if p:IsA("BasePart") then p.Velocity=Vector3.zero p.RotVelocity=Vector3.zero end end
                                hum:UnequipTools()
                                Services.ReplicatedStorage.RE:FindFirstChild("1Too1l"):InvokeServer("PickingTools","Couch")
                            end
                        end
                    end
                    task.wait(0.5)
                end
            end)
        end)
    end
})

flingsTab:AddToggle({
    Name = "Fling Couch Rápido",
    Default = false,
    Callback = function(state)
        pcall(function()
            flingCouchFastActive = state
            task.spawn(function()
                while flingCouchFastActive do
                    if selectedPlayerNameFlings then
                        local target = Services.Players:FindFirstChild(selectedPlayerNameFlings)
                        if target and target.Character then
                            local char = LocalPlayer.Character
                            local root = char and char:FindFirstChild("HumanoidRootPart")
                            local tRoot = target.Character:FindFirstChild("HumanoidRootPart")
                            local tHum = target.Character:FindFirstChildOfClass("Humanoid")
                            local hum = char and char:FindFirstChildOfClass("Humanoid")
                            if root and tRoot and tHum and hum then
                                local args = {[1]="ClearAllTools"}
                                Services.ReplicatedStorage.RE:FindFirstChild("1Clea1rTool1s"):FireServer(unpack(args))
                                task.wait(0.2)
                                Services.ReplicatedStorage.RE:FindFirstChild("1Too1l"):InvokeServer("PickingTools","Couch")
                                local original = root.CFrame
                                local tool = LocalPlayer.Backpack:FindFirstChildOfClass("Tool")
                                if tool then tool.Parent = char end
                                Services.Workspace.FallenPartsDestroyHeight = -math.huge
                                local bv = Instance.new("BodyVelocity")
                                bv.Name = "FlingForce"
                                bv.Velocity = Vector3.new(9e8,9e8,9e8)
                                bv.MaxForce = Vector3.new(math.huge,math.huge,math.huge)
                                bv.Parent = root
                                hum:SetStateEnabled(Enum.HumanoidStateType.Seated,false)
                                hum.PlatformStand = false
                                Services.Workspace.CurrentCamera.CameraSubject = tRoot
                                local angle = 0
                                while flingCouchFastActive and target and target.Character and target.Character:FindFirstChildOfClass("Humanoid") do
                                    tHum = target.Character:FindFirstChildOfClass("Humanoid")
                                    tRoot = target.Character:FindFirstChild("HumanoidRootPart")
                                    if not tRoot or tHum.Sit or tRoot.Position.Y >= 70000 then break end
                                    local moveDir = tHum.MoveDirection
                                    local offset = Vector3.new(0,0,0)
                                    if moveDir.Magnitude >= 0.01 then
                                        local speed = tHum.WalkSpeed
                                        local studs = 13
                                        if speed > 16 then studs = studs + math.floor((speed - 16) / 9) * 9 end
                                        offset = moveDir.Unit * studs
                                    end
                                    angle += 90
                                    root.CFrame = CFrame.new(tRoot.Position + offset + Vector3.new(0, 1, 0)) * CFrame.Angles(math.rad(angle), 0, 0)
                                    root.Velocity = Vector3.new(9e8, 9e8, 9e8)
                                    root.RotVelocity = Vector3.new(9e8, 9e8, 9e8)
                                    task.wait(0.02)
                                end
                                bv:Destroy()
                                hum:SetStateEnabled(Enum.HumanoidStateType.Seated,true)
                                hum.PlatformStand = false
                                root.CFrame = original
                                Services.Workspace.CurrentCamera.CameraSubject = hum
                                for _, p in pairs(char:GetDescendants()) do
                                    if p:IsA("BasePart") then
                                        p.Velocity = Vector3.zero
                                        p.RotVelocity = Vector3.zero
                                    end
                                end
                                hum:UnequipTools()
                                Services.ReplicatedStorage.RE:FindFirstChild("1Too1l"):InvokeServer("PickingTools","Couch")
                            end
                        end
                    end
                    task.wait(0.2)
                end
            end)
        end)
    end
})

flingsTab:AddButton({
    Name = "Fling Portas",
    Callback = function()
        pcall(function()
            if not selectedPlayerNameFlings then return end
            local TargetPlayer = Services.Players:FindFirstChild(selectedPlayerNameFlings)
            if not TargetPlayer or not TargetPlayer.Character or not TargetPlayer.Character:FindFirstChild("HumanoidRootPart") then
                return
            end
            
            local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
            local HRP = Character:WaitForChild("HumanoidRootPart")
            
            local BlackHole = Services.Workspace:FindFirstChild("RedzHub_BlackHoleTarget") or Instance.new("Part")
            BlackHole.Size = Vector3.new(100000, 100000, 100000)
            BlackHole.Transparency = 1
            BlackHole.Anchored = true
            BlackHole.CanCollide = false
            BlackHole.Name = "RedzHub_BlackHoleTarget"
            BlackHole.Parent = Services.Workspace
            
            local baseAttachment = BlackHole:FindFirstChild("RedzHub_BlackHoleAttachment") or Instance.new("Attachment")
            baseAttachment.Name = "RedzHub_BlackHoleAttachment"
            baseAttachment.Parent = BlackHole
            
            Services.RunService.Heartbeat:Connect(function()
                pcall(function()
                    if Character and Character:FindFirstChild("HumanoidRootPart") then
                        BlackHole.CFrame = HRP.CFrame
                    end
                end)
            end)
            
            local ConflingsTabedDoors = {}
            
            local function SetupDoor(part)
                if not part:IsA("BasePart") or part.Anchored or not string.find(part.Name, "Door") then return end
                if part:FindFirstChild("RedzHub_Attached") then return end
                part.CanCollide = false
                for _, obj in ipairs(part:GetChildren()) do
                    if obj:IsA("AlignPosition") or obj:IsA("Torque") or obj:IsA("Attachment") then
                        obj:Destroy()
                    end
                end
                local marker = Instance.new("BoolValue", part)
                marker.Name = "RedzHub_Attached"
                local a1 = Instance.new("Attachment", part)
                local align = Instance.new("AlignPosition", part)
                align.Attachment0 = a1
                align.Attachment1 = baseAttachment
                align.MaxForce = 1e20
                align.MaxVelocity = math.huge
                align.Responsiveness = 99999
                local torque = Instance.new("Torque", part)
                torque.Attachment0 = a1
                torque.RelativeTo = Enum.ActuatorRelativeTo.World
                torque.Torque = Vector3.new(
                    math.random(-10e5, 10e5) * 1000,
                    math.random(-10e5, 10e5) * 10000,
                    math.random(-10e5, 10e5) * 100
                )
                table.insert(ConflingsTabedDoors, {Part = part, Align = align})
            end
            
            for _, obj in ipairs(Services.Workspace:GetDescendants()) do
                if obj:IsA("BasePart") and string.find(obj.Name, "Door") then
                    SetupDoor(obj)
                end
            end
            
            Services.Workspace.DescendantAdded:Connect(function(obj)
                if obj:IsA("BasePart") and string.find(obj.Name, "Door") then
                    SetupDoor(obj)
                end
            end)
            
            local function FlingPlayer(player)
                local char = player.Character
                if not char then return end
                local targetHRP = char:FindFirstChild("HumanoidRootPart")
                if not targetHRP then return end
                local targetAttachment = targetHRP:FindFirstChild("RedzHub_TargetAttachment")
                if not targetAttachment then
                    targetAttachment = Instance.new("Attachment", targetHRP)
                    targetAttachment.Name = "RedzHub_TargetAttachment"
                end
                for _, data in ipairs(ConflingsTabedDoors) do
                    if data.Align then
                        data.Align.Attachment1 = targetAttachment
                    end
                end
                local start = tick()
                while tick() - start < 6 do
                    if not Character or not HRP or not player.Character or not targetHRP then break end
                    local distance = (HRP.Position - targetHRP.Position).Magnitude
                    BlackHole.CFrame = targetHRP.CFrame
                    if distance >= 3000 then
                        break
                    end
                    Services.RunService.Heartbeat:Wait()
                end
                for _, data in ipairs(ConflingsTabedDoors) do
                    if data.Align then
                        data.Align.Attachment1 = baseAttachment
                    end
                end
                BlackHole.CFrame = HRP.CFrame
            end
            
            task.defer(function()
                FlingPlayer(TargetPlayer)
            end)
        end)
    end
})

flingsTab:AddButton({
    Name = "Fling Ball Car",
    Callback = function()
        pcall(function()
            if not selectedPlayerNameFlings then return end
            local targetPlayer = Services.Players:FindFirstChild(selectedPlayerNameFlings)
            if not targetPlayer then return end
            
            local character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
            local backpack = LocalPlayer:WaitForChild("Backpack")
            local serverBalls = Services.Workspace:WaitForChild("WorkspaceCom"):WaitForChild("001_SoccerBalls")
            
            if not backpack:FindFirstChild("SoccerBall") and not character:FindFirstChild("SoccerBall") then
                Services.ReplicatedStorage.RE:FindFirstChild("1Too1l"):InvokeServer("PickingTools", "SoccerBall")
            end
            
            repeat task.wait() until backpack:FindFirstChild("SoccerBall") or character:FindFirstChild("SoccerBall")
            
            local ballTool = backpack:FindFirstChild("SoccerBall")
            if ballTool then
                ballTool.Parent = character
            end
            
            repeat task.wait() until serverBalls:FindFirstChild("Soccer"..LocalPlayer.Name)
            local Ball = serverBalls:FindFirstChild("Soccer"..LocalPlayer.Name)
            
            Ball.CanCollide = false
            Ball.Massless = true
            Ball.CustomPhysicalProperties = PhysicalProperties.new(0.0001, 0, 0)
            
            local vehicleFolder = Services.Workspace:FindFirstChild("Vehicles")
            if not vehicleFolder then return end
            
            local targetCar = vehicleFolder:FindFirstChild(targetPlayer.Name.."Car")
            if not targetCar then return end
            
            if Ball:FindFirstChildWhichIsA("BodyVelocity") then
                Ball:FindFirstChildWhichIsA("BodyVelocity"):Destroy()
            end
            
            local bv = Instance.new("BodyVelocity")
            bv.Name = "FlingPower"
            bv.Velocity = Vector3.new(9e8, 9e8, 9e8)
            bv.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
            bv.P = 9e900
            bv.Parent = Ball
            
            task.spawn(function()
                while targetCar and targetCar:IsDescendantOf(Services.Workspace) and targetPlayer.Parent == Services.Players do
                    if targetCar.PrimaryPart then
                        local pos = targetCar.PrimaryPart.Position + Vector3.new(0, math.sin(tick() * 3) * 2, 0)
                        Ball.CFrame = CFrame.new(pos) * CFrame.Angles(0, tick() * 2, 0)
                    else
                        local part = targetCar:FindFirstChildWhichIsA("BasePart")
                        if part then
                            local pos = part.Position + Vector3.new(0, math.sin(tick() * 3) * 2, 0)
                            Ball.CFrame = CFrame.new(pos)
                        end
                    end
                    task.wait(1/60)
                end
            end)
        end)
    end
})

flingsTab:AddButton({
    Name = "Fling Canoa",
    Callback = function()
        pcall(function()
            if not selectedPlayerNameFlings then return end
            local target = Services.Players:FindFirstChild(selectedPlayerNameFlings)
            if not target then return end
            
            local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
            local humanoid = char:WaitForChild("Humanoid")
            local root = char:WaitForChild("HumanoidRootPart")
            
            if humanoid.Sit then
                humanoid.Sit = false
                task.wait(0.5)
            end
            
            root.CFrame = Services.Workspace.WorkspaceCom["001_CanoeCloneButton"].Button.CFrame
            task.wait(0.4)
            fireclickdetector(Services.Workspace.WorkspaceCom["001_CanoeCloneButton"].Button.ClickDetector, 0)
            task.wait(0.4)
            
            local canoe = Services.Workspace.WorkspaceCom["001_CanoeStorage"].Canoe
            local seat = canoe:FindFirstChild("VehicleSeat")
            
            if not canoe.PrimaryPart then
                canoe.PrimaryPart = seat
            end
            
            local tentativas = 0
            repeat
                char:MoveTo(seat.Position + Vector3.new(0, 3, 0))
                task.wait(0.05)
                seat:Sit(humanoid)
                tentativas += 1
            until humanoid.Sit or tentativas > 100
            
            if not humanoid.Sit then return end
            
            local targetChar = target.Character or target.CharacterAdded:Wait()
            local targetRoot = targetChar:WaitForChild("HumanoidRootPart")
            local targetHum = targetChar:WaitForChild("Humanoid")
            
            local force = Instance.new("BodyForce", canoe.PrimaryPart)
            local angular = Instance.new("BodyAngularVelocity", canoe.PrimaryPart)
            angular.MaxTorque = Vector3.new(1e9, 1e9, 1e9)
            angular.AngularVelocity = Vector3.new(1000, 5000, 1000)
            angular.P = 1e9
            
            local distancia = 10
            local sentido = 1
            
            local start = tick()
            while tick() - start < 10 and humanoid.Sit and targetChar and targetHum and targetHum.Health > 0 do
                local offset = targetRoot.CFrame.LookVector * distancia * sentido
                local pos = targetRoot.Position + offset
                canoe:SetPrimaryPartCFrame(CFrame.new(pos, targetRoot.Position))
                sentido = -sentido
                
                local dir = (targetRoot.Position - canoe.PrimaryPart.Position).Unit
                force.Force = dir * 1e6 + Vector3.new(0, Services.Workspace.Gravity * canoe.PrimaryPart:GetMass(), 0)
                task.wait()
            end
            
            pcall(function() force:Destroy() end)
            pcall(function() angular:Destroy() end)
        end)
    end
})

flingsTab:AddButton({
    Name = "Car Bring",
    Callback = function()
        pcall(function()
            if not selectedPlayerNameFlings then return end
            local character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
            local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
            if not humanoidRootPart then return end
            local humanoid = character:FindFirstChildOfClass("Humanoid")
            if not humanoid then return end
            local originalPosition = humanoidRootPart.CFrame
            
            local function GetBus()
                local vehicles = Services.Workspace:FindFirstChild("Vehicles")
                if vehicles then
                    return vehicles:FindFirstChild(LocalPlayer.Name .. "Car")
                end
                return nil
            end
            
            local bus = GetBus()
            if not bus then
                humanoidRootPart.CFrame = CFrame.new(1118.81, 75.998, -1138.61)
                task.wait(0.5)
                local remoteEvent = Services.ReplicatedStorage:FindFirstChild("RE")
                if remoteEvent and remoteEvent:FindFirstChild("1Ca1r") then
                    remoteEvent["1Ca1r"]:FireServer("PickingCar", "SchoolBus")
                end
                task.wait(1)
                bus = GetBus()
            end
            
            if not bus or not bus.PrimaryPart then return end
            
            humanoidRootPart.CFrame = CFrame.new(1108.079956, 78.852867, -1146.426147)
            task.wait(0.4)
            
            local seat = bus:FindFirstChild("Body") and bus.Body:FindFirstChild("VehicleSeat")
            if seat and not humanoid.Sit then
                for i = 1, 5 do
                    seat:Sit(humanoid)
                    local timeout = tick() + 1
                    repeat task.wait(0.2) until humanoid.Sit or tick() > timeout
                    if humanoid.Sit then break end
                end
            end
            
            local function TrackPlayer()
                while true do
                    if selectedPlayerNameFlings then
                        local targetPlayer = Services.Players:FindFirstChild(selectedPlayerNameFlings)
                        if targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
                            local targetRoot = targetPlayer.Character.HumanoidRootPart
                            local targetHumanoid = targetPlayer.Character:FindFirstChildOfClass("Humanoid")
                            if targetHumanoid and targetHumanoid.Sit then
                                bus:SetPrimaryPartCFrame(originalPosition)
                                task.wait(0.7)
                                local args = { [1] = "DeleteAllVehicles" }
                                Services.ReplicatedStorage.RE:FindFirstChild("1Ca1r"):FireServer(unpack(args))
                                break
                            else
                                local time = tick() * 35
                                local lateralOffset = math.sin(time) * 4
                                local frontBackOffset = math.cos(time) * 20
                                bus:SetPrimaryPartCFrame(targetRoot.CFrame * CFrame.new(lateralOffset, 0, frontBackOffset))
                            end
                        end
                    end
                    Services.RunService.RenderStepped:Wait()
                end
            end
            
            task.spawn(TrackPlayer)
        end)
    end
})

flingsTab:AddButton({
    Name = "Car Kill",
    Callback = function()
        pcall(function()
            if not selectedPlayerNameFlings then return end
            local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
            local Humanoid = Character:FindFirstChildOfClass("Humanoid")
            local RootPart = Character:FindFirstChild("HumanoidRootPart")
            local Vehicles = Services.Workspace:FindFirstChild("Vehicles")
            local OldPos = RootPart and RootPart.CFrame
            if not Humanoid or not RootPart then return end
            
            RootPart.CFrame = CFrame.new(1118.81, 75.998, -1138.61)
            task.wait(0.5)
            
            local PCar = Vehicles and Vehicles:FindFirstChild(LocalPlayer.Name.."Car")
            if not PCar then
                Services.ReplicatedStorage.RE:FindFirstChild("1Ca1r"):FireServer("PickingCar", "SchoolBus")
                task.wait(1)
                PCar = Vehicles:FindFirstChild(LocalPlayer.Name.."Car")
            end
            
            RootPart.CFrame = CFrame.new(1108.079956, 78.852867, -1146.426147)
            task.wait(0.4)
            
            if PCar then
                local Seat = PCar:FindFirstChild("Body") and PCar.Body:FindFirstChild("VehicleSeat")
                if Seat then
                    for i = 1, 2 do
                        Seat:Sit(Humanoid)
                        local timeout = tick() + 1
                        repeat task.wait(0.2) until Humanoid.Sit or tick() > timeout
                        if Humanoid.Sit then break end
                    end
                end
            end
            
            if PCar and not PCar.PrimaryPart then
                local Body = PCar:FindFirstChild("Body")
                if Body and Body:FindFirstChild("VehicleSeat") then
                    PCar.PrimaryPart = Body.VehicleSeat
                end
            end
            
            local TargetPlayer = Services.Players:FindFirstChild(selectedPlayerNameFlings)
            if TargetPlayer then
                local TargetC = TargetPlayer.Character
                local TargetH = TargetC and TargetC:FindFirstChildOfClass("Humanoid")
                local TargetRP = TargetC and TargetC:FindFirstChild("HumanoidRootPart")
                
                if TargetC and TargetH and TargetRP and not TargetH.Sit then
                    while TargetH.Health > 0 and not TargetH.Sit do
                        task.wait()
                        local randomX, randomY, randomZ = math.random(-360, 360), math.random(-360, 360), math.random(-360, 360)
                        local function kill(alvo, pos, angulo)
                            if PCar and PCar.PrimaryPart then
                                PCar:PivotTo(CFrame.new(alvo.Position) * pos * angulo)
                            end
                        end
                        local offset = TargetH.MoveDirection * (TargetRP.Velocity.Magnitude / 1.05)
                        kill(TargetRP, CFrame.new(0, 1, 0) + offset, CFrame.Angles(math.rad(randomX), math.rad(randomY), math.rad(randomZ)))
                        kill(TargetRP, CFrame.new(0, -2.25, 5) + offset, CFrame.Angles(math.rad(randomX), math.rad(randomY), math.rad(randomZ)))
                        kill(TargetRP, CFrame.new(0, 2.25, 0.25) + offset, CFrame.Angles(math.rad(randomX), math.rad(randomY), math.rad(randomZ)))

                        kill(TargetRP, CFrame.new(0, 1.5, 0) + offset, CFrame.Angles(math.rad(randomX), math.rad(randomY), math.rad(randomZ)))
                        kill(TargetRP, CFrame.new(0, -1.5, 0) + offset, CFrame.Angles(math.rad(randomX), math.rad(randomY), math.rad(randomZ)))
                    end
                    task.wait(0.1)
                    if PCar and PCar.PrimaryPart then
                        PCar:PivotTo(CFrame.new(0, -470, 0))
                    end
                    task.wait(0.2)
                    Humanoid.Sit = false
                    task.wait(0.1)
                    RootPart.CFrame = OldPos
                    local args = {[1] = "DeleteAllVehicles"}
                    Services.ReplicatedStorage.RE:FindFirstChild("1Ca1r"):FireServer(unpack(args))
                end
            end
        end)
    end
})

flingsTab:AddButton({
    Name = "Fling Boat",
    Callback = function()
        pcall(function()
            if not selectedPlayerNameFlings then return end
            local Character = LocalPlayer.Character
            local Humanoid = Character and Character:FindFirstChildOfClass("Humanoid")
            local RootPart = Character and Character:FindFirstChild("HumanoidRootPart")
            local Vehicles = Services.Workspace:FindFirstChild("Vehicles")
            if not Humanoid or not RootPart then return end
            
            local function spawnBoat()
                RootPart.CFrame = CFrame.new(1754, -2, 58)
                task.wait(0.5)
                Services.ReplicatedStorage.RE:FindFirstChild("1Ca1r"):FireServer("PickingBoat", "MilitaryBoatFree")
                task.wait(1)
                return Vehicles and Vehicles:FindFirstChild(LocalPlayer.Name.."Car")
            end
            
            local PCar = Vehicles and Vehicles:FindFirstChild(LocalPlayer.Name.."Car") or spawnBoat()
            if not PCar then return end
            
            local Seat = PCar:FindFirstChild("Body") and PCar.Body:FindFirstChild("VehicleSeat")
            if not Seat then return end
            
            repeat 
                task.wait()
                RootPart.CFrame = Seat.CFrame * CFrame.new(0, math.random(-1, 1), 0)
            until Humanoid.Sit
            
            local SpinGyro = Instance.new("BodyGyro")
            SpinGyro.Parent = PCar.PrimaryPart
            SpinGyro.MaxTorque = Vector3.new(1e7, 1e7, 1e7)
            SpinGyro.P = 1e7
            SpinGyro.CFrame = PCar.PrimaryPart.CFrame * CFrame.Angles(0, math.rad(90), 0)
            
            Services.Workspace.Gravity = 0.1
            
            local TargetPlayer = Services.Players:FindFirstChild(selectedPlayerNameFlings)
            if not TargetPlayer or not TargetPlayer.Character then return end
            
            local TargetC = TargetPlayer.Character
            local TargetH = TargetC:FindFirstChildOfClass("Humanoid")
            local TargetRP = TargetC:FindFirstChild("HumanoidRootPart")
            
            if not TargetRP or not TargetH then return end
            
            local function flingTarget()
                local vel = TargetRP.Velocity.Magnitude
                local dir = TargetH.MoveDirection
                local function kill(alvo, pos)
                    if PCar and PCar.PrimaryPart then
                        PCar:SetPrimaryPartCFrame(CFrame.new(alvo.Position) * pos)
                    end
                end
                kill(TargetRP, CFrame.new(0, 3, 0) + dir * vel / 1.05)
                kill(TargetRP, CFrame.new(0, -2.25, 5) + dir * vel / 1.05)
                kill(TargetRP, CFrame.new(0, 2.25, 0.25) + dir * vel / 1.10)
                kill(TargetRP, CFrame.new(-2.25, -1.5, 2.25) + dir * vel / 1.10)
                kill(TargetRP, CFrame.new(0, 1.5, 0) + dir * vel / 1.05)
                kill(TargetRP, CFrame.new(0, -1.5, 0) + dir * vel / 1.05)
            end
            
            task.spawn(function()
                local teleportCount = 0
                local spawnPos = CFrame.new(1754, 5, 58)
                while teleportCount < 5 do
                    task.wait(0.5)
                    if not PCar or not PCar.Parent then
                        pcall(function() SpinGyro:Destroy() end)
                        RootPart.CFrame = spawnPos
                        teleportCount += 1
                        Humanoid.PlatformStand = true
                        task.wait(0.5)
                        SpinGyro = Instance.new("BodyGyro")
                        SpinGyro.Parent = PCar.PrimaryPart
                        SpinGyro.MaxTorque = Vector3.new(1e7, 1e7, 1e7)
                        SpinGyro.P = 1e7
                        SpinGyro.CFrame = PCar.PrimaryPart.CFrame * CFrame.Angles(0, math.rad(90), 0)
                    else
                        break
                    end
                end
                while true do
                    task.wait(0.5)
                    if PCar and PCar.Parent then
                        flingTarget()
                    else
                        break
                    end
                end
            end)
            
            Services.RunService.Heartbeat:Connect(function()
                if not PCar or not PCar.Parent then
                    Services.Workspace.Gravity = 196.2
                end
            end)
        end)
    end
})

flingsTab:AddButton({
    Name = "Fling Boat V2",
    Callback = function()
        pcall(function()
            if not selectedPlayerNameFlings then return end
            local Character = LocalPlayer.Character
            local Humanoid = Character and Character:FindFirstChildOfClass("Humanoid")
            local RootPart = Character and Character:FindFirstChild("HumanoidRootPart")
            local Vehicles = Services.Workspace:FindFirstChild("Vehicles")
            if not Humanoid or not RootPart then return end
            
            local function spawnBoat()
                RootPart.CFrame = CFrame.new(1754, -2, 58)
                task.wait(0.5)
                Services.ReplicatedStorage.RE:FindFirstChild("1Ca1r"):FireServer("PickingBoat", "MilitaryBoatFree")
                task.wait(1)
                return Vehicles:FindFirstChild(LocalPlayer.Name.."Car")
            end
            
            local PCar = Vehicles:FindFirstChild(LocalPlayer.Name.."Car") or spawnBoat()
            if not PCar then return end
            
            local Seat = PCar:FindFirstChild("Body") and PCar.Body:FindFirstChild("VehicleSeat")
            if not Seat then return end
            
            repeat 
                task.wait(0.1)
                RootPart.CFrame = Seat.CFrame * CFrame.new(0, 1, 0)
            until Humanoid.SeatPart == Seat
            
            local TargetPlayer = Services.Players:FindFirstChild(selectedPlayerNameFlings)
            if not TargetPlayer or not TargetPlayer.Character then return end
            
            local TargetC = TargetPlayer.Character
            local TargetH = TargetC:FindFirstChildOfClass("Humanoid")
            local TargetRP = TargetC:FindFirstChild("HumanoidRootPart")
            
            if not TargetRP or not TargetH then return end
            
            local Spin = Instance.new("BodyAngularVelocity")
            Spin.Name = "Spinning"
            Spin.Parent = PCar.PrimaryPart
            Spin.MaxTorque = Vector3.new(0, math.huge, 0)
            Spin.AngularVelocity = Vector3.new(0, 369, 0)
            
            local function moveCar(TargetRP, offset)
                if PCar and PCar.PrimaryPart then
                    PCar:SetPrimaryPartCFrame(CFrame.new(TargetRP.Position + offset))
                end
            end
            
            task.spawn(function()
                while PCar and PCar.Parent and TargetRP and TargetRP.Parent do
                    task.wait(0.01)
                    local front = TargetRP.CFrame.LookVector * 2
                    moveCar(TargetRP, front + Vector3.new(0, 1.5, 0))
                    if TargetRP.Position.Y > 7000 then
                        pcall(function() Spin:Destroy() end)
                        pcall(function() PCar:Destroy() end)
                        break
                    end
                    if PCar and PCar.PrimaryPart then
                        local Rotation = CFrame.Angles(
                            math.rad(math.random(-369, 369)),
                            math.rad(math.random(-369, 369)),
                            math.rad(math.random(-369, 369))
                        )
                        PCar:SetPrimaryPartCFrame(CFrame.new(TargetRP.Position + front + Vector3.new(0, 1.5, 0)) * Rotation)
                    end
                end
            end)
        end)
    end
})

flingsTab:AddSection({Name = "Props functions"})

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local selectedPlayerName = nil

local function getPlayerList()
    local playerList = {}
    for _, player in ipairs(Players:GetPlayers()) do
        if player.Name ~= LocalPlayer.Name then
            table.insert(playerList, player.Name)
        end
    end
    return playerList
end

local killDropdown = flingsTab:AddDropdown({
    Name = "Selecionar Jogador",
    Options = getPlayerList(),
    Default = "",
    Callback = function(value)
        selectedPlayerName = value
        getgenv().Target = value
    end
})

flingsTab:AddButton({
    Name = "Atualizar Lista de Jogadores",
    Callback = function()
        local tablePlayers = Players:GetPlayers()
        local newPlayers = {}
        if killDropdown and #tablePlayers > 0 then
            for _, player in ipairs(tablePlayers) do
                if player.Name ~= LocalPlayer.Name then
                    table.insert(newPlayers, player.Name)
                end
            end
            killDropdown:Set(newPlayers)
            if selectedPlayerName and not Players:FindFirstChild(selectedPlayerName) then
                selectedPlayerName = nil
                getgenv().Target = nil
                killDropdown:SetValue("")
            end
        end
    end
})

local matarSingleThread = nil
local matarSingleActive = false
local matarSingleToggle

matarSingleToggle = flingsTab:AddToggle({
    Name = "Matar com Prop",
    Default = false,
    Callback = function(state)
        matarSingleActive = state
        
        if not state then
            if matarSingleThread then
                coroutine.close(matarSingleThread)
                matarSingleThread = nil
            end
            return
        end

        if not selectedPlayerName or not Players:FindFirstChild(selectedPlayerName) then
            matarSingleToggle:Set(false)
            return
        end

        local PropFolder = workspace:FindFirstChild("WorkspaceCom") and workspace.WorkspaceCom:FindFirstChild("001_TrafficCones")
        if not PropFolder then
            matarSingleToggle:Set(false)
            return
        end

        local target = Players:FindFirstChild(selectedPlayerName)
        if not target then
            matarSingleToggle:Set(false)
            return
        end

        local Prop = PropFolder:FindFirstChild("Prop" .. LocalPlayer.Name)
        if not Prop then
            matarSingleToggle:Set(false)
            return
        end

        local Remote = Prop:FindFirstChild("SetCurrentCFrame")
        if not Remote then
            matarSingleToggle:Set(false)
            return
        end

        matarSingleThread = task.spawn(function()
            while matarSingleActive and task.wait(0.05) do
                if not Players:FindFirstChild(selectedPlayerName) then
                    break
                end
                
                local target = Players:FindFirstChild(selectedPlayerName)
                if not target or not target.Character then
                    continue
                end

                local humanoid = target.Character:FindFirstChildOfClass("Humanoid")
                local hrp = target.Character:FindFirstChild("HumanoidRootPart")

                if not hrp or not humanoid then 
                    continue 
                end

                local sitting = false
                
                if humanoid.Sit then
                    if not sitting then
                        sitting = true
                        Remote:InvokeServer(CFrame.new(0, -9999, 0))
                    end
                else
                    if sitting then
                        sitting = false
                        Remote:InvokeServer(hrp.CFrame * CFrame.new(2, 0, 0))
                    end
                    
                    local moving = humanoid.MoveDirection.Magnitude > 0
                    local offset = moving and 6 or 0.1
                    local followCF = hrp.CFrame * CFrame.new(0, -1, -offset)
                    
                    Remote:InvokeServer(followCF)
                end
            end
            matarSingleThread = nil
            if matarSingleActive then
                matarSingleToggle:Set(false)
            end
            matarSingleActive = false
        end)
    end
})

local killAllThreads = {}
local killAllActive = false
local killAllToggle

local function startKillAllForTarget(target, prop)
    return task.spawn(function()
        local lastCharacter = nil
        local characterConnection = nil
        
        local function cleanup()
            if characterConnection then
                characterConnection:Disconnect()
                characterConnection = nil
            end
        end
        
        characterConnection = target.CharacterAdded:Connect(function(newCharacter)
            if lastCharacter then
                cleanup()
            end
            lastCharacter = newCharacter
        end)
        
        while killAllActive and target and next(killAllThreads) ~= nil do
            if not target.Character then
                task.wait(1)
                continue
            end
            
            local humanoid = target.Character:FindFirstChildOfClass("Humanoid")
            local hrp = target.Character:FindFirstChild("HumanoidRootPart")
            
            if not hrp or not humanoid then 
                task.wait(0.1)
                continue 
            end
            
            local remote = prop:FindFirstChild("SetCurrentCFrame")
            if not remote then 
                break 
            end
            
            local sitting = false
            
            if humanoid.Sit then
                if not sitting then
                    sitting = true
                    remote:InvokeServer(CFrame.new(0, -9999, 0))
                end
            else
                if sitting then
                    sitting = false
                    remote:InvokeServer(hrp.CFrame * CFrame.new(2, 0, 0))
                end
                
                local moving = humanoid.MoveDirection.Magnitude > 0
                local offset = moving and 6 or 0.1
                local followCF = hrp.CFrame * CFrame.new(0, -1, -offset)
                
                remote:InvokeServer(followCF)
            end
            
            task.wait(0.05)
        end
        
        cleanup()
    end)
end

killAllToggle = flingsTab:AddToggle({
    Name = "Matar Todos com Prop",
    Default = false,
    Callback = function(state)
        killAllActive = state
        
        if not state then
            for target, thread in pairs(killAllThreads) do
                if thread and type(thread) == "thread" then
                    coroutine.close(thread)
                end
            end
            
            if killAllThreads._connections then
                if killAllThreads._connections.playerAdded then
                    killAllThreads._connections.playerAdded:Disconnect()
                end
                if killAllThreads._connections.playerRemoving then
                    killAllThreads._connections.playerRemoving:Disconnect()
                end
            end
            
            killAllThreads = {}
            return
        end
        
        local PropFolder = workspace:FindFirstChild("WorkspaceCom") and workspace.WorkspaceCom:FindFirstChild("001_TrafficCones")
        if not PropFolder then 
            killAllToggle:Set(false)
            return 
        end
        
        local availableProps = {}
        for _, prop in ipairs(PropFolder:GetChildren()) do
            if prop.Name:match("Prop") then
                table.insert(availableProps, prop)
            end
        end
        
        local targets = {}
        for _, player in ipairs(Players:GetPlayers()) do
            if player.Name ~= LocalPlayer.Name then
                table.insert(targets, player)
            end
        end
        
        for i, target in ipairs(targets) do
            if i > #availableProps then 
                break 
            end
            
            local prop = availableProps[i]
            if not prop:FindFirstChild("SetCurrentCFrame") then 
                continue 
            end
            
            local thread = startKillAllForTarget(target, prop)
            killAllThreads[target] = thread
        end
        
        local playerAddedConnection
        playerAddedConnection = Players.PlayerAdded:Connect(function(player)
            if player.Name == LocalPlayer.Name or not killAllActive then 
                return 
            end
            
            for i, prop in ipairs(availableProps) do
                local alreadyUsed = false
                for targetPlayer, _ in pairs(killAllThreads) do
                    if targetPlayer == player then
                        alreadyUsed = true
                        break
                    end
                end
                
                if not alreadyUsed and prop:FindFirstChild("SetCurrentCFrame") then
                    local thread = startKillAllForTarget(player, prop)
                    killAllThreads[player] = thread
                    break
                end
            end
        end)
        
        local playerRemovingConnection
        playerRemovingConnection = Players.PlayerRemoving:Connect(function(player)
            if killAllThreads[player] and type(killAllThreads[player]) == "thread" then
                coroutine.close(killAllThreads[player])
                killAllThreads[player] = nil
            end
        end)
        
        killAllThreads._connections = {
            playerAdded = playerAddedConnection,
            playerRemoving = playerRemovingConnection
        }
    end
})

local trazerThread = nil
local trazerActive = false
local trazerToggle

trazerToggle = flingsTab:AddToggle({
    Name = "Trazer com Prop",
    Default = false,
    Callback = function(state)
        trazerActive = state
        
        if not state then
            if trazerThread then
                coroutine.close(trazerThread)
                trazerThread = nil
            end
            return
        end

        if not selectedPlayerName or not Players:FindFirstChild(selectedPlayerName) then
            trazerToggle:Set(false)
            return
        end

        local PropFolder = workspace:FindFirstChild("WorkspaceCom") and workspace.WorkspaceCom:FindFirstChild("001_TrafficCones")
        if not PropFolder then
            trazerToggle:Set(false)
            return
        end

        local target = Players:FindFirstChild(selectedPlayerName)
        if not target then
            trazerToggle:Set(false)
            return
        end

        local Prop = PropFolder:FindFirstChild("Prop" .. LocalPlayer.Name)
        if not Prop then
            trazerToggle:Set(false)
            return
        end

        local Remote = Prop:FindFirstChild("SetCurrentCFrame")
        if not Remote then
            trazerToggle:Set(false)
            return
        end

        trazerThread = task.spawn(function()
            while trazerActive and task.wait(0.05) do
                if not Players:FindFirstChild(selectedPlayerName) then
                    break
                end
                
                local target = Players:FindFirstChild(selectedPlayerName)
                if not target or not target.Character then
                    continue
                end
                
                local myChar = LocalPlayer.Character
                if not myChar then
                    continue
                end

                local humanoid = target.Character:FindFirstChildOfClass("Humanoid")
                local hrp = target.Character:FindFirstChild("HumanoidRootPart")
                local myHRP = myChar:FindFirstChild("HumanoidRootPart")

                if not hrp or not humanoid or not myHRP then 
                    continue 
                end

                local sitting = false
                
                if humanoid.Sit then
                    if not sitting then
                        sitting = true
                        Remote:InvokeServer(myHRP.CFrame * CFrame.new(0, 0, -2))
                    end
                else
                    if sitting then
                        sitting = false
                        Remote:InvokeServer(hrp.CFrame * CFrame.new(2, 0, 0))
                    end
                    
                    local moving = humanoid.MoveDirection.Magnitude > 0
                    local offset = moving and 6 or 0.1
                    local followCF = hrp.CFrame * CFrame.new(0, -1, -offset)
                    
                    Remote:InvokeServer(followCF)
                end
            end
            trazerThread = nil
            if trazerActive then
                trazerToggle:Set(false)
            end
            trazerActive = false
        end)
    end
})

flingsTab:AddSection({Name = "All Players"})

flingsTab:AddToggle({
    Name = "Glitch/Fling Couch (All Players)",
    Default = false,
    Callback = function(state)
        pcall(function()
            glitchFlingCouchActiveAll = state
            
            if not state then
                local char = LocalPlayer.Character
                if char and originalPositionGlitchCouch then
                    local root = char:FindFirstChild("HumanoidRootPart")
                    if root then
                        local hum = char:FindFirstChildOfClass("Humanoid")
                        if hum then
                            hum:SetStateEnabled(Enum.HumanoidStateType.Seated,true)
                            hum.PlatformStand = false
                        end
                        
                        local bv = Instance.new("BodyVelocity")
                        bv.Velocity = Vector3.new(0, 0, 0)
                        bv.MaxForce = Vector3.new(9e9, 9e9, 9e9)
                        bv.Parent = root
                        
                        root.CFrame = originalPositionGlitchCouch
                        task.wait(0.1)
                        bv:Destroy()
                        
                        for _, p in pairs(char:GetDescendants()) do
                            if p:IsA("BasePart") then
                                p.Velocity = Vector3.zero
                                p.RotVelocity = Vector3.zero
                            end
                        end
                    end
                    originalPositionGlitchCouch = nil
                end
                
                if Services.ReplicatedStorage.RE:FindFirstChild("1Clea1rTool1s") then
                    local args = { [1] = "ClearAllTools" }
                    Services.ReplicatedStorage.RE:FindFirstChild("1Clea1rTool1s"):FireServer(unpack(args))
                end
                
                return
            end
            
            local char = LocalPlayer.Character
            if not char then
                char = LocalPlayer.CharacterAdded:Wait()
                task.wait(1)
            end
            
            local root = char:FindFirstChild("HumanoidRootPart")
            local hum = char:FindFirstChildOfClass("Humanoid")
            
            if not root or not hum then
                return
            end
            
            originalPositionGlitchCouch = root.CFrame
            
            task.spawn(function()
                while glitchFlingCouchActiveAll do
                    local players = Services.Players:GetPlayers()
                    
                    for _, target in pairs(players) do
                        if not glitchFlingCouchActiveAll then break end
                        
                        if target ~= LocalPlayer and target.Character then
                            local tRoot = target.Character:FindFirstChild("HumanoidRootPart")
                            local tHum = target.Character:FindFirstChildOfClass("Humanoid")
                            
                            if not (tRoot and tHum) then
                                task.wait(0.5)
                                continue
                            end
                            
                            if Services.ReplicatedStorage.RE:FindFirstChild("1Clea1rTool1s") then
                                local args = { [1] = "ClearAllTools" }
                                Services.ReplicatedStorage.RE:FindFirstChild("1Clea1rTool1s"):FireServer(unpack(args))
                            end
                            
                            task.wait(0.3)
                            
                            if Services.ReplicatedStorage.RE:FindFirstChild("1Too1l") then
                                Services.ReplicatedStorage.RE:FindFirstChild("1Too1l"):InvokeServer("PickingTools","Couch")
                            end
                            
                            local tool = LocalPlayer.Backpack:FindFirstChildOfClass("Tool")
                            if tool then tool.Parent = char end
                            
                            Services.Workspace.FallenPartsDestroyHeight = -math.huge
                            local bv = Instance.new("BodyVelocity")
                            bv.Name = "FlingForce"
                            bv.Velocity = Vector3.new(9e8,9e8,9e8)
                            bv.MaxForce = Vector3.new(math.huge,math.huge,math.huge)
                            bv.Parent = root
                            
                            hum:SetStateEnabled(Enum.HumanoidStateType.Seated,false)
                            hum.PlatformStand = false
                            Services.Workspace.CurrentCamera.CameraSubject = tRoot
                            
                            local angle = 0
                            local t = tick()
                            
                            while tick() - t < 3 and glitchFlingCouchActiveAll and target and target.Character and target.Character:FindFirstChildOfClass("Humanoid") do
                                tHum = target.Character:FindFirstChildOfClass("Humanoid")
                                tRoot = target.Character:FindFirstChild("HumanoidRootPart")
                                if not tRoot or tHum.Sit or tRoot.Position.Y >= 70000 then break end
                                
                                angle += 30
                                root.CFrame = CFrame.new(tRoot.Position + Vector3.new(0, 1, 0)) * CFrame.Angles(math.rad(angle), 0, 0)
                                root.Velocity = Vector3.new(9e8,9e8,9e8)
                                root.RotVelocity = Vector3.new(9e8,9e8,9e8)
                                task.wait(0.02)
                            end
                            
                            bv:Destroy()
                            hum:SetStateEnabled(Enum.HumanoidStateType.Seated,true)
                            hum.PlatformStand = false
                            root.CFrame = originalPositionGlitchCouch
                            Services.Workspace.CurrentCamera.CameraSubject = hum
                            
                            for _, p in pairs(char:GetDescendants()) do
                                if p:IsA("BasePart") then
                                    p.Velocity = Vector3.zero
                                    p.RotVelocity = Vector3.zero
                                end
                            end
                            
                            hum:UnequipTools()
                            
                            if Services.ReplicatedStorage.RE:FindFirstChild("1Too1l") then
                                Services.ReplicatedStorage.RE:FindFirstChild("1Too1l"):InvokeServer("PickingTools","Couch")
                            end
                            
                            task.wait(0.5)
                        end
                    end
                    
                    if glitchFlingCouchActiveAll then
                        task.wait(1)
                    end
                end
            end)
        end)
    end
})

flingsTab:AddToggle({
    Name = "Fling Couch Rápido (Todos Jogadores)",
    Default = false,
    Callback = function(state)
        pcall(function()
            flingCouchFastActiveAll = state
            task.spawn(function()
                while flingCouchFastActiveAll do
                    local players = Services.Players:GetPlayers()
                    
                    for _, target in pairs(players) do
                        if not flingCouchFastActiveAll then break end
                        
                        if target ~= LocalPlayer and target.Character then
                            local char = LocalPlayer.Character
                            local root = char and char:FindFirstChild("HumanoidRootPart")
                            local tRoot = target.Character:FindFirstChild("HumanoidRootPart")
                            local tHum = target.Character:FindFirstChildOfClass("Humanoid")
                            local hum = char and char:FindFirstChildOfClass("Humanoid")
                            
                            if root and tRoot and tHum and hum then
                                local args = {[1]="ClearAllTools"}
                                Services.ReplicatedStorage.RE:FindFirstChild("1Clea1rTool1s"):FireServer(unpack(args))
                                task.wait(0.2)
                                
                                Services.ReplicatedStorage.RE:FindFirstChild("1Too1l"):InvokeServer("PickingTools","Couch")
                                local original = root.CFrame
                                local tool = LocalPlayer.Backpack:FindFirstChildOfClass("Tool")
                                if tool then tool.Parent = char end
                                
                                Services.Workspace.FallenPartsDestroyHeight = -math.huge
                                local bv = Instance.new("BodyVelocity")
                                bv.Name = "FlingForce"
                                bv.Velocity = Vector3.new(9e8,9e8,9e8)
                                bv.MaxForce = Vector3.new(math.huge,math.huge,math.huge)
                                bv.Parent = root
                                
                                hum:SetStateEnabled(Enum.HumanoidStateType.Seated,false)
                                hum.PlatformStand = false
                                Services.Workspace.CurrentCamera.CameraSubject = tRoot
                                
                                local angle = 0
                                local flingDuration = 3
                                local startTime = tick()
                                
                                while flingCouchFastActiveAll and target and target.Character and target.Character:FindFirstChildOfClass("Humanoid") do
                                    if tick() - startTime >= flingDuration then break end
                                    
                                    tHum = target.Character:FindFirstChildOfClass("Humanoid")
                                    tRoot = target.Character:FindFirstChild("HumanoidRootPart")
                                    if not tRoot or tHum.Sit or tRoot.Position.Y >= 70000 then break end
                                    
                                    local moveDir = tHum.MoveDirection
                                    local offset = Vector3.new(0,0,0)
                                    if moveDir.Magnitude >= 0.01 then
                                        local speed = tHum.WalkSpeed
                                        local studs = 13
                                        if speed > 16 then studs = studs + math.floor((speed - 16) / 9) * 9 end
                                        offset = moveDir.Unit * studs
                                    end
                                    
                                    angle += 90
                                    root.CFrame = CFrame.new(tRoot.Position + offset + Vector3.new(0, 1, 0)) * CFrame.Angles(math.rad(angle), 0, 0)
                                    root.Velocity = Vector3.new(9e8, 9e8, 9e8)
                                    root.RotVelocity = Vector3.new(9e8, 9e8, 9e8)
                                    task.wait(0.02)
                                end
                                
                                bv:Destroy()
                                hum:SetStateEnabled(Enum.HumanoidStateType.Seated,true)
                                hum.PlatformStand = false
                                root.CFrame = original
                                Services.Workspace.CurrentCamera.CameraSubject = hum
                                
                                for _, p in pairs(char:GetDescendants()) do
                                    if p:IsA("BasePart") then
                                        p.Velocity = Vector3.zero
                                        p.RotVelocity = Vector3.zero
                                    end
                                end
                                
                                hum:UnequipTools()
                                Services.ReplicatedStorage.RE:FindFirstChild("1Too1l"):InvokeServer("PickingTools","Couch")
                                
                                task.wait(0.5) -- Pequena pausa entre jogadores
                            end
                        end
                    end
                   
                    if flingCouchFastActiveAll then
                        task.wait(1)
                    end
                end
            end)
        end)
    end
})

flingsTab:AddToggle({
    Name = "Fling Canoa (All Players)",
    Default = false,
    Callback = function(state)
        pcall(function()
            flingCanoaActiveAll = state
            
            if not state then
                if originalPositionOnCanoa then
                    local char = LocalPlayer.Character
                    if char then
                        local root = char:FindFirstChild("HumanoidRootPart")
                        if root then
                            local bv = Instance.new("BodyVelocity")
                            bv.Velocity = Vector3.new(0, 0, 0)
                            bv.MaxForce = Vector3.new(9e9, 9e9, 9e9)
                            bv.P = 9e9
                            bv.Parent = root
                            
                            root.CFrame = originalPositionOnCanoa
                            task.wait(0.1)
                            bv:Destroy()
                        end
                    end
                    originalPositionOnCanoa = nil
                end
                return
            end
            
            local char = LocalPlayer.Character
            if not char then
                char = LocalPlayer.CharacterAdded:Wait()
                task.wait(1)
            end
            
            local humanoid = char:FindFirstChildOfClass("Humanoid")
            local root = char:FindFirstChild("HumanoidRootPart")
            
            if not humanoid or not root or humanoid.Health <= 0 then
                return
            end
            
            originalPositionOnCanoa = root.CFrame
            
            task.spawn(function()
                while flingCanoaActiveAll do
                    local players = Services.Players:GetPlayers()
                    
                    for _, target in pairs(players) do
                        if not flingCanoaActiveAll then break end
                        
                        if target ~= LocalPlayer and target.Character then
                            if humanoid.Sit then
                                humanoid.Sit = false
                                task.wait(0.5)
                            end
                            
                            root.CFrame = Services.Workspace.WorkspaceCom["001_CanoeCloneButton"].Button.CFrame
                            task.wait(0.4)
                            fireclickdetector(Services.Workspace.WorkspaceCom["001_CanoeCloneButton"].Button.ClickDetector, 0)
                            task.wait(0.4)
                            
                            local canoe = Services.Workspace.WorkspaceCom["001_CanoeStorage"].Canoe
                            if not canoe then
                                task.wait(0.5)
                                continue
                            end
                            
                            local seat = canoe:FindFirstChild("VehicleSeat")
                            if not seat then
                                task.wait(0.5)
                                continue
                            end
                            
                            if not canoe.PrimaryPart then
                                canoe.PrimaryPart = seat
                            end
                            
                            local tentativas = 0
                            local sentou = false
                            repeat
                                if tentativas < 50 then
                                    char:MoveTo(seat.Position + Vector3.new(0, 2, 0))
                                else
                                    root.CFrame = seat.CFrame
                                end
                                task.wait(0.05)
                                seat:Sit(humanoid)
                                tentativas += 1
                                sentou = humanoid.Sit
                            until sentou or tentativas > 100 or not flingCanoaActiveAll
                            
                            if not sentou or not flingCanoaActiveAll then
                                task.wait(0.5)
                                continue
                            end
                            
                            local targetChar = target.Character
                            local targetRoot = targetChar:FindFirstChild("HumanoidRootPart")
                            local targetHum = targetChar:FindFirstChildOfClass("Humanoid")
                            
                            if not targetRoot or not targetHum or targetHum.Health <= 0 then
                                humanoid.Sit = false
                                task.wait(0.5)
                                continue
                            end
                            
                            local force = Instance.new("BodyForce", canoe.PrimaryPart)
                            local angular = Instance.new("BodyAngularVelocity", canoe.PrimaryPart)
                            angular.MaxTorque = Vector3.new(1e9, 1e9, 1e9)
                            angular.AngularVelocity = Vector3.new(500, 2500, 500)
                            angular.P = 1e9
                            
                            local distancia = 8
                            local sentido = 1
                            
                            local start = tick()
                            while tick() - start < 3 and humanoid.Sit and targetChar and targetHum and targetHum.Health > 0 and flingCanoaActiveAll and humanoid.Health > 0 do
                                local offset = targetRoot.CFrame.LookVector * distancia * sentido
                                local pos = targetRoot.Position + offset
                                canoe:SetPrimaryPartCFrame(CFrame.new(pos, targetRoot.Position))
                                sentido = -sentido
                                
                                local dir = (targetRoot.Position - canoe.PrimaryPart.Position).Unit
                                force.Force = dir * 500000 + Vector3.new(0, Services.Workspace.Gravity * canoe.PrimaryPart:GetMass(), 0)
                                task.wait(0.03)
                            end
                            
                            pcall(function() force:Destroy() end)
                            pcall(function() angular:Destroy() end)
                            
                            humanoid.Sit = false
                            
                            task.wait(0.5)
                        end
                    end
                    
                    if flingCanoaActiveAll then
                        task.wait(1)
                    end
                end
            end)
        end)
    end
})

flingsTab:AddToggle({
    Name = "Fling Boat (All Players)",
    Default = false,
    Callback = function(state)
        pcall(function()
            flingBoatActiveAll = state
            if not state then
                Services.Workspace.Gravity = 196.2
                return
            end
            
            task.spawn(function()
                while flingBoatActiveAll do
                    local players = Services.Players:GetPlayers()
                    
                    for _, targetPlayer in pairs(players) do
                        if not flingBoatActiveAll then break end
                        
                        if targetPlayer ~= LocalPlayer and targetPlayer.Character then
                            local Character = LocalPlayer.Character
                            local Humanoid = Character and Character:FindFirstChildOfClass("Humanoid")
                            local RootPart = Character and Character:FindFirstChild("HumanoidRootPart")
                            local Vehicles = Services.Workspace:FindFirstChild("Vehicles")
                            if not Humanoid or not RootPart then
                                task.wait(0.5)
                                continue
                            end
                            
                            local function spawnBoat()
                                RootPart.CFrame = CFrame.new(1754, -2, 58)
                                task.wait(0.5)
                                Services.ReplicatedStorage.RE:FindFirstChild("1Ca1r"):FireServer("PickingBoat", "MilitaryBoatFree")
                                task.wait(1)
                                return Vehicles and Vehicles:FindFirstChild(LocalPlayer.Name.."Car")
                            end
                            
                            local PCar = Vehicles and Vehicles:FindFirstChild(LocalPlayer.Name.."Car") or spawnBoat()
                            if not PCar then
                                task.wait(0.5)
                                continue
                            end
                            
                            local Seat = PCar:FindFirstChild("Body") and PCar.Body:FindFirstChild("VehicleSeat")
                            if not Seat then
                                task.wait(0.5)
                                continue
                            end
                            
                            repeat 
                                task.wait(0.1)
                                RootPart.CFrame = Seat.CFrame * CFrame.new(0, math.random(-1, 1), 0)
                            until Humanoid.Sit or not flingBoatActiveAll
                            
                            if not flingBoatActiveAll then break end
                            
                            local SpinGyro = Instance.new("BodyGyro")
                            SpinGyro.Parent = PCar.PrimaryPart
                            SpinGyro.MaxTorque = Vector3.new(1e7, 1e7, 1e7)
                            SpinGyro.P = 1e7
                            SpinGyro.CFrame = PCar.PrimaryPart.CFrame * CFrame.Angles(0, math.rad(90), 0)
                            
                            Services.Workspace.Gravity = 0.1
                            
                            local TargetC = targetPlayer.Character
                            local TargetH = TargetC:FindFirstChildOfClass("Humanoid")
                            local TargetRP = TargetC:FindFirstChild("HumanoidRootPart")
                            
                            if not TargetRP or not TargetH then
                                task.wait(0.5)
                                continue
                            end
                            
                            local function flingTarget()
                                local vel = TargetRP.Velocity.Magnitude
                                local dir = TargetH.MoveDirection
                                local function kill(alvo, pos)
                                    if PCar and PCar.PrimaryPart then
                                        PCar:SetPrimaryPartCFrame(CFrame.new(alvo.Position) * pos)
                                    end
                                end
                                kill(TargetRP, CFrame.new(0, 3, 0) + dir * vel / 1.05)
                                kill(TargetRP, CFrame.new(0, -2.25, 5) + dir * vel / 1.05)
                                kill(TargetRP, CFrame.new(0, 2.25, 0.25) + dir * vel / 1.10)
                                kill(TargetRP, CFrame.new(-2.25, -1.5, 2.25) + dir * vel / 1.10)
                                kill(TargetRP, CFrame.new(0, 1.5, 0) + dir * vel / 1.05)
                                kill(TargetRP, CFrame.new(0, -1.5, 0) + dir * vel / 1.05)
                            end
                            
                            local startTime = tick()
                            while flingBoatActiveAll and targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChildOfClass("Humanoid") do
                                if tick() - startTime >= 3 then break end
                                
                                TargetH = targetPlayer.Character:FindFirstChildOfClass("Humanoid")
                                TargetRP = targetPlayer.Character:FindFirstChild("HumanoidRootPart")
                                if not TargetRP or TargetH.Sit or TargetRP.Position.Y >= 70000 then break end
                                
                                flingTarget()
                                task.wait(0.02)
                            end
                            
                            Services.Workspace.Gravity = 196.2
                            pcall(function() SpinGyro:Destroy() end)
                            task.wait(0.5)
                        end
                    end
                    
                    if flingBoatActiveAll then
                        task.wait(1)
                    end
                end
            end)
        end)
    end
})

flingsTab:AddToggle({
    Name = "Fling Boat V2 (All Players)",
    Default = false,
    Callback = function(state)
        pcall(function()
            flingBoatV2ActiveAll = state
            if not state then return end
            
            task.spawn(function()
                while flingBoatV2ActiveAll do
                    local players = Services.Players:GetPlayers()
                    
                    for _, targetPlayer in pairs(players) do
                        if not flingBoatV2ActiveAll then break end
                        
                        if targetPlayer ~= LocalPlayer and targetPlayer.Character then
                            local Character = LocalPlayer.Character
                            local Humanoid = Character and Character:FindFirstChildOfClass("Humanoid")
                            local RootPart = Character and Character:FindFirstChild("HumanoidRootPart")
                            local Vehicles = Services.Workspace:FindFirstChild("Vehicles")
                            if not Humanoid or not RootPart then
                                task.wait(0.5)
                                continue
                            end
                            
                            local function spawnBoat()
                                RootPart.CFrame = CFrame.new(1754, -2, 58)
                                task.wait(0.5)
                                Services.ReplicatedStorage.RE:FindFirstChild("1Ca1r"):FireServer("PickingBoat", "MilitaryBoatFree")
                                task.wait(1)
                                return Vehicles:FindFirstChild(LocalPlayer.Name.."Car")
                            end
                            
                            local PCar = Vehicles:FindFirstChild(LocalPlayer.Name.."Car") or spawnBoat()
                            if not PCar then
                                task.wait(0.5)
                                continue
                            end
                            
                            local Seat = PCar:FindFirstChild("Body") and PCar.Body:FindFirstChild("VehicleSeat")
                            if not Seat then
                                task.wait(0.5)
                                continue
                            end
                            
                            repeat 
                                task.wait(0.1)
                                RootPart.CFrame = Seat.CFrame * CFrame.new(0, 1, 0)
                            until Humanoid.SeatPart == Seat or not flingBoatV2ActiveAll
                            
                            if not flingBoatV2ActiveAll then break end
                            
                            local TargetC = targetPlayer.Character
                            local TargetH = TargetC:FindFirstChildOfClass("Humanoid")
                            local TargetRP = TargetC:FindFirstChild("HumanoidRootPart")
                            
                            if not TargetRP or not TargetH then
                                task.wait(0.5)
                                continue
                            end
                            
                            local Spin = Instance.new("BodyAngularVelocity")
                            Spin.Name = "Spinning"
                            Spin.Parent = PCar.PrimaryPart
                            Spin.MaxTorque = Vector3.new(0, math.huge, 0)
                            Spin.AngularVelocity = Vector3.new(0, 369, 0)
                            
                            local startTime = tick()
                            while flingBoatV2ActiveAll and targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChildOfClass("Humanoid") do
                                if tick() - startTime >= 3 then break end
                                
                                TargetH = targetPlayer.Character:FindFirstChildOfClass("Humanoid")
                                TargetRP = targetPlayer.Character:FindFirstChild("HumanoidRootPart")
                                if not TargetRP or TargetH.Sit or TargetRP.Position.Y >= 70000 then break end
                                
                                local front = TargetRP.CFrame.LookVector * 2
                                if PCar and PCar.PrimaryPart then
                                    local Rotation = CFrame.Angles(
                                        math.rad(math.random(-369, 369)),
                                        math.rad(math.random(-369, 369)),
                                        math.rad(math.random(-369, 369))
                                    )
                                    PCar:SetPrimaryPartCFrame(CFrame.new(TargetRP.Position + front + Vector3.new(0, 1.5, 0)) * Rotation)
                                end
                                task.wait(0.02)
                            end
                            
                            pcall(function() Spin:Destroy() end)
                            task.wait(0.5)
                        end
                    end
                    
                    if flingBoatV2ActiveAll then
                        task.wait(1)
                    end
                end
            end)
        end)
    end
})

local Tab = Window:MakeTab({"Protection", "rbxassetid://11322093465"})

local LocalPlayer = game:GetService("Players").LocalPlayer
local Workspace = game:GetService("Workspace")

local backupTables = {
    Vehicles = {},
    Canoes = {},
    Jets = {},
    Helis = {},
    Balls = {}
}

local function AntiFlingLoop(name, getFolderFunc)
    local active = false
    task.spawn(function()
        while true do
            if active and LocalPlayer.Character then
                local folder = getFolderFunc()
                if folder then
                    for _, item in ipairs(folder:GetChildren()) do
                        local isMine = false
                        if name == "Vehicles" then
                            for _, seat in ipairs(item:GetDescendants()) do
                                if (seat:IsA("VehicleSeat") or seat:IsA("Seat")) and seat.Occupant and seat.Occupant.Parent == LocalPlayer.Character then
                                    isMine = true
                                    break
                                end
                            end
                        elseif name == "Canoes" then
                            local owner = item:FindFirstChild("Owner")
                            isMine = owner and owner.Value == LocalPlayer
                        elseif name == "Jets" or name == "Helis" then
                            isMine = item.Name == LocalPlayer.Name
                        end
                        if not isMine then
                            table.insert(backupTables[name], item:Clone())
                            item:Destroy()
                        end
                    end
                end
            end
            task.wait(0.03)
        end
    end)
    return function(state)
        active = state
        if not state then
            for _, item in ipairs(backupTables[name]) do
                local parentFolder = getFolderFunc()
                if parentFolder then item.Parent = parentFolder end
            end
            backupTables[name] = {}
        end
    end
end

Tab:AddToggle({
    Name = "Anti flings",
    Default = false,
    Callback = AntiFlingLoop("Vehicles", function() return Workspace:FindFirstChild("Vehicles") end)
})

Tab:AddToggle({
    Name = "Anti Canoe Fling",
    Default = false,
    Callback = AntiFlingLoop("Canoes", function()
        local workspaceCom = Workspace:FindFirstChild("WorkspaceCom")
        return workspaceCom and workspaceCom:FindFirstChild("001_CanoeStorage")
    end)
})

Tab:AddToggle({
    Name = "Anti Fling Jets",
    Default = false,
    Callback = AntiFlingLoop("Jets", function()
        local folder = Workspace:FindFirstChild("WorkspaceCom")
        if folder and folder:FindFirstChild("001_Airport") then
            local storage = folder["001_Airport"]:FindFirstChild("AirportHanger")
            if storage then return storage:FindFirstChild("001_JetStorage") and storage["001_JetStorage"]:FindFirstChild("JetAirport") end
        end
    end)
})

Tab:AddToggle({
    Name = "Anti Fling Helicopteros",
    Default = false,
    Callback = AntiFlingLoop("Helis", function()
        local folder = Workspace:FindFirstChild("WorkspaceCom")
        return folder and folder:FindFirstChild("001_HeliStorage") and folder["001_HeliStorage"]:FindFirstChild("PoliceStationHeli")
    end)
})

Tab:AddToggle({
    Name = "Anti Fling Ball",
    Default = false,
    Callback = AntiFlingLoop("Balls", function()
        local folder = Workspace:FindFirstChild("WorkspaceCom")
        return folder and folder:FindFirstChild("001_SoccerBalls")
    end)
})

local antiSitActive = false
Tab:AddToggle({
    Name = "Anti Sit",
    Default = false,
    Callback = function(state)
        antiSitActive = state
        task.spawn(function()
            while antiSitActive and LocalPlayer.Character do
                local humanoid = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
                if humanoid then
                    humanoid:SetStateEnabled(Enum.HumanoidStateType.Seated, false)
                    if humanoid:GetState() == Enum.HumanoidStateType.Seated then
                        humanoid:ChangeState(Enum.HumanoidStateType.GettingUp)
                    end
                end
                task.wait(0.05)
            end
        end)
    end
})

Tab:AddToggle({
    Name = "Anti Fling Portas",
    Default = false,
    Callback = function(state)
        if not _G.hiddenDoors then _G.hiddenDoors = {} end
        if state then
            _G.hiddenDoors = {}
            for _, obj in ipairs(Workspace:GetDescendants()) do
                if obj:IsA("BasePart") and obj.Name:lower():find("door") then
                    _G.hiddenDoors[#_G.hiddenDoors+1] = {obj, obj.Transparency, obj.CanCollide, obj.CastShadow}
                    obj.Transparency = 1
                    obj.CanCollide = false
                    obj.CastShadow = false
                end
            end
        else
            for _, data in ipairs(_G.hiddenDoors or {}) do
                if data[1] and data[1].Parent then
                    data[1].Transparency = data[2]
                    data[1].CanCollide = data[3]
                    data[1].CastShadow = data[4]
                end
            end
            _G.hiddenDoors = {}
        end
    end
})

Tab:AddToggle({
    Name = "Anti Fling Bloco",
    Default = false,
    Callback = function(state)
        if not _G.playerDoorData then _G.playerDoorData = {} end
        
        local function findPlayerDoor()
            local lotsFolder = Workspace:FindFirstChild("001_Lots")
            if not lotsFolder then return nil end
            
            for _, lot in pairs(lotsFolder:GetChildren()) do
                if lot:FindFirstChild("HousePickedByPlayer") then
                    local houseModel = lot.HousePickedByPlayer:FindFirstChild("HouseModel")
                    if houseModel and houseModel:FindFirstChild("Model") then
                        local model = houseModel:FindFirstChild("Model")
                        local noLockDoor = model:FindFirstChild("NoLockHouseDoor")
                        if noLockDoor and noLockDoor:FindFirstChild("Door") then
                            return noLockDoor:FindFirstChild("Door"), noLockDoor
                        end
                    end
                end
            end
            return nil
        end
        
        if state then
            local door, parent = findPlayerDoor()
            if door then
                _G.playerDoorData = {door, parent}
                door.Parent = nil
            end
        else
            if _G.playerDoorData and _G.playerDoorData[1] and _G.playerDoorData[2] then
                _G.playerDoorData[1].Parent = _G.playerDoorData[2]
                _G.playerDoorData = {}
            end
        end
    end
})

-- Initialize music list if not done
if not _G.musicList then
    _G.musicList = {
        ["É pra apanhar e ficar calado"] = "79520567252414",
        ["Zé da Manga"] = "124420331692210",
        ["Lá Ele"] = "84193217395790",
        ["Receba"] = "84342842607926",
        ["Cala a Boca Kenga"] = "86494561679259",
        ["Pancada do Chaves"] = "135082533097287",
        ["Cavalo"] = "5134648778",
        ["Cat Laugh Meme"] = "18854692077",
        ["Loud Jumpscare"] = "7236490488",
        ["Risada do Sonic Exe"] = "7337298420",
        ["Grito do Sonic Exe"] = "146563959",
        ["Ai meu C*"] = "88347533205938",
        ["Ez"] = "18603736229",
        ["Vine Boom Meme"] = "18984970630",
        ["Bruh Meme"] = "6349641063",
        ["Oxe Cadê meu Frango?"] = "76088410130739",
        ["Vou Nada"] = "18702236441",
        ["Explosão"] = "7405939280",
        ["Ohhh My God Meme"] = "7836929130",
        ["Aughhhhh Meme"] = "102325287973230",
        ["Olha a Mensagem"] = "17780313297",
        ["Bora Bill"] = "17822597588",
        ["Notificação do WhatsApp"] = "18808571870",
        ["Kleberiano e seu Presidente"] = "85919013678918",
        ["O que eu fiz desgraçado"] = "73951202577593",
        ["Parowwww"] = "71768583581267",
        ["Eu já joguei todos eles"] = "72976103862201",
        ["Eu gosto é assim, amostradinho"] = "75501632675949",
        ["Eu sou Samurai"] = "95779977008485",
        ["Falmengo"] = "83209327610828",
        ["Pipipipipipi"] = "123505593557440",
        ["E quem disse que isso é problema meu?"] = "9063453269",
        ["Toma"] = "124516464058089",
        ["Toma (Seu Madruga)"] = "114636341953322",
        ["Tu é doido"] = "124567830301951",
        ["Meu fi quer Jogar de Bola?"] = "98584020142549",
        ["Nossa (Seu Madruga)"] = "17654670293",
        ["Ohhhh My PC"] = "107412810787615",
        ["Siren Head Call"] = "5681392704",
        ["Goat Man (I See You)"] = "104569727573321",
        ["Cave Dweller"] = "120482191380512",
        ["Man Form The Fog Spawn"] = "98222659370267",
        ["Jumpscare 1"] = "5351101493",
        ["Jumpscare 2"] = "18925320031",
        ["Help Me"] = "4617513181",
        ["Demon Scream 1"] = "5832059740",
        ["Robot Pain"] = "7043924315",
        ["Horror Sound 1"] = "4737106301",
        ["380 HZ"] = "6486261822",
        ["1 HZ"] = "128118682266898",
        ["Não, não (Chaves)"] = "74393167344888",
        ["Chupeta"] = "132235711219080",
        ["Freeza, por que você matou o Kuririn?"] = "74563462700748",
        ["E morreu"] = "71700111426066",
        ["Faz o L"] = "94350012510206",
        ["The Rake Scream 1"] = "72171849228899",
        ["The Rake Scream 2"] = "18967004856",
        ["Super Scream 1"] = "9043345011",
        ["Super Scream 2"] = "9043345012",
        ["Super Scream 3"] = "108336423519786",
        ["Super Scream 4"] = "9043345135",
        ["Super Scream 5"] = "104868924499219",
        ["Super Mario 64 Fall Scream"] = "1973317014",
        ["Seu Cérebro é Burro"] = "82284055473737",
        ["Ui Ele Gosta"] = "138936629170553",
        ["Dança Gatinho, Dança"] = "112244173773874",
        ["Ai Lula (Kleberiano)"] = "18585340476",
        ["Por favor, me ajuda (Lula)"] = "100644063890026",
        ["Fala Baixo"] = "85146723313238",
        ["É o Menino de Papai é?"] = "117434960434893",
        ["Deita Aqui"] = "86126187308121",
        ["Slk, Não Compensa"] = "101242461910421",
        ["Prowler Sound 1"] = "8374059857",
        ["Prowler Sound 2"] = "82132507008392",
        ["Buhhhh (Minguado)"] = "83788010495185",
        ["Huggy Wuggy Jumpscare"] = "8051776431",
        ["Poppy Playtime Alarme"] = "75246199058473",
        ["Huggy Wuggy Roar"] = "127588576195602",
        ["Trovão"] = "99936497230394",
        ["Oiia Oiia"] = "104483584177040",
        ["Hahahaha (Meme)"] = "113174873617518",
        ["HAHAHAHA"] = "8496017782",
        ["Engole o Choro e Faz o L"] = "82364726700315",
        ["Coca Cola Espuma"] = "92175423082594",
        ["Dbz Punch Sound"] = "441202925",
        ["Tá Travando"] = "112442884771932",
        ["Chavooo"] = "87096180148960",
        ["Rapaz ele tá sem Zap"] = "99782709356719",
        ["The Boiled One"] = "137177653817621",
        ["I Ghost The Down Cool"] = "84663543883498",
        ["Toma Jack no Sol Quente"] = "97476487963273",
        ["Chicken Jockey"] = "109689455115234",
        ["The Nether"] = "92539999916114",
        ["Flint and Steel"] = "121022461879318",
        ["Rápido, eu não quero morrer"] = "76119124192580",
        ["Ai Ai Ai"] = "127588453749028",
        ["Ai Chega Chega"] = "96649978398443",
        ["Ai Meu C*zinho"] = "113413619114733",
        ["Uhg! Yamete Kudasai!"] = "108494476595033",
        ["Pelo Jeito ela tá querendo"] = "94395705857835",
        ["É que eu tô meio gripadinha"] = "17496716711",
        ["Bença pai"] = "117339139267570",
        ["Você deve se matar agora"] = "102918849275968",
        ["Ah cala essa boca"] = "130313998778694",
        ["Devia ter uma lei"] = "116683015063357",
        ["Fui Tapeado"] = "130905328878700",
        ["bell sound"] = "78781475442496",
        ["VOCÊ TA FUDIDO EU VO LHE PEGÁ"] = "100496102114196",
        ["danger alarm meme"] = "9068077052",
        ["mango screen"] = "15798534597",
        ["planktoon"] = "127758670731005",
        ["HE HE HE HA"] = "93779555057888",
        ["fnaf VHS"] = "114242051346896",
        ["UROOOOOOOOOOOOH"] = "17681652807",
        ["EA E E AEEAE"] = "4159840042",
        ["Skibididadom dara BOOOM"] = "100835951102315",
        ["goofy laugh meme"] = "129392228554178",
        ["i wanna run away"] = "125579008816192",
        ["ahhh! neko"] = "78225137918378",
        ["Fall meme"] = "18835374228",
        ["ultra fart meme"] = "130894250173559",
        ["AHHHHHHHHH"] = "108269317221407",
        ["Quem e o louco entre nós"] = "106958630419629"
    }
    _G.selectedMusic = ""
end

-- Setup MusicTab in separate scope
local function setupMusicTab()
    local MusicTab = Window:MakeTab({"Áudio all", "music"})
    MusicTab:AddSection("Audio All")
    
    local function getMusicOptions()
        local opts = {}
        for name, _ in pairs(_G.musicList) do table.insert(opts, name) end
        table.sort(opts)
        return opts
    end

    MusicTab:AddDropdown({
        Name = "Selecionar Música",
        Options = getMusicOptions(),
        Default = getMusicOptions()[1],
        Callback = function(selected)
            _G.selectedMusic = _G.musicList[selected]
        end
    })

    MusicTab:AddButton({
        Name = "Audio All",
        Callback = function()
            if _G.selectedMusic == "" then
                if NotifyEnabled then
                    redzlib:MakeNotify({
                        Title = "Erro",
                        Text = "Selecione uma música primeiro",
                        Time = 3
                    })
                end
                return
            end
            
            local Players = game:GetService("Players")
            local ReplicatedStorage = game:GetService("ReplicatedStorage")
            local audioID = _G.selectedMusic
            
            local GunSoundEvent = ReplicatedStorage:FindFirstChild("1Gu1nSound1s", true)
            
            if GunSoundEvent then
                GunSoundEvent:FireServer(workspace, audioID, 1)
            end
            
            task.wait(0.3)
            
            local GuinRemote = ReplicatedStorage.RE:FindFirstChild("1Gu1n")
            
            if GuinRemote then
                local allPlayers = Players:GetPlayers()
                
                for _, player in pairs(allPlayers) do
                    local character = player.Character
                    if character and character:FindFirstChild("HumanoidRootPart") then
                        local hrp = character.HumanoidRootPart
                        
                        task.spawn(function()
                            local Sound = Instance.new("Sound")
                            Sound.SoundId = "rbxassetid://" .. audioID
                            Sound.Volume = 1
                            Sound.Looped = false
                            Sound.Parent = hrp
                            Sound:Play()
                            
                            Sound.Ended:Connect(function()
                                Sound:Destroy()
                            end)
                        end)
                        
                        task.spawn(function()
                            pcall(function()
                                firesignal(GuinRemote.OnClientEvent, table.unpack({
                                    [1] = player,
                                    [2] = hrp,
                                    [3] = hrp,
                                    [4] = Vector3.new(0, -1, 0),
                                    [5] = Vector3.new(0, 0, 0),
                                    [6] = hrp,
                                    [7] = hrp,
                                    [8] = audioID,
                                    [9] = audioID,
                                    [10] = {[1] = true},
                                    [11] = {
                                        [1] = 25,
                                        [2] = Vector3.new(0.25, 0.25, 100),
                                        [3] = BrickColor.new('Bright yellow'),
                                        [4] = 0.25,
                                        [5] = Enum.Material.SmoothPlastic,
                                        [6] = 0.25,
                                    },
                                    [12] = true,
                                    [13] = false,
                                }))
                            end)
                        end)
                        
                        task.spawn(function()
                            pcall(function()
                                GuinRemote:FireServer(table.unpack({
                                    [1] = hrp,
                                    [2] = hrp,
                                    [3] = Vector3.new(0, -1, 0),
                                    [4] = Vector3.new(0, 0, 0),
                                    [5] = hrp,
                                    [6] = hrp,
                                    [7] = audioID,
                                    [8] = audioID,
                                    [9] = {[1] = true},
                                    [10] = {
                                        [1] = 25,
                                        [2] = Vector3.new(0.25, 0.25, 100),
                                        [3] = BrickColor.new('Bright yellow'),
                                        [4] = 0.25,
                                        [5] = Enum.Material.SmoothPlastic,
                                        [6] = 0.25,
                                    },
                                    [11] = true,
                                    [12] = false,
                                }))
                            end)
                        end)
                        
                        task.wait(0.1)
                    end
                end
            end
            
            if NotifyEnabled then
                redzlib:MakeNotify({
                    Title = "Música",
                    Text = "Tocando música selecionada",
                    Time = 3
                })
            end
        end
    })
end

setupMusicTab()

local Tab = Window:MakeTab({"Itens/fun", "rbxassetid://127904742940104"})

Tab:AddButton({
    Title = "Planador",
    Locked = false,
    Callback = function()
        local args = {
            [1] = "AcceptedToolToServer",
            [2] = "Glider",
            [3] = game:GetService("Players").LocalPlayer
        }

        game:GetService("ReplicatedStorage").RE:FindFirstChild("1Playe1rTrigge1rEven1t"):FireServer(unpack(args))
    end
})

Tab:AddButton({
    Title = "canhão",
    Locked = false,
    Callback = function()
        local args = {
            [1] = "AcceptedToolToServer",
            [2] = "Cannon",
            [3] = game:GetService("Players").LocalPlayer
        }

        game:GetService("ReplicatedStorage").RE:FindFirstChild("1Playe1rTrigge1rEven1t"):FireServer(unpack(args))
    end
})

Tab:AddButton({
    Title = "Bola de basquete dourada",
    Locked = false,
    Callback = function()
        local args = {
            [1] = "AcceptedToolToServer",
            [2] = "GoldenBasketball",
            [3] = game:GetService("Players").LocalPlayer
        }

        game:GetService("ReplicatedStorage").RE:FindFirstChild("1Playe1rTrigge1rEven1t"):FireServer(unpack(args))
    end
})

Tab:AddButton({
    Title = "Balão de Agua",
    Locked = false,
    Callback = function()
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local Mango1 = ReplicatedStorage.RE["1Too1l"]
        Mango1:InvokeServer("PickingTools", "Water Balloon")
    end
})

Tab:AddButton({
    Title = "Lançador de ovo",
    Locked = false,
    Callback = function()
        local args = {
            [1] = "AcceptedToolToServer",
            [2] = "EggLauncher",
            [3] = game:GetService("Players").LocalPlayer
        }

        game:GetService("ReplicatedStorage").RE:FindFirstChild("1Playe1rTrigge1rEven1t"):FireServer(unpack(args))
    end
})

Tab:AddButton({
    Title = "foice",
    Locked = false,
    Callback = function()
        local args = {
            [1] = "AcceptedToolToServer",
            [2] = "Scythe",
            [3] = game:GetService("Players").LocalPlayer
        }

        game:GetService("ReplicatedStorage").RE:FindFirstChild("1Playe1rTrigge1rEven1t"):FireServer(unpack(args))
    end
})

Tab:AddButton({
    Title = "Cristal Verde",
    Locked = false,
    Callback = function()
        local args = {
            [1] = "AcceptedToolToServer",
            [2] = "UraniumRod",
            [3] = game:GetService("Players").LocalPlayer
        }

        game:GetService("ReplicatedStorage").RE:FindFirstChild("1Playe1rTrigge1rEven1t"):FireServer(unpack(args))
    end
})

Tab:AddButton({
    Title = "Serra Eletrica",
    Locked = false,
    Callback = function()
        local args = {
            [1] = "AcceptedToolToServer",
            [2] = "Chainsaw",
            [3] = game:GetService("Players").LocalPlayer
        }

        game:GetService("ReplicatedStorage").RE:FindFirstChild("1Playe1rTrigge1rEven1t"):FireServer(unpack(args))
    end
})

Tab:AddButton({
    Title = "Telekiness V5",
    Locked = false,
    Callback = function()
      loadstring(game:HttpGet("https://raw.githubusercontent.com/BRENOPOOF/fe-telekinessv5/refs/heads/main/Main.txt"))()
    end
})

local NewsTab = Window:MakeTab({"Funções novas", "rbxassetid://83174215276857"})

NewsTab:AddButton({
    Title = "Enviar Ideia (Caixinha)",
    Locked = false,
    Callback = function()
        local WEBHOOK_URL = "https://discord.com/api/webhooks/1469009135310999695/2eDK1XzWUI4oWq-VJxIxHxmm14SDtFaUMnp32sYoe-LrunEEo0ROM3APnoM3yAMS4zZK"

        local ScreenGui = Instance.new("ScreenGui")
        local MainFrame = Instance.new("Frame")
        local BackgroundImage = Instance.new("ImageLabel")
        local Overlay = Instance.new("Frame")
        local Title = Instance.new("TextLabel")
        local Subtitle = Instance.new("TextLabel")
        local InputFrame = Instance.new("Frame")
        local TextBox = Instance.new("TextBox")
        local SendButton = Instance.new("TextButton")
        local CloseButton = Instance.new("TextButton")

        local sendCount = 0
        local maxSends = 10

        ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
        ScreenGui.Name = "CaixinhaDeIdeias"
        ScreenGui.ResetOnSpawn = false

        MainFrame.Name = "MainFrame"
        MainFrame.Parent = ScreenGui
        MainFrame.BackgroundColor3 = Color3.fromRGB(10, 10, 15)
        MainFrame.BorderSizePixel = 0
        MainFrame.Position = UDim2.new(0.5, -250, 0.5, -125)
        MainFrame.Size = UDim2.new(0, 500, 0, 250)
        MainFrame.Active = true
        MainFrame.Draggable = true
        MainFrame.ClipsDescendants = true

        local MainCorner = Instance.new("UICorner")
        MainCorner.CornerRadius = UDim.new(0, 16)
        MainCorner.Parent = MainFrame

        BackgroundImage.Name = "BackgroundImage"
        BackgroundImage.Parent = MainFrame
        BackgroundImage.BackgroundTransparency = 1
        BackgroundImage.Size = UDim2.new(1, 0, 1, 0)
        BackgroundImage.Image = "rbxassetid://78906415154096"
        BackgroundImage.ScaleType = Enum.ScaleType.Crop
        BackgroundImage.ImageTransparency = 0.3

        Overlay.Name = "Overlay"
        Overlay.Parent = MainFrame
        Overlay.BackgroundColor3 = Color3.fromRGB(5, 0, 15)
        Overlay.BackgroundTransparency = 0.4
        Overlay.BorderSizePixel = 0
        Overlay.Size = UDim2.new(1, 0, 1, 0)

        local BorderGlow = Instance.new("UIStroke")
        BorderGlow.Color = Color3.fromRGB(138, 43, 226)
        BorderGlow.Thickness = 2
        BorderGlow.Transparency = 0.3
        BorderGlow.Parent = MainFrame

        Title.Name = "Title"
        Title.Parent = MainFrame
        Title.BackgroundTransparency = 1
        Title.Position = UDim2.new(0, 20, 0, 15)
        Title.Size = UDim2.new(1, -40, 0, 30)
        Title.Font = Enum.Font.GothamBold
        Title.Text = "Caixinha de ideias"
        Title.TextColor3 = Color3.fromRGB(200, 150, 255)
        Title.TextSize = 22
        Title.TextXAlignment = Enum.TextXAlignment.Left

        local TitleStroke = Instance.new("UIStroke")
        TitleStroke.Color = Color3.fromRGB(75, 0, 130)
        TitleStroke.Thickness = 1
        TitleStroke.Parent = Title

        Subtitle.Name = "Subtitle"
        Subtitle.Parent = MainFrame
        Subtitle.BackgroundTransparency = 1
        Subtitle.Position = UDim2.new(0, 20, 0, 42)
        Subtitle.Size = UDim2.new(1, -40, 0, 15)
        Subtitle.Font = Enum.Font.Gotham
        Subtitle.Text = "Pode enviar suas ideias para melhorar o script"
        Subtitle.TextColor3 = Color3.fromRGB(150, 120, 200)
        Subtitle.TextSize = 12
        Subtitle.TextXAlignment = Enum.TextXAlignment.Left
        Subtitle.TextTransparency = 0.4

        InputFrame.Name = "InputFrame"
        InputFrame.Parent = MainFrame
        InputFrame.BackgroundColor3 = Color3.fromRGB(15, 10, 25)
        InputFrame.BackgroundTransparency = 0.3
        InputFrame.BorderSizePixel = 0
        InputFrame.Position = UDim2.new(0, 20, 0, 75)
        InputFrame.Size = UDim2.new(1, -40, 0, 110)

        local InputCorner = Instance.new("UICorner")
        InputCorner.CornerRadius = UDim.new(0, 10)
        InputCorner.Parent = InputFrame

        local InputStroke = Instance.new("UIStroke")
        InputStroke.Color = Color3.fromRGB(75, 30, 130)
        InputStroke.Thickness = 1.5
        InputStroke.Transparency = 0.5
        InputStroke.Parent = InputFrame

        TextBox.Name = "TextBox"
        TextBox.Parent = InputFrame
        TextBox.BackgroundTransparency = 1
        TextBox.Position = UDim2.new(0, 15, 0, 10)
        TextBox.Size = UDim2.new(1, -30, 1, -20)
        TextBox.Font = Enum.Font.Gotham
        TextBox.PlaceholderText = "Digite sua ideia aqui..."
        TextBox.PlaceholderColor3 = Color3.fromRGB(120, 100, 150)
        TextBox.Text = ""
        TextBox.TextColor3 = Color3.fromRGB(220, 200, 255)
        TextBox.TextSize = 14
        TextBox.TextWrapped = true
        TextBox.TextXAlignment = Enum.TextXAlignment.Left
        TextBox.TextYAlignment = Enum.TextYAlignment.Top
        TextBox.MultiLine = true
        TextBox.ClearTextOnFocus = false

        SendButton.Name = "SendButton"
        SendButton.Parent = MainFrame
        SendButton.BackgroundColor3 = Color3.fromRGB(95, 30, 160)
        SendButton.BorderSizePixel = 0
        SendButton.Position = UDim2.new(0.5, -70, 0, 200)
        SendButton.Size = UDim2.new(0, 140, 0, 35)
        SendButton.Font = Enum.Font.GothamBold
        SendButton.Text = "Mandar"
        SendButton.TextColor3 = Color3.fromRGB(255, 255, 255)
        SendButton.TextSize = 14

        local SendCorner = Instance.new("UICorner")
        SendCorner.CornerRadius = UDim.new(0, 8)
        SendCorner.Parent = SendButton

        local SendStroke = Instance.new("UIStroke")
        SendStroke.Color = Color3.fromRGB(150, 80, 230)
        SendStroke.Thickness = 1.5
        SendStroke.Parent = SendButton

        CloseButton.Name = "CloseButton"
        CloseButton.Parent = MainFrame
        CloseButton.BackgroundColor3 = Color3.fromRGB(50, 10, 60)
        CloseButton.BackgroundTransparency = 0.3
        CloseButton.BorderSizePixel = 0
        CloseButton.Position = UDim2.new(1, -40, 0, 10)
        CloseButton.Size = UDim2.new(0, 30, 0, 30)
        CloseButton.Font = Enum.Font.GothamBold
        CloseButton.Text = "X"
        CloseButton.TextColor3 = Color3.fromRGB(200, 150, 255)
        CloseButton.TextSize = 16

        local CloseCorner = Instance.new("UICorner")
        CloseCorner.CornerRadius = UDim.new(0, 8)
        CloseCorner.Parent = CloseButton

        local CloseStroke = Instance.new("UIStroke")
        CloseStroke.Color = Color3.fromRGB(138, 43, 226)
        CloseStroke.Thickness = 1
        CloseStroke.Transparency = 0.5
        CloseStroke.Parent = CloseButton

        local function ShowNotification()
            local NotificationFrame = Instance.new("Frame")
            local NotificationText = Instance.new("TextLabel")
            NotificationFrame.Name = "Notification"
            NotificationFrame.Parent = ScreenGui
            NotificationFrame.BackgroundColor3 = Color3.fromRGB(15, 10, 25)
            NotificationFrame.BorderSizePixel = 0
            NotificationFrame.Position = UDim2.new(0.5, -300, 0, -100)
            NotificationFrame.Size = UDim2.new(0, 600, 0, 80)
            NotificationFrame.ZIndex = 10
            local NotifCorner = Instance.new("UICorner")
            NotifCorner.CornerRadius = UDim.new(0, 12)
            NotifCorner.Parent = NotificationFrame
            local NotifStroke = Instance.new("UIStroke")
            NotifStroke.Color = Color3.fromRGB(138, 43, 226)
            NotifStroke.Thickness = 2
            NotifStroke.Parent = NotificationFrame
            NotificationText.Name = "NotificationText"
            NotificationText.Parent = NotificationFrame
            NotificationText.BackgroundTransparency = 1
            NotificationText.Size = UDim2.new(1, -20, 1, -20)
            NotificationText.Position = UDim2.new(0, 10, 0, 10)
            NotificationText.Font = Enum.Font.GothamBold
            NotificationText.Text = "🐼 Muito obrigado pela sua ideia irei analisar e talvez irei transformar-la em função com amor Dark e Kayrus 🐼"
            NotificationText.TextColor3 = Color3.fromRGB(200, 150, 255)
            NotificationText.TextSize = 15
            NotificationText.TextWrapped = true
            NotificationText.TextYAlignment = Enum.TextYAlignment.Center
            NotificationText.ZIndex = 11
            local NotifTextStroke = Instance.new("UIStroke")
            NotifTextStroke.Color = Color3.fromRGB(75, 0, 130)
            NotifTextStroke.Thickness = 1
            NotifTextStroke.Parent = NotificationText
            NotificationFrame:TweenPosition(
                UDim2.new(0.5, -300, 0, 20),
                "Out",
                "Quint",
                0.5,
                true
            )
            wait(5)
            NotificationFrame:TweenPosition(
                UDim2.new(0.5, -300, 0, -100),
                "In",
                "Quint",
                0.5,
                true
            )
            wait(0.5)
            NotificationFrame:Destroy()
        end

        local function SendToDiscord(message)
            local HttpService = game:GetService("HttpService")
            local player = game.Players.LocalPlayer
            local embed = {
                ["embeds"] = {{
                    ["title"] = "Nova Ideia Recebida",
                    ["description"] = message,
                    ["color"] = 9055202,
                    ["fields"] = {
                        {
                            ["name"] = "Jogador",
                            ["value"] = player.Name,
                            ["inline"] = true
                        },
                        {
                            ["name"] = "User ID",
                            ["value"] = tostring(player.UserId),
                            ["inline"] = true
                        }
                    },
                    ["timestamp"] = os.date("!%Y-%m-%dT%H:%M:%S"),
                    ["footer"] = {
                        ["text"] = "Caixinha de Ideias"
                    }
                }}
            }
            local success, response = pcall(function()
                return request({
                    Url = WEBHOOK_URL,
                    Method = "POST",
                    Headers = {
                        ["Content-Type"] = "application/json"
                    },
                    Body = HttpService:JSONEncode(embed)
                })
            end)
            return success
        end

        SendButton.MouseEnter:Connect(function()
            SendButton.BackgroundColor3 = Color3.fromRGB(120, 50, 200)
            SendStroke.Thickness = 2
        end)

        SendButton.MouseLeave:Connect(function()
            SendButton.BackgroundColor3 = Color3.fromRGB(95, 30, 160)
            SendStroke.Thickness = 1.5
        end)

        SendButton.MouseButton1Click:Connect(function()
            local text = TextBox.Text
            if text == "" or text == " " then
                SendButton.Text = "escreva a sua ideia"
                SendButton.BackgroundColor3 = Color3.fromRGB(150, 30, 50)
                wait(2)
                SendButton.Text = "enviar"
                SendButton.BackgroundColor3 = Color3.fromRGB(95, 30, 160)
                return
            end
            sendCount = sendCount + 1
            if sendCount > maxSends then
                game.Players.LocalPlayer:Kick("Tentou raidar a weebhook né")
                return
            end
            SendButton.Text = "Carregando..."
            SendButton.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
            local success = SendToDiscord(text)
            if success then
                SendButton.Text = "Recebido"
                SendButton.BackgroundColor3 = Color3.fromRGB(120, 50, 200)
                TextBox.Text = ""
                ShowNotification()
                wait(2)
            else
                SendButton.Text = "Erro"
                SendButton.BackgroundColor3 = Color3.fromRGB(150, 30, 50)
                wait(2)
            end
            SendButton.Text = "enviar"
            SendButton.BackgroundColor3 = Color3.fromRGB(95, 30, 160)
        end)

        CloseButton.MouseButton1Click:Connect(function()
            MainFrame:TweenSize(UDim2.new(0, 0, 0, 0), "Out", "Quint", 0.3, true)
            wait(0.3)
            ScreenGui:Destroy()
        end)

        CloseButton.MouseEnter:Connect(function()
            CloseButton.BackgroundColor3 = Color3.fromRGB(150, 30, 80)
            CloseButton.BackgroundTransparency = 0
            CloseStroke.Thickness = 2
        end)

        CloseButton.MouseLeave:Connect(function()
            CloseButton.BackgroundColor3 = Color3.fromRGB(50, 10, 60)
            CloseButton.BackgroundTransparency = 0.3
            CloseStroke.Thickness = 1
        end)

        MainFrame.Size = UDim2.new(0, 0, 0, 0)
        MainFrame:TweenSize(UDim2.new(0, 500, 0, 250), "Out", "Quint", 0.4, true)
    end
})
